<!DOCTYPE html>
<!--
     ____  ___ _ ____ ___ _
    / __ \/ __` / ___/ __` /
   / /_/ / /_/ / /  / /_/ /
  / .___/\__,_/_/   \__,_/ io.org
 /_/

-->
<html lang="en-us" class="no-js">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Para - Documentation</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="google-site-verification" content="YXojLKu08NjIbC9uXuTBV-TmbaEHNGjyqaFcCzVyD-U" />
		<meta property="og:image" content="https://paraio.org/apple-touch-icon-precomposed.png">
		<link rel="image_src" href="https://paraio.org/apple-touch-icon-precomposed.png">
		<link rel="canonical" href="https://paraio.org">

			<!-- Bootswatch Theme CSS -->
			<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet">

		<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
		<link href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css" rel="stylesheet">
		<link href="https://cdn.rawgit.com/konpa/devicon/89f2f44ba07ea3fff7e561c2142813b278c2d6c6/devicon.min.css" rel="stylesheet">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,700">
		<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
		<link href="/css/main.css" rel="stylesheet">
	</head>
	<body>
		<!--  Navigation  -->
		<nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
			<div class="container">
				<div class="navbar-header page-scroll">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
						<i class="fa fa-bars"></i>
					</button>
					<a class="navbar-brand" href="/">
						<img src="/img/logo.svg" width="121" height="39" alt="logo"/>
					</a>
				</div>
		
				<!-- Collect the nav links, forms, and other content for toggling -->
				<div class="collapse navbar-collapse navbar-right navbar-main-collapse">
					<ul class="nav navbar-nav">
						<!-- Hidden li included to remove active class from about link when scrolled up past about section -->
						<li class="hidden">
							<a href="/#page-top"></a>
						</li>
						<li>
							<a href="/docs/">Docs</a>
						</li>
						<li class="page-scroll">
							<a href="/#download">Download</a>
						</li>
						<li class="page-scroll">
							<a href="https://console.paraio.org">Console</a>
						</li>
						<li class="page-scroll">
							<a href="/#about">About</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>		<!-- Main Content -->
		
<section id="docs" class="top-section">
	<div class="container">
		<div class="col-lg-3 hidden-md hidden-sm hidden-xs">
			<nav id="sidebar">
				<h1>Docs</h1>
				
				<form id="filter-form" role="form" action="#">
					<input type="text" placeholder="Filter by keyword" class="form-control">
				</form>
				
				<ul id="links">
							<li><a href="#001-intro">Introduction</a></li>
				
						<li>
							<h4>Getting Started</h4>
							<ul>
										<li class=""><a href="#002-standalone">Standalone mode</a></li>
										<li class=""><a href="#003-maven">Maven</a></li>
										<li class=""><a href="#004-paraobject">The ParaObject interface</a></li>
							</ul>
						</li>
						<li>
							<h4>Configuration</h4>
							<ul>
										<li class=""><a href="#005-config">The Config</a></li>
										<li class=""><a href="#006-modules">Modules</a></li>
										<li class=""><a href="#007-env">Environment</a></li>
										<li class=""><a href="#008-plugins">Plugins</a></li>
							</ul>
						</li>
						<li>
							<h4>Core classes</h4>
							<ul>
										<li class=""><a href="#009-core">Core classes</a></li>
										<li class=""><a href="#010-userdefined">User-defined classes</a></li>
										<li class=""><a href="#011-annotations">Annotations</a></li>
										<li class=""><a href="#011-apps">Apps</a></li>
										<li class=""><a href="#011-validations">Validations</a></li>
										<li class=""><a href="#012-permissions">Resource permissions</a></li>
							</ul>
						</li>
						<li>
							<h4>Persistence</h4>
							<ul>
										<li class=""><a href="#012-dao">DAO interface</a></li>
										<li class=""><a href="#013-cassandra">Cassandra</a></li>
										<li class=""><a href="#013-dynamodb">DynamoDB</a></li>
										<li class=""><a href="#013-mongodb">MongoDB</a></li>
										<li class=""><a href="#014-h2">H2 DB</a></li>
							</ul>
						</li>
						<li>
							<h4>Search</h4>
							<ul>
										<li class=""><a href="#015-search">Search interface</a></li>
										<li class=""><a href="#016-elasticsearch">Elasticsearch</a></li>
										<li class=""><a href="#016-lucene">Lucene</a></li>
							</ul>
						</li>
						<li>
							<h4>Cache</h4>
							<ul>
										<li class=""><a href="#017-cache">Cache interface</a></li>
										<li class=""><a href="#018-hazelcast">Hazelcast</a></li>
							</ul>
						</li>
						<li>
							<h4>Linked objects</h4>
							<ul>
										<li class=""><a href="#019-one-to-many">One-to-many</a></li>
										<li class=""><a href="#020-many-to-many">Many-to-many</a></li>
							</ul>
						</li>
						<li>
							<h4>IoT</h4>
							<ul>
										<li class=""><a href="#021-iot-aws">AWS IoT</a></li>
										<li class=""><a href="#021-iot-azure">Azure IoT</a></li>
							</ul>
						</li>
						<li>
							<h4>I18n</h4>
							<ul>
										<li class=""><a href="#021-translations">Translations</a></li>
										<li class=""><a href="#022-languages">Languages</a></li>
							</ul>
						</li>
						<li>
							<h4>Utilities</h4>
							<ul>
										<li class=""><a href="#023-filters">Filters</a></li>
										<li class=""><a href="#023-utilities">Misc. utilities</a></li>
										<li class=""><a href="#024-humantime">HumanTime</a></li>
										<li class=""><a href="#025-pager">Pager</a></li>
										<li class=""><a href="#026-email">Email</a></li>
										<li class=""><a href="#027-queue">Queue</a></li>
										<li class=""><a href="#028-storage">Storage</a></li>
							</ul>
						</li>
						<li>
							<h4>Security</h4>
							<ul>
										<li class=""><a href="#029-passwords">Simple authentication</a></li>
										<li class=""><a href="#030-ldap">LDAP support</a></li>
										<li class=""><a href="#030-oauth">OAuth 2.0 support</a></li>
										<li class=""><a href="#030-openid">OpenID support</a></li>
										<li class=""><a href="#031-facebook">Facebook support</a></li>
										<li class=""><a href="#031-github">GitHub support</a></li>
										<li class=""><a href="#031-google">Google support</a></li>
										<li class=""><a href="#031-linkedin">LinkedIn support</a></li>
										<li class=""><a href="#031-microsoft">Microsoft support</a></li>
										<li class=""><a href="#031-twitter">Twitter support</a></li>
										<li class=""><a href="#032-roles">Groups and roles</a></li>
										<li class=""><a href="#033-csrf">CSRF protection</a></li>
							</ul>
						</li>
						<li>
							<h4>REST API</h4>
							<ul>
										<li class=""><a href="#033-restauth">Authentication</a></li>
										<li class=""><a href="#034-api-intro">API methods</a></li>
										<li class="POST"><a href="#034-api-jwt-signin">Sign in (JWT)</a></li>
										<li class="GET"><a href="#035-api-jwt-refresh">Token refresh (JWT)</a></li>
										<li class="DELETE"><a href="#035-api-jwt-revoke">Revoke all tokens (JWT)</a></li>
										<li class="POST"><a href="#036-api-create">Create object</a></li>
										<li class="GET"><a href="#037-api-read">Read object</a></li>
										<li class="PUT"><a href="#038-api-overwrite">Overwrite object</a></li>
										<li class="PATCH"><a href="#038-api-update">Update object</a></li>
										<li class="DELETE"><a href="#039-api-delete">Delete object</a></li>
										<li class="POST"><a href="#040-api-batch-create">Batch create</a></li>
										<li class="GET"><a href="#041-api-batch-read">Batch read</a></li>
										<li class="PATCH"><a href="#042-api-batch-update">Batch update</a></li>
										<li class="DELETE"><a href="#043-api-batch-delete">Batch delete</a></li>
										<li class="GET"><a href="#044-api-basicsearch">Basic search</a></li>
										<li class="GET"><a href="#045-api-search">Advanced search</a></li>
										<li class="GET"><a href="#046-api-links-get">Find linked objects</a></li>
										<li class="POST"><a href="#047-api-links-link">Link objects</a></li>
										<li class="DELETE"><a href="#048-api-links-unlink">Unlink objects</a></li>
										<li class="PUT"><a href="#049-api-constraints-add">Add constraint</a></li>
										<li class="GET"><a href="#049-api-constraints-get">List constraints</a></li>
										<li class="DELETE"><a href="#049-api-constraints-rem">Remove constraint</a></li>
										<li class="GET"><a href="#049-api-id">Read by id</a></li>
										<li class="GET"><a href="#049-api-me">Me object</a></li>
										<li class="GET"><a href="#049-api-types-list">List types</a></li>
										<li class="GET"><a href="#050-api-permissions-check">Check permission</a></li>
										<li class="GET"><a href="#050-api-permissions-get">List permissions</a></li>
										<li class="PUT"><a href="#050-api-permissions-grant">Grant permissions</a></li>
										<li class="DELETE"><a href="#050-api-permissions-revoke">Revoke permissions</a></li>
										<li class="GET"><a href="#050-api-settings-get">List custom settings</a></li>
										<li class="PUT"><a href="#050-api-settings-put">Add custom setting</a></li>
										<li class="DELETE"><a href="#050-api-settings-rem">Remove custom setting</a></li>
										<li class="GET"><a href="#050-api-setup-child">Child app setup</a></li>
										<li class="GET"><a href="#050-api-setup">Initial setup</a></li>
										<li class="POST"><a href="#051-api-newkeys">Reset API keys</a></li>
										<li class="GET"><a href="#052-api-utils">Utilities</a></li>
							</ul>
						</li>
				</ul>
			</nav>
		</div>
		<div class="col-lg-9">
			<section id="content">
					<a id="001-intro" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Introduction</h2>
						<section class="body  img-rounded">
							<p>Para is a flexible backend service, created as an open-source project in the year 2013.
It was born out of our need to have a robust system which would allow us to persist objects easily to anything -
RDBMS, NoSQL and in-memory databases. We needed a simple solution with an API which would scale well and provide a
solid foundation for our future projects.</p>
<p>Para is a <strong>3-tier backend system</strong> with a REST API in front of it. The first tier is the <strong>database</strong>, the second
tier is the <strong>search index</strong> and the third is the <strong>cache</strong>. Depending on how you use it, Para can either be a
standalone backend service or a persistence framework that is part of your code base.</p>
<p>Para is multitenant, which means you can deploy it as a standalone service on one or more nodes and host one or more
applications on it (“apps”). An app can be a website, mobile app, desktop app or even a command-line tool.
This is made possible by the REST API which talks JSON to your apps, and with the help of the client libraries below,
it’s easy to get started. If you’re building an application on the JVM, you can also add Para as Maven dependency to
your project. You can still keep the REST API or turn it off completely.</p>
<h3 id="quick-start">Quick start</h3>
<ol>
<li><a href="https://github.com/erudika/para/releases">Download the WAR</a></li>
<li>Run it with <code>java -jar -Dconfig.file=./application.conf para-*.war</code></li>
<li>Call <code>curl localhost:8080/v1/_setup</code> to get the access and secret keys</li>
<li>Open the <a href="https://console.paraio.org">Para Web Console</a> or use one of the provided
client libraries below to connect to the API.</li>
</ol>
<p>The root app (the initial Para app) is automatically created. If you want to create multiple apps then you must
call <code>Para.newApp()</code> or make an authenticated request to the API <code>GET /v1/_setup/{app_name}</code>.</p>
<p>Users are created either from Java code <code>new User().create()</code> or by making an API request to <code>POST /v1/jwt_auth</code>. See
<a href="#034-api-jwt-signin">Sign in</a> or [] sections for more details.</p>
<p>Configuration properties belong in your <code>application.conf</code> file.
Here’s an example configuration for development purposes:</p>
<pre><code># the name of your app
para.app_name = &quot;My App&quot;
# or set it to &#39;production&#39;
para.env = &quot;embedded&quot;
# allows clients to register any user with any email
para.security.allow_unverified_emails = true
# if hosting multiple apps on Para, set this to false
para.clients_can_access_root_app = true
# no need for caching in dev mode
para.cache_enabled = false
# change this to a random string
para.app_secret_key = &quot;b8db69a24a43f2ce134909f164a45263&quot;
# enable API request signature checking
para.security.api_security = true
</code></pre><p>The quickest way to interact with Para is through the <a href="https://github.com/Erudika/para-cli">command-line tool</a> (CLI):</p>
<pre><code>$ npm install -g para-cli
$ para-cli ping
$ echo <span class="hljs-string">"{\"type\":\"todo\", \"name\": \"buy milk\"}"</span> &gt; todo.json
$ para-cli create todo.json --id todo1 --encodeId <span class="hljs-literal">false</span>
$ para-cli read --id todo1
$ para-cli search <span class="hljs-string">"type:todo"</span>
</code></pre><p>The Java client for Para is a separate module with these Maven coordinates:</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.erudika<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>para-client<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>{VERSION}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>In your own project you can create a new <code>ParaClient</code> instance like so:</p>
<pre><code class="lang-java">ParaClient pc = <span class="hljs-keyword">new</span> ParaClient(accessKey, secretKey);
<span class="hljs-comment">// for development the default endpoint is http://localhost:8080</span>
pc.setEndpoint(paraServerURL);
<span class="hljs-comment">// send a test request - this should return a JSON object of type 'app'</span>
pc.me();
</code></pre>
<blockquote>
<p>We’ve built a full-blown StackOverflow clone with Para in just about 4000 lines of code - check it out at <a href="https://scoold.com">https://scoold.com</a></p>
</blockquote>
<h3 id="client-libraries">Client libraries</h3>
<div class="row">
  <div class="col-sm-4 text-center">
        <a href="https://github.com/Erudika/para/tree/master/para-client" class="btn-client">
            <i class="devicon-java-plain-wordmark"></i>
        </a>
    </div>
  <div class="col-sm-4 text-center">
        <a href="https://github.com/Erudika/para-client-js" class="btn-client">
            <i class="devicon-javascript-plain"></i>
        </a>
    </div>
  <div class="col-sm-4 text-center">
        <a href="https://github.com/Erudika/para-client-php" class="btn-client">
            <i class="devicon-php-plain"></i>
        </a>
    </div>
</div>
<div class="row">
    <div class="col-sm-4 text-center">
        <a href="https://github.com/Erudika/para-client-csharp" class="btn-client">
            <i class="devicon-dot-net-plain-wordmark"></i>
        </a>
    </div>
  <div class="col-sm-4 text-center">
        <a href="https://github.com/Erudika/para-client-android" class="btn-client">
            <i class="devicon-android-plain"></i>
        </a>
    </div>
  <div class="col-sm-4 text-center">
        <a href="https://github.com/Erudika/para-client-ios" class="btn-client">
            <i class="devicon-apple-original"></i>
        </a>
    </div>
</div>

<h3 id="building-para">Building Para</h3>
<p>Para can be compiled with JDK 6 and up, but using JDK 8+ is recommended.</p>
<p>To compile it you’ll need Maven. Once you have it, just clone and build:</p>
<pre><code class="lang-sh">$ git <span class="hljs-built_in">clone</span> https://github.com/erudika/para.git &amp;&amp; <span class="hljs-built_in">cd</span> para
$ mvn install -DskipTests=<span class="hljs-literal">true</span>
</code></pre>
<p>To generate the executable “uber-war” run <code>$ mvn package</code> and it will be in <code>./para-war/target/para-x.y.z-SNAPSHOT.war</code>.
Two WAR files will be generated in total - the fat one is a bit bigger in size.</p>
<p>To run a local instance of Para for development, use:</p>
<pre><code class="lang-sh">$ mvn spring-boot:run
</code></pre>

						</section>
					</article>
					<a id="002-standalone" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Standalone mode</h2>
						<section class="body  img-rounded">
							<p>There are two ways to run Para as a standalone server. The first one is by downloading the executable WAR file and executing it:</p>
<pre><code class="lang-bash">java -jar para-X.Y.Z.war
</code></pre>
<p>The WAR contains an embedded Jetty server and bundles together all the necessary libraries. This is the simplest and
recommended way to run Para.</p>
<p>Running a standalone server allows you to build a cluster of distributed Para nodes and connect to it
through the REST API. Here’s a simple diagram of that architecture:</p>
<pre>
+----------+ +----------+ +-----------+
|API Client| |API Client| |API Client |
+----+-----+ +-----+----+ +----+------+
     |             |           |
+----+-------------+-----------+------+
|        REST API over HTTPS          |
+----+-------------+-----------+------+
|       Cluster Load Balancer         |
+------+------+------+------+---------+
                   |
     +------------------ ... ----+
     |             |             |
+----+----+   +----+----+   +----+----+
| Your app|   | Your app|   | Your app|
+---------+   +---------+   +---------+
| Cache   |   | Cache   |   | Cache   |  \
+---------+   +---------+   +---------+   \
| Search  |   | Search  |   | Search  |    } Para
+---------+   +---------+   +---------+   /
| Database|   | Database|   | Database|  /
+---------+   +---------+   +---------+

  Node 1        Node 2   ...  Node N

</pre>

<h2 id="deploying-to-a-servlet-container">Deploying to a servlet container</h2>
<p>Another option is to deploy the WAR file to a servlet container like Tomcat or GlassFish, for example.</p>
<p><strong>Note:</strong> We recommend deploying the Para at the root context <code>/</code>. You can do this by renaming the WAR file
to <code>ROOT.war</code> before deploying. See <a href="#005-config">the Config</a> for more details about configuring your deployment.</p>
<blockquote>
<p>Check the <a href="https://github.com/erudika/para/releases">releases page</a> for the latest WAR package.</p>
</blockquote>

						</section>
					</article>
					<a id="003-maven" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Maven</h2>
						<section class="body  img-rounded">
							<p>Para is hosted on Maven Central. To add it to your project just include this into your <code>pom.xml</code>:</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.erudika<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>para-server<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>{VERSION}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>For building lightweight client-only applications connecting to Para, include only the client module:</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.erudika<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>para-client<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>{VERSION}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h3 id="javadocs">Javadocs</h3>
<p><a href="/javadocs-core/" class="btn btn-default">para-core</a> &nbsp;
<a href="/javadocs-server/" class="btn btn-default">para-server</a> &nbsp;
<a href="/javadocs-client/" class="btn btn-default">para-client</a></p>

						</section>
					</article>
					<a id="004-paraobject" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>The ParaObject interface</h2>
						<section class="body  img-rounded">
							<p>All domain classes in Para implement the <code>ParaObject</code> interface which gives objects basic common properties like
<code>id</code>, <code>timestamp</code>, <code>name</code>, etc. Let’s say you have a plain old Java object like this:</p>
<pre><code class="lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>{
    <span class="hljs-keyword">public</span> String name;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> age;
}
</code></pre>
<p>and you want to turn it into persistable Para objects. You can do it by just adding one annotation and
implementing <code>ParaObject</code>:</p>
<pre><code class="lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">ParaObject</span> </span>{
    <span class="hljs-meta">@Stored</span> <span class="hljs-keyword">public</span> String name;
    <span class="hljs-meta">@Stored</span> <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> age;
}
</code></pre>
<p>This allows you do call <code>create()</code>, <code>update()</code>, <code>delete()</code> on that object <strong>and</strong> enables search indexing automatically.
Now you can do:</p>
<pre><code class="lang-java">User u = <span class="hljs-keyword">new</span> User();
u.setName(<span class="hljs-string">"Gordon Freeman"</span>);
u.setAge(<span class="hljs-number">40</span>);
<span class="hljs-comment">// generates a new id and persists the object</span>
String id = u.create();
</code></pre>
<p>Once the objects is created and persisted we can search for it like this:</p>
<pre><code class="lang-java"><span class="hljs-comment">// returns a list of users found</span>
List&lt;User&gt; users = Para.getSearch().findQuery(u.getType(), <span class="hljs-string">"freeman"</span>);
</code></pre>
<p>And here’s what a Para object looks like as JSON when returned from the REST API:</p>
<pre><code class="lang-json">{
  <span class="hljs-attr">"id"</span> : <span class="hljs-string">"572040968316915712"</span>,
  <span class="hljs-attr">"timestamp"</span> : <span class="hljs-number">1446469779546</span>,
  <span class="hljs-attr">"type"</span> : <span class="hljs-string">"user"</span>,
  <span class="hljs-attr">"appid"</span> : <span class="hljs-string">"para"</span>,
  <span class="hljs-attr">"updated"</span> : <span class="hljs-number">1446469780024</span>,
  <span class="hljs-attr">"name"</span> : <span class="hljs-string">"Gordon Freeman"</span>,
  <span class="hljs-attr">"votes"</span> : <span class="hljs-number">0</span>,
  <span class="hljs-attr">"identifier"</span> : <span class="hljs-string">"fb:1000123456789"</span>,
  <span class="hljs-attr">"groups"</span> : <span class="hljs-string">"admins"</span>,
  <span class="hljs-attr">"active"</span> : <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"email"</span> : <span class="hljs-string">"g.freeman@blackmesa.com"</span>,
  <span class="hljs-attr">"objectURI"</span> : <span class="hljs-string">"/users/572040968316915712"</span>,
  <span class="hljs-attr">"plural"</span> : <span class="hljs-string">"users"</span>
}
</code></pre>
<h3 id="implementing-your-own-paraobject-classes">Implementing your own <code>ParaObject</code> classes</h3>
<p><strong>This step is optional.</strong> There was a question about how to implement <code>ParaObject</code> and where to start from.
First of all, there is no need to write your own custom classes if you’re going to be using them for simple stuff.
So step one is to take a look at the generic class called <code>Sysprop</code>. Look at the
<a href="https://github.com/Erudika/para/blob/master/para-core/src/main/java/com/erudika/para/core/Sysprop.java">source code on GitHub</a>.
It’s pretty simple and implements all of <code>ParaObject</code>‘s methods. Then you have to decide if you can work with that
generic class or not. If you really need custom properties and methods then that class is a good starting point.
Just copy the getters and setters and add your own fields and methods.</p>
<p>Another option is to extend <code>Sysprop</code> like so:</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyParaObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Sysprop</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">ParaObject</span> </span>{
    <span class="hljs-comment">// 'implements ParaObject' is redundant in this case</span>

    <span class="hljs-meta">@Stored</span>
    <span class="hljs-keyword">public</span> String myCustomField;
    <span class="hljs-comment">// this field is ignored and not stored anywhere</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">transient</span> String secretKey;

    <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> write getters &amp; setters...</span>
}
</code></pre>
<p>This is a quick way of having your own classes that work with Para and it spares you the writing of all the boilerplate code.
You can later override the parent methods, for example if you need to execute some custom code on <code>create()</code>:</p>
<pre><code class="lang-java"><span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">create</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// TODO; write your own code here</span>
    <span class="hljs-keyword">return</span> dao.create(getAppid(), <span class="hljs-keyword">this</span>); <span class="hljs-comment">// this writes to DB</span>
}
</code></pre>
<h3 id="fine-tuning-backend-operations">Fine-tuning backend operations</h3>
<p>From version 1.18 Para objects have three new flags - <code>stored</code>, <code>indexed</code> and <code>cached</code>. These flags turn on and off
the three main operations - persistence, indexing and caching. Developers can choose to switch off caching on a number
of objects that change very often, for example. Also some objects my be hidden from search by setting the <code>indexed: false</code>
flag. And finally you can turn off persistence completely with <code>stored: false</code> and thus have objects that
live only in memory (and search index) but are never stored in the database.</p>

						</section>
					</article>
					<a id="005-config" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>The Config</h2>
						<section class="body  img-rounded">
							<p>Once deployed, Para will initialize itself by loading the default configuration file <code>reference.conf</code>.
To load your own configuration you need to set one of the following system properties:</p>
<ul>
<li><code>config.resource</code> specifies a resource name - not a basename, i.e. ‘application.conf’ and not ‘application’</li>
<li><code>config.file</code> specifies a filesystem path, again it should include the file extension</li>
<li><code>config.url</code> specifies the URL from which to load the config file</li>
</ul>
<p>You need to set these properties before calling <code>Para.initialize()</code> or at the startup of your servlet container.
If you have a file called <code>application.conf</code> or <code>application.json</code> on the classpath, Para will pick it up automatically.</p>
<p>Here’s a sample <code>application.conf</code> file:</p>
<pre><code>para.env = <span class="hljs-string">"embedded"</span>
para.print_logo = <span class="hljs-literal">true</span>
para.security.api_security = <span class="hljs-literal">true</span>
para.security.csrf_protection = <span class="hljs-literal">true</span>
</code></pre><p>The configuration logic is to read system properties first, then environment properties and finally check the config file.
So the order of precedence is as follows:</p>
<pre><code>System.getProperty() &gt; System.getenv() &gt; application.conf
</code></pre><p>Note that environment properties containing <code>.</code> (dots) are invalid and will be replaced with <code>_</code> (underscore).
For example, the environment property <code>$para_env</code> is equivalent to <code>para.env</code> in the config file.</p>
<blockquote>
<p><strong>Important:</strong> In a production environment, set <code>para.app_secret_key</code> to some randomly generated secret string.
This is important for securing your server because this secret key is used for signing and verifying authentication tokens.</p>
</blockquote>
<p>Here’s a list of all configuration properties that can be set in the config file:</p>
<table class="table table-striped">
    <thead>
        <tr>
            <th>Configuration Property</th>
            <th>Default Value</th>
        </tr>
    </thead>
    <tbody>
        <tr><td><code>para.env</code>                                    </td><td>    <code>embedded</code></td></tr>
        <tr><td>Enables/disables certain features, depending on the environment. Can be “production”, “development”, “embedded”.  </td><td></td></tr>
        <tr><td><code>para.print_logo</code>                        </td><td><code>true</code></td></tr>
        <tr><td>If <code>true</code>, the Para ASCII logo and version will be displayed on startup.</td><td></td></tr>
        <tr><td><code>para.aws_access_key</code>                </td><td>-</td></tr>
        <tr><td>AWS access key for connecting Para to AWS.</td><td></td></tr>
        <tr><td><code>para.aws_secret_key</code>                </td><td>-</td></tr>
        <tr><td>AWS secret. Make sure the config file with the secret is in your <code>.gitignore</code>.</td><td></td></tr>
        <tr><td><code>para.aws_region</code>                        </td><td><code>eu-west-1</code></td></tr>
        <tr><td>The AWS region string.</td><td></td></tr>
        <tr><td><code>para.dao</code>                                    </td><td>-</td></tr>
        <tr><td>Selects the <code>DAO</code> implementation at runtime. Can be <code>AWSDynamoDAO</code> or    “dynamodb”, “MongoDBDAO”,
        “CassandraDAO”, etc. Each implementation has its own configuration properties. Defaults to <code>H2DAO</code>. </td><td></td></tr>
        <tr><td><code>para.search</code>                                </td><td>-</td></tr>
        <tr><td>Selects the <code>Search</code> implementation at runtime. Defaults to <code>LuceneSearch</code>.</td><td></td></tr>
        <tr><td><code>para.cache</code>                                </td><td>-</td></tr>
        <tr><td>Selects the <code>Cache</code> implementation at runtime. Use <code>inmemory</code> for develompment. Defaults to <code>hazelcast</code>.</td><td></td></tr>
        <tr><td><code>para.fb_app_id</code>                        </td><td>-</td></tr>
        <tr><td>Facebook app id (for OAuth authentication).</td><td></td></tr>
        <tr><td><code>para.fb_secret</code>                        </td><td>-</td></tr>
        <tr><td>Facebook app secret. </td><td></td></tr>
        <tr><td><code>para.gp_app_id</code>                        </td><td>-</td></tr>
        <tr><td>Google+ app id (for OAuth authentication). </td><td></td></tr>
        <tr><td><code>para.gp_secret</code>                        </td><td>-</td></tr>
        <tr><td>Google+ app secret. </td><td></td></tr>
        <tr><td><code>para.in_app_id</code>                        </td><td>-</td></tr>
        <tr><td>LinkedIn app id (for OAuth authentication) </td><td></td></tr>
        <tr><td><code>para.in_secret</code>                        </td><td>-</td></tr>
        <tr><td>LinkedIn app secret. </td><td></td></tr>
        <tr><td><code>para.tw_app_id</code>                        </td><td>-</td></tr>
        <tr><td>Twitter app id (for authentication). </td><td></td></tr>
        <tr><td><code>para.tw_secret</code>                        </td><td>-</td></tr>
        <tr><td>Twitter app secret. </td><td></td></tr>
        <tr><td><code>para.gh_app_id</code>                        </td><td>-</td></tr>
        <tr><td>GitHub app id (for OAuth authentication). </td><td></td></tr>
        <tr><td><code>para.gh_secret</code>                        </td><td>-</td></tr>
        <tr><td>GitHub app secret. </td><td></td></tr>
        <tr><td><code>para.ms_app_id</code>                        </td><td>-</td></tr>
        <tr><td>Microsoft app id (for OAuth authentication). </td><td></td></tr>
        <tr><td><code>para.ms_secret</code>                        </td><td>-</td></tr>
        <tr><td>Microsoft app secret. </td><td></td></tr>
        <tr><td><code>para.admin_ident</code>                    </td><td>-</td></tr>
        <tr><td>This is the identifier that will be used by the first admin user. It can be the email which the admin
        user will use to login or a social id in the form of <code>prefix:social_id</code>, e.g. <code>fb:12345</code>. It is used to assign
        administrative privileges to the user with that identifier.</td><td></td></tr>
        <tr><td><code>para.worker_id</code>                        </td><td><code>1</code></td></tr>
        <tr><td>Node number, 1 to 128. Used for ID generation. Each instance of Para has to have a different worker id. </td><td></td></tr>
        <tr><td><code>para.app_name</code>                            </td><td><code>para</code></td></tr>
        <tr><td>The name of the root app - the main app which is used for initializing Para. </td><td></td></tr>
        <tr><td><code>para.auth_cookie</code>                    </td><td><code>[app_name]-auth</code></td></tr>
        <tr><td>The name of the authorization cookie. Changes depending on the app name.</td><td></td></tr>
        <tr><td><code>para.returnto_cookie</code>            </td><td><code>[app_name]-returnto</code></td></tr>
        <tr><td>The name of the cookie used to remember which URL the user requested and will be redirected to after login. </td><td></td></tr>
        <tr><td><code>para.support_email</code>                </td><td><code>support@myapp.co</code></td></tr>
        <tr><td>The email of the webmaster/support team. Para will send emails to this email.</td><td></td></tr>
        <tr><td><code>para.app_secret_key</code>                </td><td>md5(‘paraseckey’)</td></tr>
        <tr><td>Para secret key. Set this to a long secure random string. Used for salting other secrets and tokens. </td><td></td></tr>
        <tr><td><code>para.core_package_name</code>        </td><td>-</td></tr>
        <tr><td>The name of the Java package which contains your domain (core) classes. </td><td></td></tr>
        <tr><td><code>para.session_timeout</code>            </td><td><code>24 * 60 * 60</code> sec.</td></tr>
        <tr><td>The lifetime of the login session, in seconds. </td><td></td></tr>
        <tr><td><code>para.jwt_expires_after</code>        </td><td><code>7 * 24 * 60 * 60</code> sec.</td></tr>
        <tr><td>JWT token validity period, in seconds. </td><td></td></tr>
        <tr><td><code>para.jwt_refresh_interval</code>    </td><td><code>60 * 60</code> sec.</td></tr>
        <tr><td>JWT refresh interval, after which a new token is issued. </td><td></td></tr>
        <tr><td><code>para.request_expires_after</code></td><td><code>15 * 60</code> sec.</td></tr>
        <tr><td>Expiration of signed API request, in seconds. </td><td></td></tr>
        <tr><td><code>para.vote_expires_after</code>        </td><td><code>30 * 24 * 60 * 60</code> sec.</td></tr>
        <tr><td>After this period has elapsed, you can vote again on the same object.</td><td></td></tr>
        <tr><td><code>para.vote_locked_after</code>        </td><td><code>30</code> sec.</td></tr>
        <tr><td>Vote locking mechanism - locks vote change after X seconds.  </td><td></td></tr>
        <tr><td><code>para.pass_reset_timeout</code>        </td><td><code>30 * 60</code> sec.</td></tr>
        <tr><td>The time window in which passwords can be reset, in seconds. After that the token in the email expires. </td><td></td></tr>
        <tr><td><code>para.cache_enabled</code>                </td><td><code>false</code> || <code>para.env == production</code></td></tr>
        <tr><td>Enable/disable object caching in Para. </td><td></td></tr>
        <tr><td><code>para.search_enabled</code>                </td><td><code>true</code></td></tr>
        <tr><td>Enable/disable object indexing in Para. </td><td></td></tr>
        <tr><td><code>para.api_enabled</code>                    </td><td><code>true</code></td></tr>
        <tr><td>Enable/disable the REST API. </td><td></td></tr>
        <tr><td><code>para.cors_enabled</code>                    </td><td><code>true</code></td></tr>
        <tr><td>Enable/disable the CORS filter. It adds CORS headers to API responses.</td><td></td></tr>
        <tr><td><code>para.gzip_enabled</code>                    </td><td><code>true</code></td></tr>
        <tr><td>Enable/disable the GZIP filter. It compresses API responses, only.</td><td></td></tr>
        <tr><td><code>para.access_log_enabled</code>        </td><td><code>true</code></td></tr>
        <tr><td>Enable/disable the access log file. </td><td></td></tr>
        <tr><td><code>para.read_from_index</code>            </td><td><code>true</code></td></tr>
        <tr><td>Enable/disable reading objects from index instead of the database. This will bypass the database.
        Useful for local testing/development or to recover objects that were lost/deleted from the database. </td><td></td></tr>
        <tr><td><code>para.max_items_per_page</code>        </td><td><code>30</code></td></tr>
        <tr><td>The default page size - maximum number of results that will be returned in a search query. </td><td></td></tr>
        <tr><td><code>para.max_pages</code>                        </td><td><code>10000</code></td></tr>
        <tr><td>The largest page number that can be specified in a search query. </td><td></td></tr>
        <tr><td><code>para.max_datatypes_per_app</code></td><td><code>256</code></td></tr>
        <tr><td>The maximum number of custom types an app can have. </td><td></td></tr>
        <tr><td><code>para.max_entity_size_bytes</code></td><td><code>1024 * 1024</code></td></tr>
        <tr><td>The size of the request payload. Requests with payloads larger than this will be denied. </td><td></td></tr>
        <tr><td><code>para.min_password_length</code>    </td><td><code>6</code></td></tr>
        <tr><td>The minimum length of passwords. </td><td></td></tr>
        <tr><td><code>para.default_queue_name</code>        </td><td><code>para-default</code></td></tr>
        <tr><td>The default queue name (optional). </td><td></td></tr>
        <tr><td><code>para.queue_link_enabled</code>        </td><td><code>false</code></td></tr>
        <tr><td>Enable/disable polling the default queue for objects to be imported into Para. </td><td></td></tr>
        <tr><td><code>para.shared_table_name</code>        </td><td><code>0</code></td></tr>
        <tr><td>The name of the table which is shared by apps with <code>isSharingTable</code> set to <code>true</code>. </td><td></td></tr>
        <tr><td><code>para.prepend_shared_appids_with_space</code>        </td><td><code>false</code></td></tr>
        <tr><td>Enable/disable table sharing functionality by prepending the <code>appid</code> with a space. <code>DAO</code> implementations can detect that and switch tables based on it. </td><td></td></tr>

        <tr><td><code>para.security.api_security</code>                </td><td> <code>true</code> </td></tr>
        <tr><td>Enable/disable the API security mechanism. If <code>false</code>, the API endpoint will <strong>not</strong> check request signatures and all requests will go through. <strong>For development only</strong>.</td><td></td></tr>
        <tr><td><code>para.security.csrf_protection</code>            </td><td> <code>true</code> </td></tr>
        <tr><td>Enable/disable CSRF protection which checks for valid CSRF tokens in write requests. </td><td></td></tr>
        <tr><td><code>para.security.csrf_cookie</code>                    </td><td> <code>para-csrf-token</code> </td></tr>
        <tr><td>The name of the CSRF cookie.</td><td></td></tr>
        <tr><td><code>para.security.protected.{name}</code>        </td><td> - </td></tr>
        <tr><td>Protects a named resource by requiring users to authenticated before accessing it.
        A protected resource has a <code>{name}</code> and value like this <code>[&quot;/{path}&quot;, &quot;/{path}/**&quot;, [&quot;{role}&quot; or {http_method}]]</code>.
        The value is an array of relative paths which are matche by an ANT pattern matcher. This array can contain a subarray
        which lists all the HTTP methods that require authentication and the user roles that are allowed to access
        this particular resource. No HTTP methods means that all requests to this resource require authentication.</td><td></td></tr>
        <tr><td><code>para.security.ignored</code>                            </td><td> <code>[&quot;/{path}/**&quot;, &quot;/{path}/**&quot;]</code> </td></tr>
        <tr><td>These are the resource paths that will be explicitly public and not require authentication. </td><td></td></tr>
        <tr><td><code>para.security.signin</code>                            </td><td> <code>/signin</code> </td></tr>
        <tr><td>The path to the login page. </td><td></td></tr>
        <tr><td><code>para.security.signout</code>                            </td><td> <code>/signout</code> </td></tr>
        <tr><td>The path to the logout page. </td><td></td></tr>
        <tr><td><code>para.security.access_denied</code>                </td><td> <code>/403</code> </td></tr>
        <tr><td>The path to redirect to when 403 code is returned. </td><td></td></tr>
        <tr><td><code>para.security.returnto</code>                        </td><td> <code>returnto</code> </td></tr>
        <tr><td>The path to return to when an authentication request succeeds. </td><td></td></tr>
        <tr><td><code>para.security.signin_success</code>            </td><td> <code>/</code> </td></tr>
        <tr><td>The default page to send users to when they login. </td><td></td></tr>
        <tr><td><code>para.security.signout_success</code>            </td><td> <code>/signin</code> </td></tr>
        <tr><td>The default page to send users to when they logout.</td><td></td></tr>
        <tr><td><code>para.security.signin_failure</code>            </td><td> <code>/signin</code> </td></tr>
        <tr><td>The default page to send users to when login fails. </td><td></td></tr>
        <tr><td><code>para.security.allow_unverified_emails</code>    </td><td> <code>false</code> </td></tr>
        <tr><td>Enable/disable user email verification. When <code>false</code> user accounts are disabled until
        the user checks their email and confirms it. </td><td></td></tr>
        <tr><td><code>para.security.admins_have_full_api_access</code>            </td><td> <code>true</code> </td></tr>
        <tr><td>If set to <code>false</code> admin users will be subject to standard resource permissions when accessing the API.
        This is applicable when <code>paraClient.signIn()</code> is used. By default, they have unlimited access. </td><td></td></tr>

        <tr><td><code>para.s3.bucket</code>                                        </td><td> <code>org.paraio.files</code> </td></tr>
        <tr><td>The S3 bucket where files will be stored by <code>FileStore</code> implementations. </td><td></td></tr>
        <tr><td><code>para.s3.max_filesize_mb</code>                        </td><td> 10 </td></tr>
        <tr><td>Max filesize for files uploaded to S3, in megabytes. </td><td></td></tr>
        <tr><td><code>para.localstorage.folder</code>                    </td><td> - </td></tr>
        <tr><td>The local folder for file storage. </td><td></td></tr>
        <tr><td><code>para.localstorage.max_filesize_mb</code>    </td><td> 10 </td></tr>
        <tr><td>Max filesize for files stored locally, in megabytes. </td><td></td></tr>

    </tbody>
</table>

<p>All of the above can be overridden with <code>System.setProperty()</code>.</p>
<blockquote>
<p>Para uses the excellent <a href="https://github.com/typesafehub/config/">Config library</a> by TypeSafe.
For more information about how it works, see the README for it.</p>
</blockquote>

						</section>
					</article>
					<a id="006-modules" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Modules</h2>
						<section class="body  img-rounded">
							<p>These are the core modules defined in Para:</p>
<ul>
<li><code>PersistenceModule</code> - defines the core persistence class implementation</li>
<li><code>SearchModule</code> - defines the core search class implementation</li>
<li><code>CacheModule</code> - defines the core cache class implementation</li>
<li><code>EmailModule</code> - defines an email service implementation for sending emails</li>
<li><code>AOPModule</code> - manages the indexing and caching aspects of Para objects</li>
<li><code>I18nModule</code> - defines a currency converter service implementation</li>
<li><code>QueueModule</code> - defines a queue service implementation</li>
<li><code>StorageModule</code> - defines a file storage service, e.g. Amazon S3</li>
</ul>
<p>You can override all of the above using the <code>ServiceLoader</code> mechanism in Java like so:</p>
<ol>
<li>Create a file <code>com.google.inject.Module</code> inside the <code>META-INF/services</code> folder</li>
<li>Then add the full class names of all your modules, one on each line</li>
<li>Para will load these modules on startup use them instead of the default ones</li>
</ol>
<p>For example, let’s say you want to implement a new <code>PersistenceModule</code> which connects to MySQL.
You can define it like so:</p>
<pre><code class="lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MySqlModule</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractModule</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">configure</span><span class="hljs-params">()</span> </span>{
        bind(DAO.class).to(MySqlDAO.class).asEagerSingleton();
    }
}
</code></pre>
<p>Then implement the <code>DAO</code> interface in your class <code>MySqlDAO</code> so that it connects to a MySQL server and stores and loads objects.
Finally write the full class name <code>com.company.MySqlModule</code> to the file <code>com.google.inject.Module</code> and Para will use this
module as its default persistence module.</p>
<p>You can also override modules programmatically like this:</p>
<pre><code class="lang-java">Para.initialize(Modules.override(ParaServer.getCoreModules()).with(<span class="hljs-keyword">new</span> Module() {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">configure</span><span class="hljs-params">(Binder binder)</span> </span>{
        binder.bind(DAO.class).to(MyDAO.class).asEagerSingleton();
        binder.bind(Cache.class).to(MyCache.class).asEagerSingleton();
        binder.bind(Search.class).to(MySearch.class).asEagerSingleton();
    }
}));
</code></pre>
<blockquote>
<p>Para uses <a href="https://code.google.com/p/google-guice/">Google Guice</a> as its module manager and DI system.</p>
</blockquote>

						</section>
					</article>
					<a id="007-env" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Environment</h2>
						<section class="body  img-rounded">
							<p><code>para.env</code> is an important configuration property that turns features on and off. There are three main
values for it - <code>embedded</code>, <code>development</code>, <code>production</code>, but you can define more.</p>
<p>When you are in <code>embedded</code> mode Para will use Elasticsearch as both data store and a search engine. Elasticsearch will
load on each redeploy here. This is the simplest way to get started with Para as you don’t need to configure anything.</p>
<p><strong>Warning:</strong> Embedded mode is <em>not</em> recommended for production (duh!).</p>
<p>When you are in <code>development</code> mode Para will try to connect to a DynamoDB server running on <code>localhost</code>. It will also
try to connect to a local Elasticsearch server. This mode was created so that you can keep your DB and search
servers running in the background while developing your application rather than loading them on each deploy. This will
make redeploys a bit faster.</p>
<p>Finally when you are ready to deploy your app to a real server set <code>para.env</code> to <code>production</code>. This will enable object
caching and will try to connect to the real AWS DynamoDB service. Also you have to set up a new node for Elasticsearch
or run it locally.</p>
<table class="table table-striped">
    <thead>
        <tr>
            <th><code>para.env</code></th>
            <th><code>DAO</code></th>
            <th><code>Cache</code></th>
            <th><code>Search</code></th>
        </tr>
    </thead>
    <tbody>
        <tr><td><code>embedded</code> (default)</td><td><code>H2DAO</code></td><td><code>off</code></td><td><code>on</code></td></tr>
        <tr><td><code>development</code></td><td><code>AWSDynamoDAO</code></td><td><code>off</code></td><td><code>on</code></td></tr>
        <tr><td><code>production</code></td><td><code>AWSDynamoDAO</code></td><td><code>on</code></td><td><code>on</code></td></tr>
    </tbody>
</table>


						</section>
					</article>
					<a id="008-plugins" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Plugins</h2>
						<section class="body  img-rounded">
							<p>Para will look for various plugins like <code>IOListener</code>s, <code>CustomResourceHandler</code>s, <code>DAO</code>s etc, on startup.
The folder in which plugins JARs should be placed is <code>./lib/</code>, by default, but it can be configured like so:</p>
<pre><code>para.plugin_folder = <span class="hljs-string">"plugins/"</span>
</code></pre><h3 id="-dao-search-and-cache-plugins"><code>DAO</code>, <code>Search</code> and <code>Cache</code> plugins</h3>
<p>In version 1.18 we expanded the support for plugins. Para can now load third-party plugins for various <code>DAO</code>
implementations, like <a href="https://github.com/Erudika/para-dao-mongodb">MongoDB</a> for example. The plugin <code>para-dao-mongodb</code>
is loaded using the <code>ServiceLoader</code> mechanism from the classpath and replaces the default <code>AWSDynamoDAO</code> implementation.</p>
<p>To create a plugin you have to create a new project and import <code>para-core</code> with Maven and extend one of the three
interfaces - <code>DAO</code>, <code>Search</code>, <code>Cache</code>. Implement one of these interfaces and name your project by following the
convention:</p>
<ul>
<li><code>para-dao-mydao</code> for <code>DAO</code> plugins,</li>
<li><code>para-search-mysearch</code> for <code>Search</code> plugins,</li>
<li><code>para-cache-mycache</code> for <code>Cache</code> plugins.</li>
</ul>
<p>For example, the <a href="https://github.com/Erudika/para-dao-mongodb">plugin for MongoDB</a> is called <code>para-dao-mongodb</code> and
implements the <code>DAO</code> interface with the MongoDB driver for Java.</p>
<p>You also need to create one file inside <code>src/main/resources/META-INF/services/</code> in your plugin project:</p>
<ul>
<li><code>com.erudika.para.persistence.DAO</code> for <code>DAO</code> plugins,</li>
<li><code>com.erudika.para.search.Search</code> for <code>Search</code> plugins,</li>
<li><code>com.erudika.para.cache.Cache</code> for <code>Cache</code> plugins.</li>
</ul>
<p>Inside this file you put the full class name of your implementation, for example <code>com.erudika.para.persistence.MyDAO</code>,
on one line and save the file.</p>
<p>To load a plugin follow these steps:</p>
<ol>
<li>Place the plugin JAR in a folder called <code>lib</code> (depends on configuration) or <code>WEB-INF/lib</code> in the same folder
as the Para server or include the plugin through Maven,</li>
<li>Set the configuration property <code>para.dao = &quot;MyDAO&quot;</code> or <code>para.search = &quot;MySearch&quot;</code> or <code>para.cache = &quot;MyCache&quot;</code>
(use the simple class name here)</li>
<li>Start the Para server and the new plugin should be loaded</li>
</ol>
<h3 id="custom-event-listeners">Custom event listeners</h3>
<p>You can also register your own <code>InitializeListener</code>s and <code>DestroyListener</code>s which will execute when Para is initialized
and destroyed, respectively.</p>
<pre><code class="lang-java"><span class="hljs-comment">// this has to be registered before Para.initialize() is called</span>
Para.addInitListener(<span class="hljs-keyword">new</span> InitializeListener() {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onInitialize</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// init code...</span>
    }
});

Para.addDestroyListener(<span class="hljs-keyword">new</span> DestroyListener() {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onDestroy</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// shutdown code...</span>
    }
});
</code></pre>
<h3 id="custom-i-o-listeners">Custom I/O listeners</h3>
<p>An I/O listener is a callback function which is executed after an input/output (CRUD) operation. After a call is made to
one of the <code>DAO</code> methods like <code>read()</code>, <code>update()</code>, etc., all registered listeners are notified and called.
It is recommended that the code inside these listeners is asynchronous or less CPU intensive so it does not slow down
the calls to <code>DAO</code>.</p>
<pre><code class="lang-java">Para.addIOListener(<span class="hljs-keyword">new</span> IOListener() {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPreInvoke</span><span class="hljs-params">(Method method, Object[] args)</span> </span>{
        <span class="hljs-comment">// do something before the CRUD operation...</span>
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPostInvoke</span><span class="hljs-params">(Method method, Object result)</span> </span>{
        <span class="hljs-comment">// do something with the result...</span>
    }
});
</code></pre>
<h3 id="custom-listeners-for-app-events">Custom listeners for app events</h3>
<p>These listeners can be registered to execute code when an app is created or deleted. This is useful when we need to
do additional operations like creating DB tables and/or creating indexes for the new app. Also we might want to clean up
those after the app is deleted. Example:</p>
<pre><code class="lang-java">App.addAppCreatedListener(<span class="hljs-keyword">new</span> AppCreatedListener() {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onAppCreated</span><span class="hljs-params">(App app)</span> </span>{
        <span class="hljs-keyword">if</span> (app != <span class="hljs-keyword">null</span>) {
            createTable(app.getAppIdentifier());
        }
    }
});
App.addAppDeletedListener(<span class="hljs-keyword">new</span> AppDeletedListener() {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onAppDeleted</span><span class="hljs-params">(App app)</span> </span>{
        <span class="hljs-keyword">if</span> (app != <span class="hljs-keyword">null</span>) {
            deleteTable(app.getAppIdentifier());
        }
    }
});
</code></pre>
<h3 id="custom-context-initializers">Custom context initializers</h3>
<p>Para will automatically pick up your classes which extend the <code>Para</code> class. They should be annotated
with <code>@Configuration</code>, <code>@EnableAutoConfiguration</code> and <code>@ComponentScan</code>. The <code>Para</code> class implements Spring Boot’s
<code>WebApplicationInitializer</code> which creates the root application context.</p>
<p>In your custom initializers you have full access to the <code>ServletContext</code> and this is a good place to register
your own filters and servlets. These initializer classes also act as an alternative to
<code>web.xml</code> by providing programmatic configuration capabilities.</p>
<h3 id="custom-api-resource-handlers">Custom API resource handlers</h3>
<p>Since version 1.7, you can register custom API resources by implementing the <code>CustomResourceHandler</code> interface.
Use the <code>ServiceLoader</code> mechanism to tell Para to load your handlers - add them to a file named:</p>
<pre><code>com.erudika.para.rest.CustomResourceHandler
</code></pre><p>in <code>META-INF/services</code> where each line contains the full class name
of your custom resource handler class. On startup Para will load these and register them as API resource handlers.</p>
<p>The <code>CustomResourceHandler</code> interface is simple:</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">CustomResourceHandler</span> </span>{
    <span class="hljs-comment">// the path of the resource, e.g. "my-resource"</span>
    <span class="hljs-function">String <span class="hljs-title">getRelativePath</span><span class="hljs-params">()</span></span>;
    <span class="hljs-comment">// handle GET requests</span>
    <span class="hljs-function">Response <span class="hljs-title">handleGet</span><span class="hljs-params">(ContainerRequestContext ctx)</span></span>;
    <span class="hljs-comment">// handle PUT requests</span>
    <span class="hljs-function">Response <span class="hljs-title">handlePut</span><span class="hljs-params">(ContainerRequestContext ctx)</span></span>;
    <span class="hljs-comment">// handle POST requests</span>
    <span class="hljs-function">Response <span class="hljs-title">handlePost</span><span class="hljs-params">(ContainerRequestContext ctx)</span></span>;
    <span class="hljs-comment">// handle DELETE requests</span>
    <span class="hljs-function">Response <span class="hljs-title">handleDelete</span><span class="hljs-params">(ContainerRequestContext ctx)</span></span>;
}
</code></pre>
<p>You can use <code>@Inject</code> in your custom handlers to inject any object managed by Para.</p>

						</section>
					</article>
					<a id="009-core" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Core classes</h2>
						<section class="body  img-rounded">
							<p>In the package <code>com.erudika.para.core</code> there are a number of core domain classes that are used throughout Para.
These are common classes like <code>User</code> and <code>App</code> which you can use in you application directly or extend them.
You can use them for your objects but you’re always free to create your own. To do that, simply <code>POST</code> a new object
with <code>type: mytype</code> through the API and your new type will be automatically registered.</p>
<p><strong>Note:</strong> Type definitions <em>cannot</em> contain the symbols <code>/</code> and <code>#</code>.</p>
<table class="table table-striped">
    <thead>
        <tr>
            <th>class</th>
            <th>description</th>
        </tr>
    </thead>
    <tbody>
        <tr><td><code>User</code></td><td> Defines a basic user with a name, email, password. Used for user registration and security.</td></tr>
        <tr><td><code>Address</code></td><td> Defines an address with optional geographical coordinates. Used for location based searching. </td></tr>
        <tr><td><code>App</code></td><td> Defines an application within Para. Usually there’s only one existing (root) app.</td></tr>
        <tr><td><code>Tag</code></td><td> Simple tag class which contains a tag and its frequency count. Basically any Para object can be tagged. Used for searching.</td></tr>
        <tr><td><code>Vote</code></td><td> Defines a user vote - negative or positive. Useful for modeling objects which can be voted on (likes, +1s, favs, etc). </td></tr>
        <tr><td><code>Translation</code></td><td> Holds a translated string. Can be used for collecting translations from users. </td></tr>
        <tr><td><code>Sysprop</code></td><td> <strong>System class</strong> used as a general-purpose data container. It’s basically a map. </td></tr>
        <tr><td><code>Linker</code></td><td> <strong>System class</strong> used for implementing a many-to-many relationship between objects. </td></tr>
        <tr><td><code>Thing</code></td><td> <strong>System class</strong> used for storing IoT devices’ state and metadata.</td></tr>
    </tbody>
</table>

<h3 id="voting">Voting</h3>
<p>Para implements a simple voting mechanism for objects - each object can be voted up and down an has a <code>votes</code> property.
Voting is useful for many application which require sorting by user votes. When a vote is cast, a new object of type
<code>Vote</code> is created to store the vote in the database. Users have a configurable time window to amend their vote, they can
no longer vote on that particular object.</p>

						</section>
					</article>
					<a id="010-userdefined" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>User-defined classes</h2>
						<section class="body  img-rounded">
							<p>Let’s say you have a class <code>Article</code> in your application that you wish to persist. You first implement the <code>ParaObject</code>
interface, then add a few data fields to it. Implementing the interface is trivial as the basic functionality of
the required methods is already implemented in the <code>CoreUtils</code>.</p>
<p>You need to specify which fields you want to be saved by adding the
<code>@Stored</code> annotation.</p>
<pre><code class="lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Article</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">ParaObject</span> </span>{
    <span class="hljs-meta">@Stored</span> <span class="hljs-keyword">private</span> String title;
    <span class="hljs-meta">@Stored</span> <span class="hljs-keyword">private</span> String text;
    <span class="hljs-meta">@Stored</span> <span class="hljs-keyword">private</span> Map&lt;?, ?&gt; someCustomProperty;
}
</code></pre>
<blockquote>
<p><strong>Caution:</strong> when defining your custom properties try to stick to basic Java types like <code>List</code>, <code>Map</code>,
<code>String</code>, <code>boolean</code>, etc. Complex property objects are <strong>not supported</strong>. This is due to the fact that
Para uses <code>BeanUtils</code> to set property values and it has no clue how to deserialize
your complex objects, so keep it simple.</p>
</blockquote>
<p>You don’t have to define common fields like <code>id</code> or <code>name</code> because they are already defined in the parent class.
Now you can create a new article like so:</p>
<pre><code class="lang-java">Article a = <span class="hljs-keyword">new</span> Article();
a.setTitle(<span class="hljs-string">"Some title"</span>);
a.setText(<span class="hljs-string">"text..."</span>);
<span class="hljs-comment">// the article is saved and a new id is generated</span>
String id = a.create();
</code></pre>
<p>Updating and deleting is easy too:</p>
<pre><code class="lang-java">a.setTitle(<span class="hljs-string">"A new title"</span>);
a.update();
<span class="hljs-comment">// or</span>
a.delete();
</code></pre>
<p>When you call <code>create()</code> Para will intercept that call and automatically index and cache the object. Calling the methods
<code>update()</code> and <code>delete()</code> also get intercepted and will update or delete that object in/from the search index and
cache respectively.</p>
<p>If you want to read an object, first you have to get access to the <code>DAO</code> object. You can either:</p>
<ul>
<li>call <code>Para.getDAO()</code></li>
<li>get it by calling <code>CoreUtils.getInstance().getDao()</code></li>
<li><code>@Inject</code> it with <code>Para.injectInto()</code></li>
</ul>
<p>Then you can read an object using its id:</p>
<pre><code class="lang-java"><span class="hljs-comment">// returns a single article or null</span>
Article readA = dao.read(id);
</code></pre>
<p>You can also define custom types of objects through the REST API by changing the <code>type</code> property on your objects.
Keep in mind that the following are reserved words and they <em>should not</em> be used for naming your types (plural form included):
<strong>“search(es)”, “util(s)”</strong>.</p>
<blockquote>
<p>Note that you can create objects with custom types and fields <a href="#036-api-create">through the REST API</a> without having
to define them as Java classes like above. These custom objects will be based on the generic <code>Sysprop</code> class but
can have any number of custom properties (fields). When doing search on custom fields, add the “properties” prefix to
them, like <code>properties.myfield</code>.</p>
</blockquote>
<p>For example, lets create another custom <code>Article</code> object through the API. We’ll add to it a custom field called <code>author</code>:</p>
<pre><code>POST /v1/articles

{
 <span class="hljs-string">"appid"</span>: <span class="hljs-string">"myapp"</span>,
 <span class="hljs-string">"author"</span>: <span class="hljs-string">"Gordon Freeman"</span>
}
</code></pre><p>This creates a new <code>Article</code> and indexes all fields including the custom field <code>author</code>. To search for objects through the
API, containing the <code>author</code> field we can do a request like this:</p>
<pre><code>GET /v1/articles/search?q=properties.author:Gordon*
</code></pre><p>Note that we have <code>q=properties.author:...</code> instead of <code>q=author:...</code>. This is due to the fact that custom fields are
stored in Para using a nested <code>Map</code> called <code>properties</code> (see the <code>Sysprop</code> class).</p>

						</section>
					</article>
					<a id="011-annotations" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Annotations</h2>
						<section class="body  img-rounded">
							<p>Para uses annotations to mark what attributes of a class need to be saved. There are several annotations that Para uses
but the two main ones are <code>@Stored</code> and <code>@Locked</code>.</p>
<p><code>@Stored</code> tell Para that an attribute needs to be persisted but
that field should not be declared as <code>transient</code> otherwise it will be skipped.</p>
<p><code>@Locked</code> is used as a filter for those
attributes that are read-only like <code>type</code> and <code>id</code>. These are created once and never change so when calling <code>update()</code>
they will be skipped.</p>
<p><code>@Cached</code> is used internally by Para for caching and you don’t need to used it in your projects.</p>

						</section>
					</article>
					<a id="011-apps" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Apps</h2>
						<section class="body  img-rounded">
							<p>Apps allow you to have separate namespaces and data models for different purposes. Each app lives in its own separate
database table and is independent from apps.</p>
<p>Each app has a unique identifier, like “my-custom-app”. When an object is created, Para will attach the app identifier
to it automatically. Apps also have a set of data types, as set of permissions and validation constraints.
Data types can be created on-the-fly, for example you can create a type called “article” and it will have be
available as a new API resource at <code>/v1/article</code> (and in plural form <code>/v1/articles</code>).</p>
<h3 id="creating-apps">Creating apps</h3>
<p>Initially Para creates a default root app with an <code>id</code> equal to the value of the <code>para.app_name</code>
configuration parameter. If you need to have only one app then you don’t need to do anything. If you want to create
multiple apps then you must call <code>Para.newApp()</code> or make an authenticated request to the API <code>GET /v1/_setup/{app_name}</code>.
You are responsible from creating a search index and database table for apps other than the root app (child apps).</p>
<p>Currently Para organizes objects in <strong>one table per app</strong> and uses a single shared search index unless that app has
<code>sharingIndex</code> set to <code>false</code>. If this is the case then a separate search index is created for that app.
It is possible to make Para use a single database table for all apps by prefixing <code>id</code> fields
(e.g. <code>app1_id1</code>: <code>{data}</code>) but this is not yet implemented.</p>
<p>You can set custom settings to each app through the settings API <code>/v1/_settings</code> using <code>GET</code>, <code>PUT</code> and <code>DELETE</code>.
These can be OAuth credentials for social apps or other configuration details that are specific for the app.</p>
<h3 id="social-sign-in-for-apps">Social sign-in for apps</h3>
<p>In v1.19 apps can have their own separate credentials for social sign-in, like an OAuth <code>app_id</code> and <code>secret</code>. These
are stored within the app object and can be used to create/login users to the app that has these credentials.
For example, we can send a request to <code>/facebook_auth?appid=myapp</code> where <code>myapp</code> is not the root app. This will tell
Para to look for Facebook keys inside that app. This allows for each Para app to have a corresponding Facebook app
(or any other app on the supported social networks, see <a href="#034-api-jwt-signin">JWT sign in</a>).</p>
<p>Additionally, we’ve added two custom settings which can tell Para where to redirect users after a successful login or a
login failure. These are <code>signin_success</code> and <code>signin_failure</code> (see <a href="#050-api-settings-get">Custom Settings</a>).
Here’s an example of all settings combined:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"fb_app_id"</span>: <span class="hljs-string">"123U3VTNifLPqnZ1W2"</span>,
    <span class="hljs-string">"fb_secret"</span>: <span class="hljs-string">"YXBwOnBhcmE11234151667"</span>,
    <span class="hljs-string">"signin_success"</span>: <span class="hljs-string">"/dashboard"</span>,
    <span class="hljs-string">"signin_failure"</span>: <span class="hljs-string">"/signin?error"</span>
}
</code></pre>
<p>Note that these settings will work for the traditional authentication flow through the browser and the standard
endpoints <code>/facebook_auth?appid=myapp</code>, <code>/github_auth?appid=myapp</code>, <code>/google_auth?appid=myapp</code>, and the rest.
The other way of authenticating users is through the JWT sign in API which requires an OAuth access token and doesn’t
require stored OAuth credentials - these are not even checked because we are supplied with a ready-to-use token.</p>

						</section>
					</article>
					<a id="011-validations" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Validations</h2>
						<section class="body  img-rounded">
							<p>Para supports JSR-303 validation annotations and also allows you to define validation constraints in two different ways.
One way is to attach annotations to fields in Java classes. The other way is by using the constraints API to add
validation constraints to any object, be it core or user-defined. This method is more flexible as it allows you to
validate any property of any object.</p>
<p>The built-in constraints are: </p>
<p><code>required</code>, <code>min</code>, <code>max</code>, <code>size</code>, <code>email</code>, <code>digits</code>, <code>pattern</code>, <code>false</code>, <code>true</code>, <code>future</code>, <code>past</code>, <code>url</code>.</p>
<p><strong>Note:</strong> Objects are validated on <code>create()</code> and <code>update()</code> operations only.</p>
<h3 id="annotation-based-validation-constraints">Annotation-based validation constraints</h3>
<p>You can use any of the JSR 303 annotations specified by the <code>javax.validation.constraints</code> package, part of Java EE.
Example:</p>
<pre><code class="lang-java"><span class="hljs-meta">@Stored</span> <span class="hljs-meta">@NotBlank</span> <span class="hljs-meta">@Email</span>
<span class="hljs-keyword">private</span> String email;
</code></pre>
<p>This will tell Para to validate that field and check that it actually contains an email. If the validation fails, the
object containing that field will not be created or updated.</p>
<h3 id="user-defined-validation-constraints">User-defined validation constraints</h3>
<p>Annotations work fine for most objects but are less useful when we want to define objects through the API.
For this purpose we can use the constraints API:</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">boolean</span> <span class="hljs-title">addValidationConstraint</span><span class="hljs-params">(String type, String field, Constraint c)</span></span>;

<span class="hljs-function"><span class="hljs-keyword">boolean</span> <span class="hljs-title">removeValidationConstraint</span><span class="hljs-params">(String type, String field, String constraintName)</span></span>;
</code></pre>
<p>To create a constraint you can use the static methods provided by the <code>Constraint</code> class. For example calling
<code>Constraint.email()</code> will return a new constraint object for checking email addresses.</p>
<p>We can use these methods to define constraints on custom types and fields that are not yet defined or are created by
the API.</p>
<p>To manually validate an object you can use:</p>
<pre><code class="lang-java">String[] errors = ValidationUtils.validateObject(App app, ParaObject po);
</code></pre>
<p>Or through <code>ParaClient</code>:</p>
<pre><code class="lang-java"><span class="hljs-comment">// return a JSON object with all validation constraints</span>
paraClient.validationConstraints();
</code></pre>
<p>The returned string array contains 0 elements if the <code>po</code> is valid or a list of errors that were encountered on validation.</p>
<h3 id="integration-with-the-client-side">Integration with the client-side</h3>
<p>You can easily implement client-side validation by getting the JSON object containing all validation constraints for
all Para classes.</p>
<pre><code class="lang-java">String jsonValidations = ValidationUtils.getAllValidationConstraints(App app);
</code></pre>
<p>This returned JSON is in the following format (note that type names are all in lowercase):</p>
<pre><code class="lang-js"><span class="hljs-string">'user'</span>: {
    <span class="hljs-string">'email'</span>: {
        <span class="hljs-string">'email'</span>: {
            <span class="hljs-string">'message'</span>: <span class="hljs-string">'messages.email'</span>
        },
        <span class="hljs-string">'required'</span>: {
            <span class="hljs-string">'message'</span>: <span class="hljs-string">'messages.required'</span>
        }
    },
    <span class="hljs-string">'identifier'</span>: {
        <span class="hljs-string">'required'</span>: {
            <span class="hljs-string">'message'</span>: <span class="hljs-string">'messages.required'</span>
        }
    }
    ...
},
...
</code></pre>
<p>This format used by the excellent JavaScript validation tool <a href="https://github.com/netceteragroup/valdr">Valdr</a> but can
easily be integrated with other client-side validators.</p>
<blockquote>
<p>Para uses <a href="http://hibernate.org/validator/">Hibernate Validator</a> for data validation.</p>
</blockquote>

						</section>
					</article>
					<a id="012-dao" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>DAO interface</h2>
						<section class="body  img-rounded">
							<p>The <code>DAO</code> interface declares the following methods:</p>
<table class="table table-striped">
    <thead>
        <tr>
            <th>method</th>
            <th>description</th>
        </tr>
    </thead>
    <tbody>
        <tr><td><code>String create(P obj)</code></td><td> Persists an object. A new <code>id</code> <em>should</em> be generated if absent.</td></tr>
        <tr><td><code>P read(String key)</code></td><td> Reads an object from the data store for a given <code>id</code>. Returns <code>null</code> if the object for this <code>id</code> is missing.</td></tr>
        <tr><td><code>void update(P obj)</code></td><td> Updates an object. Implementations of this method <em>should</em> set a timestamp to the field <code>updated</code>. </td></tr>
        <tr><td><code>void delete(P obj)</code></td><td> Deletes an object completely (the opposite of <code>create</code>).</td></tr>
        <tr><td><code>List&lt;P&gt; readAll(List&lt;String&gt; keys, boolean all)</code></td><td> Batch operation for <code>read()</code>. If <code>all</code> is <code>false</code>, only the <code>id</code> and <code>type</code> columns should be returned.</td></tr>
        <tr><td><code>void createAll(List&lt;P&gt; objects)</code></td><td> Batch operation for <code>create()</code>.</td></tr>
        <tr><td><code>void updateAll(List&lt;P&gt; objects)</code></td><td> Batch operation for <code>update()</code>.</td></tr>
        <tr><td><code>void deleteAll(List&lt;P&gt; objects)</code></td><td> Batch operation for <code>delete()</code>.</td></tr>
    </tbody>
</table>

<blockquote>
<p>A <code>DAO</code> object only deals with storing objects in a database. It is not concerned with relationships between objects or
constraint validation.</p>
</blockquote>

						</section>
					</article>
					<a id="012-permissions" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Resource permissions</h2>
						<section class="body  img-rounded">
							<p>When creating new users, we usually want to specify which resources they can access. This is why we added a few methods
for adding and removing resource permissions. Each app can have any number of users and each user can have a set of
permissions for a given resource. Resources are identified by name, for example the <code>_batch</code> resource would represent
requests going to <code>/v1/_batch</code>.</p>
<p>There are several methods and flags which control which requests can go through. These are:</p>
<ul>
<li><code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>PATCH</code>, <code>DELETE</code> - use these to allow a certain method explicitly</li>
<li><code>?</code> - use this to enable public (unauthenticated) access to a resource</li>
<li><code>-</code> - use this to deny all access to a resource</li>
<li><code>*</code> - wildcard, allow all request to go through</li>
<li><code>OWN</code> - allow subject to only access objects they created</li>
</ul>
<p>Let’s look at a few example scenarios where we give users permission to access the <code>_batch</code>. We have two users - user
one with <code>id = 1</code> and user two with <code>id = 2</code>. We’ll use the following methods:</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">boolean</span> <span class="hljs-title">grantResourcePermission</span><span class="hljs-params">(String subjectid, String resourcePath, EnumSet&lt;AllowedMethods&gt; permission)</span></span>;
<span class="hljs-comment">// when not using the Java client - permission is an array of HTTP methods</span>
<span class="hljs-function"><span class="hljs-keyword">boolean</span> <span class="hljs-title">grantResourcePermission</span><span class="hljs-params">(String subjectid, String resourcePath, String[] permission)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">boolean</span> <span class="hljs-title">revokeResourcePermission</span><span class="hljs-params">(String subjectid, String resourcePath)</span></span>;
</code></pre>
<p>These methods allow the use of wildcards <code>*</code> for <code>subjectid</code> and <code>resourcePath</code> arguments.</p>
<p><strong>Scenario 1:</strong> Give all users permission to <code>READ</code> - this allows them to make <code>GET</code> requests:</p>
<pre><code class="lang-java">app.grantResourcePermission(<span class="hljs-string">"*"</span>, <span class="hljs-string">"_batch"</span>, AllowedMethods.READ);
</code></pre>
<p><strong>Scenario 2:</strong> Give user <code>1</code> <code>WRITE</code> permissions - allow HTTP methods <code>POST, PUT, PATCH, DELETE</code>:</p>
<pre><code class="lang-java">app.grantResourcePermission(<span class="hljs-string">"1"</span>, <span class="hljs-string">"_batch"</span>, AllowedMethods.WRITE);
</code></pre>
<p>Also you could grant permissions on specific objects like so:</p>
<pre><code class="lang-java">paraClient.grantResourcePermission(<span class="hljs-string">"user1"</span>, <span class="hljs-string">"posts/123"</span>, AllowedMethods.DELETE);
</code></pre>
<p>This will allow <code>user1</code> to delete only the post object with an <code>id</code> of <code>123</code>.</p>
<p><strong>Scenario 3:</strong> Give user <code>2</code> permission ot only make <code>POST</code> requests:</p>
<pre><code class="lang-java">app.grantResourcePermission(<span class="hljs-string">"2"</span>, <span class="hljs-string">"_batch"</span>, AllowedMethods.POST);
</code></pre>
<p>Note that all users still have the <code>READ</code> permissions because permissions are compounded.
However, when <code>grantResourcePermission()</code> is called again on the same subject and resource, the new
permission will overwrite the old one.</p>
<p><strong>Scenario 4:</strong> Revoke all permissions for user <code>1</code> except <code>READ</code>:</p>
<pre><code class="lang-java">app.revokeAllResourcePermissions(<span class="hljs-string">"1"</span>);
</code></pre>
<p><strong>Scenario 5:</strong> Grant full access or deny all access to everyone:</p>
<pre><code class="lang-java">app.grantResourcePermission(<span class="hljs-string">"*"</span>, <span class="hljs-string">"*"</span>, AllowedMethods.ALL);
</code></pre>
<pre><code class="lang-java">app.grantResourcePermission(<span class="hljs-string">"*"</span>, <span class="hljs-string">"*"</span>, AllowedMethods.NONE);
</code></pre>
<p><strong>Scenario 6:</strong> Grant full access to user <code>1</code> but only to the objects he/she created. In this case user <code>1</code> will be able
to create, edit, delete and search <code>todo</code> objects but only those which he/she created, i.e. <code>creatorid == 1</code>.</p>
<pre><code class="lang-java">app.grantResourcePermission(<span class="hljs-string">"1"</span>, <span class="hljs-string">"todo"</span>, [<span class="hljs-string">"*"</span>, <span class="hljs-string">"OWN"</span>]);
app.grantResourcePermission(<span class="hljs-string">"1"</span>, <span class="hljs-string">"todo/*"</span>, [<span class="hljs-string">"*"</span>, <span class="hljs-string">"OWN"</span>]);
</code></pre>
<p>To get all permissions for both users call:</p>
<pre><code class="lang-java">app.getAllResourcePermissions(<span class="hljs-string">"1"</span>, <span class="hljs-string">"2"</span>);
</code></pre>
<p>The default initial policy for all apps is “deny all” which means that new users won’t be able to access any resources,
except their own object and child objects, unless given explicit permission to do so.</p>
<p>You can also create “anonymous” permissions to allow unauthenticated users to access certain resources:</p>
<pre><code class="lang-java">app.grantResourcePermission(<span class="hljs-string">"*"</span>, <span class="hljs-string">"public/resource"</span>, AllowedMethods.READ, <span class="hljs-keyword">true</span>);
</code></pre>
<p>This resource is now public but to access it you still need to specify your access key as a parameter:</p>
<pre><code>GET /v1/public/resource?accessKey=app:myapp
</code></pre><p>Alternatively, on the client-side, you can set the <code>Authorization</code> header to indicate that the request is anonymous:</p>
<pre><code>Authorization: Anonymous app:myapp
</code></pre><p>The special permission method <code>?</code> means that anyone can do a <code>GET</code> request on <code>public/resource</code>.</p>
<p>To check if user <code>1</code> is allowed to access a particular resource call:</p>
<pre><code class="lang-java"><span class="hljs-comment">// returns 'false'</span>
app.isAllowedTo(<span class="hljs-string">"1"</span>, <span class="hljs-string">"admin"</span>, <span class="hljs-string">"GET"</span>);
</code></pre>

						</section>
					</article>
					<a id="013-cassandra" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Cassandra</h2>
						<section class="body  img-rounded">
							<p>The Cassandra plugin adds <a href="https://github.com/Erudika/para-dao-cassandra">support for Apache Cassandra</a>.
The class <code>CassandraDAO</code> is a <code>DAO</code> implementation and is responsible for connecting to a <a href="https://cassandra.apache.org/">Cassandra</a>
cluster and storing/retrieving objects (items) to/from it. All operations are carried out using the latest Cassandra
Java Driver by DataStax, compatible with Cassandra 3.x.</p>
<p>There are several configuration properties for Cassandra (these go in your <code>application.conf</code> file):</p>
<table class="table table-striped">
    <thead>
        <tr>
            <th>property</th>
            <th>description</th>
        </tr>
    </thead>
    <tbody>
        <tr><td><code>para.cassandra.hosts</code></td><td> Comma-separated server hostnames (contact points). Defaults to <code>localhost</code>.</td></tr>
        <tr><td><code>para.cassandra.port</code></td><td> The server port to connect to. Defaults to <code>9042</code>.</td></tr>
        <tr><td><code>para.cassandra.keyspace</code></td><td> The keyspace name that Para will use. Default is equal to <code>para.app_name</code>.</td></tr>
        <tr><td><code>para.cassandra.user</code></td><td> The username with access to the database. Defaults to <code>&quot;&quot;</code>.</td></tr>
        <tr><td><code>para.cassandra.password</code></td><td> The password. Defaults to <code>&quot;&quot;</code>.</td></tr>
        <tr><td><code>para.cassandra.replication_factor</code></td><td> Replication factor for the keyspace. Defaults to <code>1</code>.</td></tr>
        <tr><td><code>para.cassandra.ssl_enabled</code></td><td> Enables the secure SSL/TLS transport. Defaults to <code>false</code>.</td></tr>
    </tbody>
</table>

<p>The plugin is on Maven Central. Here’s the Maven snippet to include in your <code>pom.xml</code>:</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.erudika<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>para-dao-cassandra<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>{version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>Alternatively you can download the JAR from the “Releases” tab above put it in a <code>lib</code> folder alongside the server
WAR file <code>para-x.y.z.war</code>. Para will look for plugins inside <code>lib</code> and pick up the Cassandra plugin.</p>
<p>Finally, set the config property:</p>
<pre><code>para.dao = <span class="hljs-string">"CassandraDAO"</span>
</code></pre><p>This could be a Java system property or part of a <code>application.conf</code> file on the classpath.
This tells Para to use the Cassandra Data Access Object (DAO) implementation instead of the default.</p>
<p>See <a href="#008-plugins">Plugins</a> for more information about how you can create your own plugins.</p>
<blockquote>
<p>For more information about using Cassandra, see the <a href="https://cassandra.apache.org/doc/latest/">official docs</a>.</p>
</blockquote>

						</section>
					</article>
					<a id="013-dynamodb" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>DynamoDB</h2>
						<section class="body  img-rounded">
							<p>Para can work with DynamoDB by using the <code>AWSDynamoDAO</code> implementation. That class is responsible for connecting
to <a href="http://aws.amazon.com/dynamodb/">Amazon’s DynamoDB</a> server and storing/retrieving objects (items) to/from it.
All operations are carried out using the latest AWS Java SDK.</p>
<p><strong>Note:</strong> DynamoDB doesn’t support batch update requests so <code>AWSDynamoDAO</code> does not batch update requests.
It simply executes all update requests in a sequence.</p>
<p>The implementation adds a default prefix <code>para-</code> to DynamoDB tables, so if you have an app called “myapp” your table for
that will be called <code>para-myapp</code>.</p>
<h3 id="table-sharing">Table sharing</h3>
<p>In v1.21, we added new functionality to <code>AWSDynamoDAO</code> which enables apps to share the same table. This is useful
for certain deployment scenarios where you have a large number of apps (and tables) which are rarely accessed and have
low throughput. This makes it expensive to run Para on many DynamoDB tables which remain underutilized for long periods
of time. So with table sharing you can reduce your DynamoDB bill to a minimum by having a shared table that contains
all the objects for all those apps. You can enable this feature by setting the following in your config:</p>
<pre><code>para.prepend_shared_appids_with_space = <span class="hljs-literal">true</span>
</code></pre><p>This will prepend the <code>appid</code> property with a space character for those apps that have <code>isSharingTable</code> set to <code>true</code>,
thus letting the <code>DAO</code> know that this app belongs to the shared table, instead of sending its data to a separate table.
The shared table name is controlled by <code>para.shared_table_name</code> and defaults to “0”.</p>
<p>The shared table keys are a combination of <code>appid</code> and <code>id</code> (e.g. <code>myapp_679334060962615296</code>). Para will
also automatically create a global secondary index (GSI) on the shared table, with a primary key <code>appid</code> and secondary
key <code>timestamp</code>, to facilitate queries like <code>dao.readPage()</code>.</p>
<p>See <a href="#006-modules">Modules</a> for more information about how you can override the default implementation.</p>
<blockquote>
<p>For more information about DyanamoDB see the
<a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Introduction.html">documentation on AWS</a>.</p>
</blockquote>

						</section>
					</article>
					<a id="013-mongodb" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>MongoDB</h2>
						<section class="body  img-rounded">
							<p>Since v1.18.0 Para supports plugins and the the first official plugin adds <a href="https://github.com/Erudika/para-dao-mongodb">support for MongoDB</a>.
The class <code>MongoDBDAO</code> is a <code>DAO</code> implementation and is responsible for connecting to a <a href="https://www.mongodb.org/">MongoDB</a>
server and storing/retrieving objects (items) to/from it. All operations are carried out using the latest MongoDB
Java Driver compatible with MongoDB 3.2.</p>
<p>There are several configuration properties for MongoDB (these go in your <code>application.conf</code> file):</p>
<table class="table table-striped">
    <thead>
        <tr>
            <th>property</th>
            <th>description</th>
        </tr>
    </thead>
    <tbody>
        <tr><td><code>para.mongodb.host</code></td><td> The hostname of the MongoDB server. Defaults to <code>localhost</code>.</td></tr>
        <tr><td><code>para.mongodb.port</code></td><td> The server port to connect to. Defaults to <code>27017</code>.</td></tr>
        <tr><td><code>para.mongodb.database</code></td><td> The database name that Para will use. Default is equal to <code>para.app_name</code>.</td></tr>
        <tr><td><code>para.mongodb.user</code></td><td> The username with access to the database. Defaults to <code>&quot;&quot;</code>.</td></tr>
        <tr><td><code>para.mongodb.password</code></td><td> The password. Defaults to <code>&quot;&quot;</code>.</td></tr>
        <tr><td><code>para.mongodb.ssl_enabled</code></td><td> Enables the secure SSL/TLS transport. Defaults to <code>false</code>.</td></tr>
        <tr><td><code>para.mongodb.ssl_allow_all</code></td><td> Allows any hostname by skipping the certificate verification. Defaults to <code>false</code>.</td></tr>
    </tbody>
</table>

<p>The plugin is on Maven Central. Here’s the Maven snippet to include in your <code>pom.xml</code>:</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.erudika<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>para-dao-mongodb<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>{version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>Alternatively you can <a href="https://github.com/Erudika/para-dao-mongodb/releases">download the JAR</a> and put it in a
<code>lib</code> folder alongside the server WAR file <code>para-x.y.z.war</code>. Para will look for plugins inside <code>lib</code> and pick up
the Elasticsearch plugin.</p>
<p>Finally, set the config property:</p>
<pre><code>para.dao = <span class="hljs-string">"MongoDBDAO"</span>
</code></pre><p>This could be a Java system property or part of a <code>application.conf</code> file on the classpath.
This tells Para to use the MongoDB Data Access Object (DAO) implementation instead of the default.</p>
<p>See <a href="#008-plugins">Plugins</a> for more information about how you can create your own plugins.</p>
<blockquote>
<p>For more information about using MongoDB, see the <a href="https://docs.mongodb.org/manual/">official manual</a>.</p>
</blockquote>

						</section>
					</article>
					<a id="014-h2" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>H2 DB</h2>
						<section class="body  img-rounded">
							<p>This is the default database for storing object storage since v1.25. It is lightweight and embedded, which speeds up the
startup of the server. All tables are stored inside a <code>./data</code> folder by default. Keep in mind that each app has its
own table which is created automatically when the app is created.</p>
<p>There are several configuration properties for H2 (these go in your <code>application.conf</code> file):</p>
<table class="table table-striped">
    <thead>
        <tr>
            <th>property</th>
            <th>description</th>
        </tr>
    </thead>
    <tbody>
        <tr><td><code>para.db.dir</code></td><td> The data directory for storing DB files. Defaults to <code>./data</code>.</td></tr>
        <tr><td><code>para.db.user</code></td><td> The username with access to the database. Defaults to <code>para</code>.</td></tr>
        <tr><td><code>para.db.password</code></td><td> The password. Defaults to <code>secret</code>.</td></tr>
        <tr><td><code>para.db.tcpServer</code></td><td> Parameters for the H2 TCP server. Defaults to <code>-baseDir ./data</code>.</td></tr>
    </tbody>
</table>

<blockquote>
<p>This implementation is works well for both development and production environments.</p>
</blockquote>

						</section>
					</article>
					<a id="015-search" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Search interface</h2>
						<section class="body  img-rounded">
							<p>Para indexes objects based on their type. For example, a <code>User</code> objects has a <code>type</code> field with the value “user”.
Most of the search methods below ask for a <code>type</code> to search for (i.e. the <code>type</code> field acts as a filter).</p>
<p>The <code>Search</code> interface defines the following methods used for search:</p>
<table class="table table-striped">
    <tbody>
        <tr><td><code>P findById(String id)</code></td></tr><tr><td> Returns the object with the given <code>id</code> from the index or <code>null</code>.</td></tr>
        <tr><td><code>List&lt;P&gt; findByIds(List&lt;String&gt; ids)</code></td></tr><tr><td> Returns all objects for the given ids. </td></tr>
        <tr><td><code>List&lt;P&gt; findNearby(String type, String query, int radius, double lat, double lng)</code></td></tr><tr><td> Location-based search query.</td></tr>
        <tr><td><code>List&lt;P&gt; findPrefix(String type, String field, String prefix)</code></td></tr><tr><td> Searches for objects containing a field (property) that starts with the given prefix.</td></tr>
        <tr><td><code>List&lt;P&gt; findNestedQuery(String type, String field, String query)</code></td></tr><tr><td> Searches inside a nested field <code>nstd</code> (a list of objects).</td></tr>
        <tr><td><code>List&lt;P&gt; findQuery(String type, String query)</code></td></tr><tr><td> The main search method. Follows the Lucene query parser syntax.</td></tr>
        <tr><td><code>List&lt;P&gt; findSimilar(String type, String filterKey, String[] fields, String liketext)</code></td></tr><tr><td> “More like this” search. </td></tr>
        <tr><td><code>List&lt;P&gt; findTagged(String type, String[] tags)</code></td></tr><tr><td> Search for objects tagged with a set of tags.</td></tr>
        <tr><td><code>List&lt;P&gt; findTags(String keyword)</code></td></tr><tr><td> Shortcut method for listing all tags.</td></tr>
        <tr><td><code>List&lt;P&gt; findTermInList(String type, String field, List&lt;?&gt; terms)</code></td></tr><tr><td> Searches for objects containing any of the terms in the given list (matched exactly).</td></tr>
        <tr><td><code>List&lt;P&gt; findTerms(String type, Map&lt;String, ?&gt; terms, boolean matchAll)</code></td></tr><tr><td> Searches for objects containing all of the specified terms (matched exactly)</td></tr>
        <tr><td><code>List&lt;P&gt; findWildcard(String type, String field, String wildcard)</code></td></tr><tr><td> A wildcard query like “example*”.</td></tr>
    </tbody>
</table>

<p>All methods accept an optional <code>Pager</code> parameter for paginating and sorting the search results.</p>
<p>Also there are a few methods for indexing and unindexing objects but you should avoid calling them directly.
These methods are:</p>
<ul>
<li><code>void index(ParaObject obj)</code></li>
<li><code>void indexAll(List&lt;P&gt; objects)</code></li>
<li><code>void unindex(ParaObject obj)</code></li>
<li><code>void unindexAll(List&lt;P&gt; objects)</code></li>
</ul>
<blockquote>
<p>You should <em>not</em> index/unindex your objects manually - Para does this for you.</p>
</blockquote>

						</section>
					</article>
					<a id="016-elasticsearch" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Elasticsearch</h2>
						<section class="body  img-rounded">
							<p><strong>Now part of the <a href="https://github.com/erudika/para-search-elasticsearch">para-search-elasticsearch</a> plugin (v1.25).</strong></p>
<p>Elasticsearch is the right choice as the search engine for Para in production. It supports Elasticsearch v5 and
uses the TCP <code>TransportClient</code> by default. Support for the high-level REST HTTP client is expected when ES v6 is released.</p>
<p>The <code>Search</code> interface is implemented in the <code>ElasticSearch</code> class.</p>
<p>There are several configuration properties for Elasticsearch (these go in your <code>application.conf</code> file):</p>
<table class="table table-striped">
    <thead>
        <tr>
            <th>property</th>
            <th>description</th>
        </tr>
    </thead>
    <tbody>
        <tr><td><code>para.cluster_name</code></td><td> Elasticsearch cluster name. Default is <code>para-prod</code> when running in production.</td></tr>
        <tr><td><code>para.es.async_enabled</code></td><td> Asynchronous operation when indexing/unindexing. Defaults to <code>false</code>.</td></tr>
        <tr><td><code>para.es.shards</code></td><td> The number of shards per index. Used when creating an new index. Default is <code>5</code>.</td></tr>
        <tr><td><code>para.es.replicas</code></td><td> The number of copies of an index. Default is <code>0</code>.</td></tr>
        <tr><td><code>para.es.auto_expand_replicas</code></td><td> Automatically make a replica copy of the index to the number of nodes specified. Default is <code>0-1</code>.</td></tr>
        <tr><td><code>para.es.use_transportclient</code></td><td> Use <code>TransportClient</code> to connect to a remote ES node. If <code>false</code>, the REST client will be used. Default is <code>true</code>.</td></tr>
        <tr><td><code>para.es.transportclient_host</code></td><td> The hostname of the Elasticsearch instance or cluster head node to connect to. Default is <code>localhost</code>.</td></tr>
        <tr><td><code>para.es.transportclient_port</code></td><td> The port of the Elasticsearch instance or cluster head node to connect to. Default is <code>9300</code>.</td></tr>
    </tbody>
</table>

<p>The plugin is on Maven Central. Here’s the Maven snippet to include in your <code>pom.xml</code>:</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.erudika<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>para-search-elasticsearch<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>{version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>Alternatively you can download the JAR from the “Releases” tab above put it in a <code>lib</code> folder alongside the server
WAR file <code>para-x.y.z.war</code>. Para will look for plugins inside <code>lib</code> and pick up the Elasticsearch plugin.</p>
<p>Finally, set the config property:</p>
<pre><code>para.search = <span class="hljs-string">"ElasticSearch"</span>
</code></pre><p>This could be a Java system property or part of a <code>application.conf</code> file on the classpath.
This tells Para to use the Elasticsearch implementation instead of the default (Lucene).</p>
<blockquote>
<p>Read the <a href="https://www.elastic.co/guide/">Elasticsearch</a> docs for more information.</p>
</blockquote>

						</section>
					</article>
					<a id="016-lucene" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Lucene</h2>
						<section class="body  img-rounded">
							<p>Lucene is used as the default search engine in Para. It is a lightweight alternative to Elasticsearch for self-contained
deployments. It works great for local development and also in production.</p>
<p>The <code>Search</code> interface is implemented in the <code>LuceneSearch</code> class.</p>
<p>Keep in mind that each Para app has its own Lucene index, which is automatically created if missing. The path to where
Lucene files are stored is controlled by <code>para.lucene.dir</code> which defaults to <code>.</code> the current directory. If you set it
to <code>para.lucene.dir = &quot;/home/user/lucene&quot;</code> index files will be stored in <code>/home/users/lucene/data</code>.</p>
<blockquote>
<p>Read the <a href="http://lucene.apache.org/core/">Lucene</a> docs for more information.</p>
</blockquote>

						</section>
					</article>
					<a id="017-cache" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Cache interface</h2>
						<section class="body  img-rounded">
							<p>The <code>Cache</code> interface defines the following methods used for object caching:</p>
<table class="table table-striped">
    <thead>
        <tr>
            <th>method</th>
            <th>description</th>
        </tr>
    </thead>
    <tbody>
        <tr><td><code>void put(String id, T object)</code></td><td> Caches an object with a key equal to its <code>id</code>. Should skip <code>null</code> objects.</td></tr>
        <tr><td><code>void putAll(Map&lt;String, T&gt; objects)</code></td><td> Caches multiple objects. Should skip <code>null</code> objects.</td></tr>
        <tr><td><code>T get(String id)</code></td><td> Retrieves an object from cache. Returns <code>null</code> if the object isn’t cached.</td></tr>
        <tr><td><code>Map&lt;String, T&gt; getAll(List&lt;String&gt; ids)</code></td><td> Retrieves multiple objects from cache.</td></tr>
        <tr><td><code>void remove(String id)</code></td><td> Removes an object from cache.</td></tr>
        <tr><td><code>void removeAll()</code></td><td> Clears the cache completely.</td></tr>
        <tr><td><code>void removeAll(List&lt;String&gt; ids)</code></td><td> Clears only the objects with the specified ids.</td></tr>
    </tbody>
</table>

<blockquote>
<p>You should avoid calling cache related methods directly - Para does this for you.</p>
</blockquote>

						</section>
					</article>
					<a id="018-hazelcast" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Hazelcast</h2>
						<section class="body  img-rounded">
							<p>Para uses Hazelcast as the default implementation of the <code>Cache</code> interface. It was chosen because it provides excellent
support for distributed data structures like maps and sets. It allows us to use a portion of the memory on each node
for caching without having to manage a separate caching server or cluster.</p>
<p>Para organizes caches by application name - each application has its own separate distributed map with the same name.</p>
<p>There are several configuration properties for Hazelcast:</p>
<table class="table table-striped">
    <thead>
        <tr>
            <th>property</th>
            <th>description</th>
        </tr>
    </thead>
    <tbody>
        <tr><td><code>para.hc.async_enabled</code></td><td> Asynchronous operation when putting objects in cache. Defaults to <code>false</code>.</td></tr>
        <tr><td><code>para.hc.eviction_policy</code></td><td> Cache eviction policy - <code>LRU</code> or <code>LFU</code>. Defaults to <code>LRU</code>.</td></tr>
        <tr><td><code>para.hc.eviction_percentage</code></td><td> Cache eviction percentage. Defaults to <code>25</code> percent.</td></tr>
        <tr><td><code>para.hc.ttl_seconds</code></td><td> ‘Time To Live’ for cached objects. Defaults to <code>3600</code> seconds.</td></tr>
        <tr><td><code>para.hc.max_size</code></td><td> Cache size as a percentage of used heap. Defaults to <code>25</code> percent.</td></tr>
        <tr><td><code>para.hc.jmx_enabled</code></td><td> JMX reporting. Default is <code>true</code>. </td></tr>
        <tr><td><code>para.hc.ec2_discovery_enabled</code></td><td> Enables AWS EC2 auto discovery. Default is <code>true</code>.</td></tr>
        <tr><td><code>para.hc.discovery_group</code></td><td> Security group for cloud discovery of nodes. Default is <code>hazelcast</code>.</td></tr>
        <tr><td><code>para.hc.password</code></td><td> The Hazelcast cluster password. Default is <code>hcpasswd</code>.</td></tr>
        <tr><td><code>para.hc.mancenter_enabled</code></td><td> Enables the Hazelcast Management Center. Default is <code>!IN_PRODUCTION</code>.</td></tr>
        <tr><td><code>para.hc.mancenter_url</code></td><td> The URL for the Management Center server. Default is <code>http://localhost:8001/mancenter</code>.</td></tr>
    </tbody>
</table>

<blockquote>
<p>For more information see the <a href="http://www.hazelcast.org/docs/latest/manual/html-single">Hazelcast docs</a>.</p>
</blockquote>

						</section>
					</article>
					<a id="019-one-to-many" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>One-to-many</h2>
						<section class="body  img-rounded">
							<p>Object relationships are defined by the <code>Linkable</code> interface. All Para objects are linkable, meaning that they can be
related to other Para objects.</p>
<p>Para supports one-to-many relationships between objects with the <code>parentid</code> field. It contains the <code>id</code> of the parent
object. For example a user might be linked to their father like this:</p>
<pre>
+--------+
| Darth  |
| id: 5  |  Parent
+---+----+
    |
+---+---------+
| Luke        |
| id: 10      |  Child
| parentid: 5 |
+-------------+
</pre>

<p>This allows us to have a parent objects with many children which have the same <code>parentid</code> set. Now we can get all
children for a given object by calling <code>parent.getChildren(Class&lt;P&gt; clazz)</code>. This will return the list of objects that
have a <code>parentid</code> equal to that object’s <code>id</code>. For example:</p>
<pre><code class="lang-java"><span class="hljs-comment">// assuming we have the parent object...</span>
User luke = parent.getChildren(User.class).get(<span class="hljs-number">0</span>);
User darth = dao.read(luke.getParentid());
</code></pre>

						</section>
					</article>
					<a id="020-many-to-many" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Many-to-many</h2>
						<section class="body  img-rounded">
							<p>Many-to-many relationships are implemented in Para with <code>Linker</code> objects. This object contains information
about a link between two objects. This is simply the <code>id</code> and <code>type</code> of both objects. Linker objects are just regular
Para objects - they can be persisted, indexed and cached.</p>
<pre>
+--------+
|  tag1  |
+---+----+
    |
+---+------------+
|post:10:tag:tag1|  Linker
+---+------------+
    |
+---+------+
|  Post1   |
|  id:10   |
+----------+
</pre>

<p><strong>Note:</strong> The following methods are only used when creating “many-to-many” links.
Linking and unlinking two objects, <code>object1</code> and <code>object2</code>, is done like this:</p>
<pre><code class="lang-java">object1.link(object2.getType(), object2.getId());
object1.unlink(object2.getType(), object2.getId());
<span class="hljs-comment">// delete all links to/from object1</span>
object1.unlinkAll();
</code></pre>
<p>To check if two objects are linked use:</p>
<pre><code class="lang-java">object1.isLinked(object2.getType(), object2.getId())
</code></pre>
<p>Also you can count the number of links by calling:</p>
<pre><code class="lang-java">object1.countLinks(object2.getType())
</code></pre>
<p>Finally, to read all objects that are linked to <code>object1</code>, use:</p>
<pre><code class="lang-java">object1.getLinkedObjects(object2.getType(), Pager... pager);
</code></pre>

						</section>
					</article>
					<a id="021-iot-aws" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>AWS IoT</h2>
						<section class="body  img-rounded">
							<p>Para is integrated with the AWS IoT cloud which means that you can create <code>Thing</code> objects through the Para API and have
them sync their state with the AWS cloud. When you create a <code>Thing</code> it is also created on the AWS cloud and a
certificate is generated for it which is saved within the <code>Thing</code> object. The certificate, private and public keys
and other information about the device are only shown once the <code>Thing</code> is created. Here’s an example create request:</p>
<pre><code>POST /v1/things
{
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"MyThing"</span>,
    <span class="hljs-string">"serviceBroker"</span>: <span class="hljs-string">"AWS"</span>
}
</code></pre><p>The response would be something like this:</p>
<pre><code>{
  <span class="hljs-string">"id"</span>: <span class="hljs-string">"664870213421895680"</span>,
  <span class="hljs-string">"timestamp"</span>: <span class="hljs-number">1468601996535</span>,
  <span class="hljs-string">"type"</span>: <span class="hljs-string">"thing"</span>,
  <span class="hljs-string">"appid"</span>: <span class="hljs-string">"myapp"</span>,
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"MyThing"</span>
  <span class="hljs-string">"serviceBroker"</span>: <span class="hljs-string">"AWS"</span>,
  <span class="hljs-string">"deviceState"</span>: {},
  <span class="hljs-string">"deviceMetadata"</span>: {
    <span class="hljs-string">"thingId"</span>: <span class="hljs-string">"664870213421895680"</span>,
    <span class="hljs-string">"thingName"</span>: <span class="hljs-string">"MyThing"</span>,
    <span class="hljs-string">"thingARN"</span>: <span class="hljs-string">"arn:aws:iot:eu-west-1:123456789:thing/MyThing"</span>,
    <span class="hljs-string">"clientId"</span>: <span class="hljs-string">"MyThing"</span>,
    <span class="hljs-string">"clientCertId"</span>: <span class="hljs-string">"1abee5f25a5e1b1c66b66dd462dda32000621b429f6eb1ddb179ec3b"</span>,
    <span class="hljs-string">"clientCertARN"</span>: <span class="hljs-string">"arn:aws:iot:eu-west-1:123456789:cert/1abee5f25a5e1b1c66b66dd462dda32000621b429f6eb1ddb179ec3b"</span>,
    <span class="hljs-string">"clientCert"</span>: <span class="hljs-string">"-----BEGIN CERTIFICATE-----\n ... \n-----END CERTIFICATE-----\n"</span>,
    <span class="hljs-string">"privateKey"</span>: <span class="hljs-string">"-----BEGIN RSA PRIVATE KEY-----\n ... \n-----END RSA PRIVATE KEY-----\n"</span>,
    <span class="hljs-string">"publicKey"</span>: <span class="hljs-string">"-----BEGIN PUBLIC KEY-----\n ... \n-----END PUBLIC KEY-----\n"</span>,
    <span class="hljs-string">"region"</span>: <span class="hljs-string">"eu-west-1"</span>,
    <span class="hljs-string">"port"</span>: <span class="hljs-number">8883</span>,
    <span class="hljs-string">"host"</span>: <span class="hljs-string">"b2chw4axefhujt.iot.eu-west-1.amazonaws.com"</span>
  }
}
</code></pre><p>Note that the field <code>deviceDetails</code> is only showed once and the device’s metadata is hidden on read.
Now you can connect your device to the AWS cloud using the generated certificates and start sending messages with the
state of the device. Para will check with AWS for shadow updates on each read and sync the <code>Thing</code> object’s
state with the state that is stored in the cloud. If the <code>Thing</code> object is updated from the Para API, the AWS IoT
shadow is updated accordingly so the two are in sync again. Finally, deleting the <code>Thing</code> object also deletes it from
AWS along with the certificate and policy attached to it.</p>
<p>In order to use the IoT integration feature, Para needs to get your AWS credentials from the config file or from the
instance it is deployed on.</p>
<h3 id="getting-started-with-para-and-aws-iot">Getting started with Para and AWS IoT</h3>
<ol>
<li>Get an account from AWS and create a user with permissions to call the IoT API</li>
<li>Set the <code>para.aws_access_key</code> and <code>para.aws_secret_key</code> properties in your Para config file</li>
<li>Start the Para instance and create a <code>Thing</code> object through the API:<pre><code>POST /v1/things
{
 <span class="hljs-string">"name"</span>: <span class="hljs-string">"myDevice"</span>,
 <span class="hljs-string">"serviceBroker"</span>: <span class="hljs-string">"AWS"</span>
}
</code></pre></li>
<li>Take note of the <code>deviceDetails</code> field retured by this request as it contains certificates for your device</li>
<li>Use the certificates to set up your device and connect it to AWS IoT</li>
<li>The <code>deviceState</code> field inside the Para <code>Thing</code> object is synced with the device shadow on AWS on every <code>GET</code> request</li>
<li>Update the <code>deviceState</code> from the Para API and it will be synced with the device shadow on AWS on every <code>PATCH</code> request.</li>
</ol>

						</section>
					</article>
					<a id="021-iot-azure" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Azure IoT</h2>
						<section class="body  img-rounded">
							<p>Para is integrated with the Microsoft’s Azure IoT Hub which means that you can create <code>Thing</code> objects through the Para
API and have them sync their state with the Azure cloud. When you create a <code>Thing</code> it is also created as a device on
the Azure cloud and primary/secondary keys are generated for it which are saved within the <code>Thing</code> object. These keys
and other information about the device are only shown once the <code>Thing</code> is created. Here’s an example create request:</p>
<pre><code>POST /v1/things
{
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"MyThing"</span>,
    <span class="hljs-string">"serviceBroker"</span>: <span class="hljs-string">"Azure"</span>
}
</code></pre><p>The response would be something like this:</p>
<pre><code>{
  <span class="hljs-string">"id"</span>: <span class="hljs-string">"664870213421895680"</span>,
  <span class="hljs-string">"timestamp"</span>: <span class="hljs-number">1468601996535</span>,
  <span class="hljs-string">"type"</span>: <span class="hljs-string">"thing"</span>,
  <span class="hljs-string">"appid"</span>: <span class="hljs-string">"myapp"</span>,
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"MyThing"</span>
  <span class="hljs-string">"serviceBroker"</span>: <span class="hljs-string">"Azure"</span>,
  <span class="hljs-string">"deviceState"</span>: {},
  <span class="hljs-string">"deviceDetails"</span>: {
    <span class="hljs-string">"thingId"</span>: <span class="hljs-string">"664870213421895680"</span>,
    <span class="hljs-string">"thingName"</span>: <span class="hljs-string">"MyThing"</span>,
    <span class="hljs-string">"primaryKey"</span>: <span class="hljs-string">"1abee5f25a5e1b1c66b66dd462dda"</span>,
    <span class="hljs-string">"secondaryKey"</span>: <span class="hljs-string">"32000621b429f6eb1ddb179ec3b"</span>,
    <span class="hljs-string">"status"</span>: <span class="hljs-string">"enabled"</span>,
    <span class="hljs-string">"lastActivity"</span>: <span class="hljs-string">"{timestamp}"</span>,
    <span class="hljs-string">"connectionState"</span>: <span class="hljs-string">"disconnected"</span>,
    <span class="hljs-string">"connectionString"</span>: <span class="hljs-string">"HostName=abc.def.com;DeviceId=664870213421895680;SharedAccessKey=1abee5f25a5e1b1c66b66dd462dda"</span>,
  }
}
</code></pre><p>Note that the field <code>deviceDetails</code> is only showed once and the device’s metadata is hidden on read.
Now you can connect your device to the Azure cloud using the generated primary/secondary keys and start sending messages
with the state of the device. Para will automatically check with Azure for device messages and sync the <code>Thing</code> object’s
state with the state that is stored in the cloud. If the <code>Thing</code> object is updated from the Para API, the Azure IoT
device is updated accordingly so the two are in sync again. Finally, deleting the <code>Thing</code> object also deletes it from
the Azure IoT Hub.</p>
<p>In order to use the IoT integration feature, Para needs to get your AWS credentials from the config file or from the
instance it is deployed on.</p>
<h3 id="getting-started-with-para-and-azure-iot">Getting started with Para and Azure IoT</h3>
<ol>
<li>Get an account from Azure and create an IoT hub</li>
<li>Set the <code>para.azure.iot_hostname</code>, <code>para.azure.iot_access_key</code>, <code>para.azure.iot_eventhub_name</code> and
<code>para.azure.iot_eventhub_endpoint</code> properties in your Para config file (these can be found in your IoT console)</li>
<li>Start the Para instance and create a <code>Thing</code> object through the API:<pre><code>POST /v1/things
{
 <span class="hljs-string">"name"</span>: <span class="hljs-string">"myDevice"</span>,
 <span class="hljs-string">"serviceBroker"</span>: <span class="hljs-string">"Azure"</span>
}
</code></pre></li>
<li>Take note of the <code>deviceDetails</code> field retured by this request as it contains primary/secondary keys for your device</li>
<li>Use the primary/secondary keys to set up your device and connect it to Azure IoT Hub</li>
<li>The <code>deviceState</code> field inside the Para <code>Thing</code> object is synced with the device on Azure automatically in the background</li>
<li>Update the <code>deviceState</code> from the Para API and it will be synced with the device shadow on Azure on every <code>PATCH</code> request.</li>
</ol>

						</section>
					</article>
					<a id="021-translations" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Translations</h2>
						<section class="body  img-rounded">
							<p>Translations are Para objects which contain a single translation of a string. For example you can have a language file
in English and for each string you can create a <code>Translation</code> object with the translation of that string.</p>
<p>Translations have a key and a value. The key is used to identify the string to be translated. Each translation also has
a specific locale associated with it.</p>
<p>A translation can be approved which makes it possible to build a crowdsourced system for translation of language packs.</p>

						</section>
					</article>
					<a id="022-languages" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Languages</h2>
						<section class="body  img-rounded">
							<p>Languages are maps of keys and values. A language file might contain all strings used by an application. Also you can
have the language loaded from a database.</p>
<p>The language map consists of language strings and each string has a short unique key. For example:</p>
<pre><code>english.txt
-----------
yes = <span class="hljs-string">"Yes"</span>
no  = <span class="hljs-string">"No"</span>

italian.txt
-----------
yes = <span class="hljs-string">"Sì"</span>
no  = <span class="hljs-string">"No"</span>
</code></pre><p>The <code>LanguageUtils</code> class deals with the loading of languages and contains methods for working with locales.
You can set default languages, write languages to a database and load them.</p>

						</section>
					</article>
					<a id="023-filters" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Filters</h2>
						<section class="body  img-rounded">
							<p>There are several filters you can use to enable different features like Gzip encoding, CORS, etc.</p>
<h3 id="cors">CORS</h3>
<p>The CORS filter enables cross-origin requests for the Para API. It is enabled with the configuration property
<code>para.cors_enabled</code> set to <code>true</code>. The implementation is based on the open source <code>CORSFilter</code> by Ebay.</p>
<h3 id="gzip">Gzip</h3>
<p>The <code>GZipServletFilter</code> is enabled by <code>para.gzip_enabled</code> and provides on-the-fly Gzip encoding for static resources,
as well as, the Para API JSON responses.</p>
<h3 id="caching">Caching</h3>
<p>The <code>CachingHttpHeadersFilter</code> is not used by Para but you can use it to enable <code>Cache-Control</code> headers for all static
resources.</p>

						</section>
					</article>
					<a id="023-utilities" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Misc. utilities</h2>
						<section class="body  img-rounded">
							<p>The <code>Utils</code> static class contains a variety of utility methods. These are summarized below:</p>
<h3 id="hashing">Hashing</h3>
<table class="table table-striped">
    <tbody>
        <tr><td><code>String MD5(String s)</code></td></tr>
        <tr><td> Calculates the MD5 hash for a string. </td></tr>
        <tr><td><code>String bcrypt(String s)</code></td></tr>
        <tr><td> Calclates the BCrypt hash for a string. Based on Spring Security. </td></tr>
        <tr><td><code>boolean bcryptMatches(String plain, String storedHash)</code></td></tr>
        <tr><td> Validates a BCrypt hash. </td></tr>
    </tbody>
</table>

<h3 id="strings">Strings</h3>
<table class="table table-striped">
    <tbody>
        <tr><td><code>String stripHtml(String html)</code></td></tr>
        <tr><td> Strips all HTML tags from a string leaving only the text. </td></tr>
        <tr><td><code>String markdownToHtml(String markdownString)</code></td></tr>
        <tr><td> Convert a Markdown string to HTML. Based on <a href="https://github.com/rjeschke/txtmark">Txtmark</a>.</td></tr>
        <tr><td><code>String compileMustache(Map&lt;String, Object&gt; scope, String template)</code></td></tr>
        <tr><td> Compile a Mustache template string to HTML. Based on <a href="https://github.com/spullara/mustache.java">Mustache.java</a>.</td></tr>
        <tr><td><code>String abbreviate(String str, int max)</code></td></tr>
        <tr><td> Abbreviates a string to a given length. </td></tr>
        <tr><td><code>String stripAndTrim(String str)</code></td></tr>
        <tr><td> Removes punctuation and symbols and normalizes whitespace. </td></tr>
        <tr><td><code>String noSpaces(String str, String replaceWith)</code></td></tr>
        <tr><td> Spaces are replaced with something or removed completely. </td></tr>
        <tr><td><code>String formatMessage(String msg, Object... params)</code></td></tr>
        <tr><td> Replaces placeholders like <code>{0}</code>, <code>{1}</code>, etc. with the corresponding objects (numbers, strings, booleans). </td></tr>
    </tbody>
</table>

<h3 id="numbers">Numbers</h3>
<table class="table table-striped">
    <tbody>
        <tr><td><code>String formatPrice(double price)</code></td></tr>
        <tr><td> Formats a price to a decimal with two fractional digits. </td></tr>
        <tr><td><code>double roundHalfUp(double d)</code></td></tr>
        <tr><td> Rounds up a double using the “half up” method, scale is 2 fractional digits.</td></tr>
        <tr><td><code>double roundHalfUp(double d, int scale)</code></td></tr>
        <tr><td> Rounds up a double using the “half up” method.</td></tr>
        <tr><td><code>String abbreviateInt(Number number, int decPlaces)</code></td></tr>
        <tr><td> Rounds a number like “10000” to “10K”, “1000000” to “1M”, etc. </td></tr>
    </tbody>
</table>

<h3 id="dates">Dates</h3>
<table class="table table-striped">
    <tbody>
        <tr><td><code>String formatDate(Long timestamp, String format, Locale loc)</code></td></tr>
        <tr><td> Formats a date according to a specific locale. </td></tr>
        <tr><td><code>String[] getMonths(Locale locale)</code></td></tr>
        <tr><td> A list of the twelve months in the language set by the locale. </td></tr>
    </tbody>
</table>

<h3 id="json">JSON</h3>
<table class="table table-striped">
    <tbody>
        <tr><td><code>P fromJSON(String json)</code></td></tr>
        <tr><td> Converts a JSON string to a <code>ParaObject</code>. Requires the <code>type</code> property. Based on Jackson. </td></tr>
        <tr><td><code>String toJSON(P obj)</code></td></tr>
        <tr><td> Converts a <code>ParaObject</code> to a JSON string. Based on Jackson. </td></tr>
    </tbody>
</table>

<h3 id="objects">Objects</h3>
<table class="table table-striped">
    <tbody>
        <tr><td><code>boolean typesMatch(ParaObject so)</code></td></tr>
        <tr><td> Validates that an object’s class matches its <code>type</code> property. </td></tr>
        <tr><td><code>Map&lt;String, Object&gt; getAnnotatedFields(P bean)</code></td></tr>
        <tr><td> Returns a map of all fields marked with the <code>Stored</code> annotation for a given object. </td></tr>
        <tr><td><code>P setAnnotatedFields(Map&lt;String, Object&gt; data)</code></td></tr>
        <tr><td> Reconstruct an object from a map of fields and their values. </td></tr>
        <tr><td><code>P toObject(String type)</code></td></tr>
        <tr><td> Constructs a new instance of the given type (must be a known <code>ParaObject</code>). </td></tr>
        <tr><td><code>Class&lt;? extends ParaObject&gt; toClass(String type)</code></td></tr>
        <tr><td> Returns the <code>Class</code> instance of a given type (must be a known <code>ParaObject</code>). </td></tr>
        <tr><td> <code>boolean isBasicType(Class&lt;?&gt; clazz)</code> </td></tr>
        <tr><td> Checks if a class is primitive, String or a primitive wrapper. </td></tr>
        <tr><td><code>String[] validateObject(ParaObject content)</code></td></tr>
        <tr><td> Runs the Hibernate Validator against an object. Returns a list of errors or an empty array if that object is valid. </td></tr>
        <tr><td><code>String getNewId()</code></td></tr>
        <tr><td> Generates a new <code>id</code>. Based on <a href="https://github.com/twitter/snowflake/">Twitter’s Snowflake</a> algorithm. </td></tr>
        <tr><td><code>String type(Class&lt;? extends ParaObject&gt; clazz)</code></td></tr>
    </tbody>
</table>

<h3 id="urls">URLs</h3>
<table class="table table-striped">
    <tbody>
        <tr><td><code>boolean isValidURL(String url)</code></td></tr>
        <tr><td> Validates a URL. </td></tr>
        <tr><td><code>String getHostFromURL(String url)</code></td></tr>
        <tr><td> Returns the host name of a URL - “example.com” </td></tr>
        <tr><td><code>String getBaseURL(String url)</code></td></tr>
        <tr><td> Returns the base URL, e.g. <a href="http://example.com">http://example.com</a> </td></tr>
    </tbody>
</table>

						</section>
					</article>
					<a id="024-humantime" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>HumanTime</h2>
						<section class="body  img-rounded">
							<p>Para includes the class <code>HumanTime</code> written by <a href="http://johannburkard.de">Johann Burkard</a>. This class makes it
easy to convert a timestamp to an approximation in the form of “X minutes ago”.</p>
<p>For example you can do:</p>
<pre><code class="lang-java">HumanTime ht = Utils.getHumanTime();
<span class="hljs-comment">// prints 15 h 45 m</span>
String s1 = ht.approximately(<span class="hljs-number">56720083L</span>);

<span class="hljs-keyword">int</span> timeOfEvent = <span class="hljs-number">1399554448</span>;
<span class="hljs-keyword">int</span> timeNow = System.currentTimeMillis();
<span class="hljs-comment">// calculate elapsed time</span>
String s2 = ht.approximately(timeNow - timeOfEvent);
System.out.println(<span class="hljs-string">"Event happened "</span> + s2 + <span class="hljs-string">" time ago"</span>);
</code></pre>
<blockquote>
<p>For more information about HumanTime see <a href="http://johannburkard.de/blog/programming/java/date-formatting-parsing-humans-humantime.html">the docs</a>.</p>
</blockquote>

						</section>
					</article>
					<a id="025-pager" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Pager</h2>
						<section class="body  img-rounded">
							<p>The <code>Pager</code> class is used for pagination. It holds data about a page request. For example you can call a search method
like this:</p>
<pre><code class="lang-java">Pager pager = <span class="hljs-keyword">new</span> Pager();
<span class="hljs-comment">// limit results to 5</span>
pager.setLimit(<span class="hljs-number">5</span>);
<span class="hljs-comment">// sort by the 'tag' field</span>
pager.setSortby(<span class="hljs-string">"tag"</span>);
<span class="hljs-comment">// descending order</span>
pager.setDesc(<span class="hljs-keyword">true</span>);
List&lt;Tag&gt; tags = search.findTags(<span class="hljs-string">"tag1"</span>, pager);
<span class="hljs-comment">// the total number of tags for the query</span>
<span class="hljs-keyword">int</span> tagCount = pager.getCount();
</code></pre>
<p>Pager objects are used primarily in combination with search queries and allow you to limit the results of a query.</p>

						</section>
					</article>
					<a id="026-email" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Email</h2>
						<section class="body  img-rounded">
							<p>The <code>Emailer</code> interface has a simple API for sending email messages.</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Emailer</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">boolean</span> <span class="hljs-title">sendEmail</span><span class="hljs-params">(List&lt;String&gt; emails, String subject, String body)</span></span>;
}
</code></pre>
<p>Para can either use the JavaMail API or AWS SES to send emails. This is used for email verification, password recovery
and notifications. Set <code>support_email</code> to be the email address used by the system. An example config for JavaMail:</p>
<pre><code>para.emailer = <span class="hljs-string">"javamail"</span>
para.support_email = <span class="hljs-string">"support@example.com"</span>
para.mail.host = <span class="hljs-string">"smtp.example.com"</span>
para.mail.port = <span class="hljs-number">587</span>
para.mail.username = <span class="hljs-string">"user@example.com"</span>
para.mail.password = <span class="hljs-string">"password"</span>
para.mail.tls = <span class="hljs-literal">true</span>
para.mail.ssl = <span class="hljs-literal">false</span>
</code></pre><p>Email templates can be loaded with <code>Emailer.class.getClassLoader().getResourceAsStream(&quot;emails/template.html&quot;)</code>.
Para supports basic variable substitutions through Mustache with <code>Utils.compileMustache(data, template)</code>.</p>
<p>Set <code>para.emailer = &quot;aws&quot;</code> to use the AWS Simple Email Service and comment out the <code>para.mail.*</code>
properties as they are ignored. Also set <code>para.aws_access_key</code> and <code>para.aws_secret_key</code>.</p>

						</section>
					</article>
					<a id="027-queue" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Queue</h2>
						<section class="body  img-rounded">
							<p>The <code>Queue</code> interface is another simple API for pushing and pulling messages to and from a queue.</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Queue</span> </span>{
    <span class="hljs-function">String <span class="hljs-title">pull</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">push</span><span class="hljs-params">(String task)</span></span>;
    <span class="hljs-function">String <span class="hljs-title">getName</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span></span>;
}
</code></pre>
<p>Currently this interface is implemented by the <code>AWSQueue</code> class which relies on the AWS Simple Queue Service.</p>

						</section>
					</article>
					<a id="028-storage" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Storage</h2>
						<section class="body  img-rounded">
							<p>The <code>FileStore</code> interface allows you to have different storage services, like S3 or Google Drive, connected to
your application. You can save and load files from disk or cloud storage services easily.</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">FileStore</span> </span>{
    <span class="hljs-function">InputStream <span class="hljs-title">load</span><span class="hljs-params">(String path)</span></span>;
    <span class="hljs-function">String <span class="hljs-title">store</span><span class="hljs-params">(String path, InputStream data)</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">boolean</span> <span class="hljs-title">delete</span><span class="hljs-params">(String path)</span></span>;
}
</code></pre>
<h3 id="awsfilestore">AWSFileStore</h3>
<p>This implementation uses AWS S3 as file storage location. The location of each file is controlled by the bucket name
cofiguration property <code>para.s3.bucket</code>. There is also the <code>para.s3.max_filesize_mb</code> property which restricts the size of
the upload.</p>
<p>Before each upload, files are prepended with a timestamp, for example <code>myfile.txt</code> becomes <code>1405632454930.myfile.txt</code>.
Currently all files are set to be stored with “Reduced Redundancy” turned on.</p>
<p>You can Gzip compress files before uploading uploading but you must append the <code>.gz</code> extension in order for the correct
content encoding header to be set. The extension is removed before upload.</p>
<h3 id="localfilestore">LocalFileStore</h3>
<p>This implementation stores files on the local file system. The folder where files will be stored is set with the
<code>para.localstorage.folder</code> property. The maximum file size is controlled by <code>para.localstorage.max_filesize_mb</code>.</p>

						</section>
					</article>
					<a id="029-passwords" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Simple authentication</h2>
						<section class="body  img-rounded">
							<p>Para implements several authentication mechanisms which you can integrate in your application and make it easy to handle
user registrations and logins.</p>
<p>The classic way of logging users in is with usernames and passwords. Para implements that mechanism in the
<code>PasswordAuthFilter</code> class. It takes a username or email and a password and tries to find that user in the database.
If the user exists then it validates that the hash of the given password matches the hash in the database.
The hashing algorithm is <strong>BCrypt</strong>.</p>
<p>The default URL for this filter is <code>/password_auth</code> and all requests to this location will be intercepted and processed
by it. The default parameters to pass to it are <code>email</code> and <code>password</code>.</p>
<p>Also see the configuration properties <code>para.security.signin_success</code> and <code>para.security.signin_failure</code> in section Config.
These can be set for each app individually as <code>signin_success</code> and <code>signin_failure</code> in the app’s settings.
For apps other than the root app use <code>/password_auth?appid=myapp</code>.</p>
<p>Here’s an example HTML form for initiating password-based authentication:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"/password_auth"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</code></pre>

						</section>
					</article>
					<a id="030-ldap" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>LDAP support</h2>
						<section class="body  img-rounded">
							<p>Users can be authenticated through an LDAP server, including Active Directory. The implementation uses the UnboundID
SDK in combination with Spring Security. The user supplies a <code>uid</code> and <code>password</code> and Para connects to the LDAP server
and tries to bind that user. Then, upon successful login, a new <code>User</code> object is created and the user is signed in.
The user’s profile data (email, name, uid) is read from the LDAP directory. It is important to note that emails are
<strong>not</strong> validated and are assumed valid.</p>
<p>Support for LDAP authentication is implemented by the <code>LdapAuthFilter</code>. The default URL for this filter is
<code>/ldap_auth</code>. The filter takes two query parameters <code>username</code> and <code>password</code> and answers to any HTTP method.
Example: <code>GET /ldap_auth?username=bob&amp;password=secret</code></p>
<p>These are the configuration options for this filter:</p>
<table class="table table-striped">
    <thead>
        <tr>
            <th>property</th>
            <th>description</th>
        </tr>
    </thead>
    <tbody>
        <tr><td><code>para.security.ldap.server_url</code></td><td>URL of the LDAP server, including scheme and port, defaults to <code>ldap://localhost:8389/</code>. </td></tr>
        <tr><td><code>para.security.ldap.base_dn</code></td><td>The base DN, aka domain (default is <code>dc=springframework,dc=org</code>). </td></tr>
        <tr><td><code>para.security.ldap.bind_dn</code></td><td>The initial bind DN for a user with search privileges (default is blank). </td></tr>
        <tr><td><code>para.security.ldap.bind_pass</code></td><td>The password for a user with search privileges (default is blank). </td></tr>
        <tr><td><code>para.security.ldap.user_search_base</code></td><td>Search base for user searches (default is blank).</td></tr>
        <tr><td><code>para.security.ldap.user_search_filter</code></td><td>Search filter for user searches (default is <code>(cn={0})</code>). </td></tr>
        <tr><td><code>para.security.ldap.user_dn_pattern</code></td><td>DN pattern for finding users directly (default is <code>uid={0},ou=people</code>). </td></tr>
        <tr><td><code>para.security.ldap.password_attribute</code></td><td>The password attribute in the directory (default is <code>userPassword</code>). </td></tr>
        <tr><td><code>para.security.ldap.active_directory_domain</code></td><td> The domain name for AD server. (default is blank, AD is disabled). </td></tr>
        <tr><td><code>para.security.ldap.compare_passwords</code></td><td> If set to any value, will switch to password comparison strategy instead of default “bind” method. (default - not set). </td></tr>
    </tbody>
</table>

<p><strong>Note:</strong> Active Directory support is enabled when <code>active_directory_domain</code> is set.</p>
<p>You can also configure LDAP through the <a href="#050-api-settings-put">app settings API</a>:</p>
<pre><code>{
    <span class="hljs-string">"security.ldap.server_url"</span>: <span class="hljs-string">"ldap://localhost:8389/"</span>,
    <span class="hljs-string">"security.ldap.base_dn"</span>: <span class="hljs-string">"dc=springframework,dc=org"</span>,
    <span class="hljs-string">"security.ldap.bind_dn"</span>: <span class="hljs-string">"admin"</span>,
    <span class="hljs-string">"security.ldap.bind_pass"</span>: <span class="hljs-string">"secret"</span>,
    ...
    <span class="hljs-string">"signin_success"</span>: <span class="hljs-string">"http://success.url"</span>,
    <span class="hljs-string">"signin_failure"</span>: <span class="hljs-string">"http://failure.url"</span>
}
</code></pre><p>You can also put all of the settings above in a configuration file (see <a href="#005-config">the config</a>)</p>

						</section>
					</article>
					<a id="030-oauth" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>OAuth 2.0 support</h2>
						<section class="body  img-rounded">
							<p>A generic OAuth 2.0 filter is available for situations where you need to use your own authentication server.
It follows the standard OAuth 2.0 flow and requires that you redirect users to a login page first (on your server).
Then, upon successful login, the user is redirected back to <code>/oauth2_auth</code> with the access token.
Finally, the filter tries to get the user’s profile with that token, from a specified server, which could be the same
server used for authentication.</p>
<p>Support for generic OAuth authentication is implemented by the <code>GenericOAuth2Filter</code>. The default URL for this filter is
<code>/oauth2_auth</code>.</p>
<p>These are the configuration options for this filter:</p>
<table class="table table-striped">
    <thead>
        <tr>
            <th>property</th>
            <th>description</th>
        </tr>
    </thead>
    <tbody>
        <tr><td><code>para.security.oauth.profile_url</code></td><td>API endpoint for user profile. </td></tr>
        <tr><td><code>para.security.oauth.token_url</code></td><td>The URL from which the access token will be requested (via <code>POST</code>). </td></tr>
        <tr><td><code>para.security.oauth.scope</code></td><td>The <code>scope</code> parameter of the access token request payload.</td></tr>
        <tr><td><code>para.security.oauth.accept_header</code></td><td>The <code>Accept</code> header - if blank, the header won’t be set. (default is blank). </td></tr>
        <tr><td><code>para.security.oauth.parameters.id</code></td><td>The <code>id</code> parameter for requesting the user profile (default is <code>id</code>). </td></tr>
        <tr><td><code>para.security.oauth.parameters.picture</code></td><td>The <code>picture</code> parameter for requesting the user profile (default is <code>picture</code>). </td></tr>
        <tr><td><code>para.security.oauth.parameters.email</code></td><td>The <code>email</code> parameter for requesting the user profile (default is <code>email</code>). </td></tr>
        <tr><td><code>para.security.oauth.parameters.name</code></td><td>The <code>name</code> parameter for requesting the user profile (default is <code>name</code>). </td></tr>
        <tr><td><code>para.security.oauth.domain</code></td><td> This domain name is used if a valid email can’t be obtained (optional).</td></tr>
    </tbody>
</table>

<p>You can configure the URLs for authentication success and failure in the configuration file (see <a href="#005-config">the config</a>)</p>

						</section>
					</article>
					<a id="030-openid" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>OpenID support</h2>
						<section class="body  img-rounded">
							<p><strong>DEPRECATED</strong></p>
<p><strong>Note</strong>: OpenID 2.0 is no longer supported by Google, and we recommend using one of the other authentication providers
or JWT-based authentication.</p>
<p>Support for OpenID authentication is implemented by the <code>OpenIDAuthFilter</code>. The default URL for this filter is
<code>/openid_auth</code>.</p>
<p>The filter takes a request with the <code>openid_identifier</code> parameter and redirects the user to their OpenID provider for
verification. Once the user’s identity is verified, the provider redirects the user back to our filter and the user gets
either logged in or registered.</p>
<p>You can configure the URLs for authentication success and failure in the configuration file (see <a href="#005-config">the config</a>)</p>

						</section>
					</article>
					<a id="031-facebook" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Facebook support</h2>
						<section class="body  img-rounded">
							<blockquote>
<p>This describes the web authentication flow with Facebook. You could also login with an existing access token from
Facebook <a href="#034-api-jwt-signin">through the API</a>. This web flow sets a cookie, the API returns a JWT instead.</p>
</blockquote>
<p>First of all you need to have your API credentials ready by creating an app in the Facebook Dev Center.
Then add them to your <code>application.conf</code> configuration file:</p>
<pre><code>para.fb_app_id = <span class="hljs-string">"..."</span>
para.fb_secret = <span class="hljs-string">"..."</span>
</code></pre><p>Or add these through the <a href="#050-api-settings-put">app settings API</a>:</p>
<pre><code>{
    <span class="hljs-string">"fb_app_id"</span>: <span class="hljs-string">"..."</span>
    <span class="hljs-string">"fb_secret"</span>: <span class="hljs-string">"..."</span>
    <span class="hljs-string">"signin_success"</span>: <span class="hljs-string">"http://success.url"</span>
    <span class="hljs-string">"signin_failure"</span>: <span class="hljs-string">"http://failure.url"</span>
}
</code></pre><p>If you want Para to generate a JWT token upon successful authentication, add the <code>jwt=?</code> parameter to your
<code>signin_success</code> url. For example <code>{ &quot;signin_success&quot;: &quot;http://success.url?jwt=?&quot; }</code>.
Para will redirect the user back to your host URL with the generated access token.</p>
<p>Support for logging in with Facebook is implemented by the <code>FacebookAuthFilter</code>. This filter responds to requests at
<code>/facebook_auth</code>.</p>
<p>To initiate a login with Facebook just redirect the user to the Facebook OAuth endpoint:</p>
<pre><code>facebook.com/dialog/oauth
</code></pre><p>Pass the parameter <code>redirect_uri=/facebook_auth</code> so Para can handle the response from Facebook.
For apps other than the root app use <code>redirect_uri=/facebook_auth?appid=myapp</code> instead.</p>
<p><strong>Note:</strong> You need to <a href="https://developers.facebook.com/">register a new application with Facebook</a>
in order to obtain an access and secret keys.</p>
<p>Below is an example Javascript code for a Facebook login button:</p>
<pre><code class="lang-js">$(<span class="hljs-string">"#facebookLoginBtn"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">window</span>.location = <span class="hljs-string">"https://www.facebook.com/dialog/oauth?"</span> +
                <span class="hljs-string">"response_type=code&amp;client_id={FACEBOOK_APP_ID}"</span> +
                <span class="hljs-string">"&amp;scope=email&amp;state="</span> + (<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime()) +
                <span class="hljs-string">"&amp;redirect_uri="</span> + <span class="hljs-built_in">window</span>.location.origin + <span class="hljs-string">"/facebook_auth"</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
});
</code></pre>

						</section>
					</article>
					<a id="031-github" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>GitHub support</h2>
						<section class="body  img-rounded">
							<blockquote>
<p>This describes the web authentication flow with GitHub. You could also login with an existing access token from
GitHub <a href="#034-api-jwt-signin">through the API</a>. This web flow sets a cookie, the API returns a JWT instead.</p>
</blockquote>
<p>First of all you need to have your API credentials ready by creating an app on GitHub.
Then add them to your <code>application.conf</code> configuration file:</p>
<pre><code>para.gh_app_id = <span class="hljs-string">"..."</span>
para.gh_secret = <span class="hljs-string">"..."</span>
</code></pre><p>Or add these through the <a href="#050-api-settings-put">app settings API</a>:</p>
<pre><code>{
    <span class="hljs-string">"gh_app_id"</span>: <span class="hljs-string">"..."</span>
    <span class="hljs-string">"gh_secret"</span>: <span class="hljs-string">"..."</span>
    <span class="hljs-string">"signin_success"</span>: <span class="hljs-string">"http://success.url"</span>
    <span class="hljs-string">"signin_failure"</span>: <span class="hljs-string">"http://failure.url"</span>
}
</code></pre><p>If you want Para to generate a JWT token upon successful authentication, add the <code>jwt=?</code> parameter to your
<code>signin_success</code> url. For example <code>{ &quot;signin_success&quot;: &quot;http://success.url?jwt=?&quot; }</code>.
Para will redirect the user back to your host URL with the generated access token.</p>
<p>Support for logging in with GitHub is implemented by the <code>GitHubAuthFilter</code>. This filter responds to requests at
<code>/github_auth</code>.</p>
<p>To initiate a login with GitHub just redirect the user to the GitHub OAuth endpoint:</p>
<pre><code>github.com/login/oauth/authorize
</code></pre><p>Pass the parameter <code>redirect_uri=/github_auth</code> so Para can handle the response from GitHub.
For apps other than the root app use <code>redirect_uri=/github_auth?appid=myapp</code> instead.</p>
<p><strong>Note:</strong> You need to <a href="https://github.com/settings/profile">register a new application with GitHub</a>
in order to obtain an access and secret keys.</p>
<p>Below is an example Javascript code for a GitHub login button:</p>
<pre><code class="lang-js">$(<span class="hljs-string">"#githubLoginBtn"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">window</span>.location = <span class="hljs-string">"https://github.com/login/oauth/authorize?"</span> +
                <span class="hljs-string">"response_type=code&amp;client_id={GITHUB_APP_ID}"</span> +
                <span class="hljs-string">"&amp;scope=user&amp;state="</span> + (<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime()) +
                <span class="hljs-string">"&amp;redirect_uri="</span> + <span class="hljs-built_in">window</span>.location.origin + <span class="hljs-string">"/github_auth"</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
});
</code></pre>

						</section>
					</article>
					<a id="031-google" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Google support</h2>
						<section class="body  img-rounded">
							<blockquote>
<p>This describes the web authentication flow with Google. You could also login with an existing access token from
Google <a href="#034-api-jwt-signin">through the API</a>. This web flow sets a cookie, the API returns a JWT instead.</p>
</blockquote>
<p>First of all you need to have your API credentials ready by creating an app in the Google Dev Console.
Then add them to your <code>application.conf</code> configuration file:</p>
<pre><code>para.gp_app_id = <span class="hljs-string">"..."</span>
para.gp_secret = <span class="hljs-string">"..."</span>
</code></pre><p>Or add these through the <a href="#050-api-settings-put">app settings API</a>:</p>
<pre><code>{
    <span class="hljs-string">"gp_app_id"</span>: <span class="hljs-string">"..."</span>
    <span class="hljs-string">"gp_secret"</span>: <span class="hljs-string">"..."</span>
    <span class="hljs-string">"signin_success"</span>: <span class="hljs-string">"http://success.url"</span>
    <span class="hljs-string">"signin_failure"</span>: <span class="hljs-string">"http://failure.url"</span>
}
</code></pre><p>If you want Para to generate a JWT token upon successful authentication, add the <code>jwt=?</code> parameter to your
<code>signin_success</code> url. For example <code>{ &quot;signin_success&quot;: &quot;http://success.url?jwt=?&quot; }</code>.
Para will redirect the user back to your host URL with the generated access token.</p>
<p>Support for logging in with Google acoounts is implemented by the <code>GoogleAuthFilter</code>.
This filter responds to requests at <code>/google_auth</code>.</p>
<p>To initiate a login with Google just redirect the user to the Google OAuth endpoint:</p>
<pre><code>accounts.google.com/o/oauth2/v2/auth
</code></pre><p>Pass the parameter <code>redirect_uri=/google_auth</code> so Para can handle the response from Google.
For apps other than the root app use <code>redirect_uri=/google_auth?appid=myapp</code> instead.</p>
<p><strong>Note:</strong> You need to <a href="https://console.developers.google.com/iam-admin/projects">register a new application with Google</a>
in order to obtain an access and secret keys.</p>
<p>Below is an example Javascript code for a Google login button:</p>
<pre><code class="lang-js">$(<span class="hljs-string">"#googleLoginBtn"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> baseUrl = <span class="hljs-built_in">window</span>.location.origin;
        <span class="hljs-built_in">window</span>.location = <span class="hljs-string">"https://accounts.google.com/o/oauth2/v2/auth?"</span> +
                <span class="hljs-string">"client_id={GOOGLE_APP_ID}&amp;response_type=code"</span> +
                <span class="hljs-string">"&amp;scope=openid%20email&amp;redirect_uri="</span> + baseUrl + <span class="hljs-string">"/google_auth"</span> +
                <span class="hljs-string">"&amp;state="</span> + (<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime()) + <span class="hljs-string">"&amp;"</span> + <span class="hljs-string">"openid.realm="</span> + baseUrl;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
});
</code></pre>

						</section>
					</article>
					<a id="031-linkedin" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>LinkedIn support</h2>
						<section class="body  img-rounded">
							<blockquote>
<p>This describes the web authentication flow with LinkedIn. You could also login with an existing access token from
LinkedIn <a href="#034-api-jwt-signin">through the API</a>. This web flow sets a cookie, the API returns a JWT instead.</p>
</blockquote>
<p>First of all you need to have your API credentials ready by creating an app on LinkedIn.
Then add them to your <code>application.conf</code> configuration file:</p>
<pre><code>para.in_app_id = <span class="hljs-string">"..."</span>
para.in_secret = <span class="hljs-string">"..."</span>
</code></pre><p>Or add these through the <a href="#050-api-settings-put">app settings API</a>:</p>
<pre><code>{
    <span class="hljs-string">"in_app_id"</span>: <span class="hljs-string">"..."</span>
    <span class="hljs-string">"in_secret"</span>: <span class="hljs-string">"..."</span>
    <span class="hljs-string">"signin_success"</span>: <span class="hljs-string">"http://success.url"</span>
    <span class="hljs-string">"signin_failure"</span>: <span class="hljs-string">"http://failure.url"</span>
}
</code></pre><p>If you want Para to generate a JWT token upon successful authentication, add the <code>jwt=?</code> parameter to your
<code>signin_success</code> url. For example <code>{ &quot;signin_success&quot;: &quot;http://success.url?jwt=?&quot; }</code>.
Para will redirect the user back to your host URL with the generated access token.</p>
<p>Support for logging in with LinkedIn is implemented by the <code>LinkedInAuthFilter</code>. This filter responds to requests at
<code>/linkedin_auth</code>.</p>
<p>To initiate a login with LinkedIn just redirect the user to the LinkedIn OAuth endpoint:</p>
<pre><code>linkedin.com/uas/oauth2/authorization
</code></pre><p>Pass the parameter <code>redirect_uri=/linkedin_auth</code> so Para can handle the response from LinkedIn.
For apps other than the root app use <code>redirect_uri=/linkedin_auth?appid=myapp</code> instead.</p>
<p><strong>Note:</strong> You need to <a href="https://www.linkedin.com/developer/apps">register a new application with LinkedIn</a>
in order to obtain an access and secret keys.</p>
<p>Below is an example Javascript code for a LinkedIn login button:</p>
<pre><code class="lang-js">$(<span class="hljs-string">"#linkedinLoginBtn"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">window</span>.location = <span class="hljs-string">"https://www.linkedin.com/uas/oauth2/authorization?"</span> +
                <span class="hljs-string">"response_type=code&amp;client_id={LINKEDIN_APP_ID}"</span> +
                <span class="hljs-string">"&amp;scope=r_emailaddress&amp;state="</span> + (<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime()) +
                <span class="hljs-string">"&amp;redirect_uri="</span> + <span class="hljs-built_in">window</span>.location.origin + <span class="hljs-string">"/linkedin_auth"</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
});
</code></pre>

						</section>
					</article>
					<a id="031-microsoft" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Microsoft support</h2>
						<section class="body  img-rounded">
							<blockquote>
<p>This describes the web authentication flow with Microsoft. You could also login with an existing access token from
Microsoft <a href="#034-api-jwt-signin">through the API</a>. This web flow sets a cookie, the API returns a JWT instead.</p>
</blockquote>
<p>First of all you need to have your API credentials ready by creating an app on Microsoft.
Then add them to your <code>application.conf</code> configuration file:</p>
<pre><code>para.ms_app_id = <span class="hljs-string">"..."</span>
para.ms_secret = <span class="hljs-string">"..."</span>
para.security.signin_success = <span class="hljs-string">"http://success.url"</span>
para.security.signin_failure = <span class="hljs-string">"http://failure.url"</span>
</code></pre><p>Or add these through the <a href="#050-api-settings-put">app settings API</a>:</p>
<pre><code>{
    <span class="hljs-string">"ms_app_id"</span>: <span class="hljs-string">"..."</span>
    <span class="hljs-string">"ms_secret"</span>: <span class="hljs-string">"..."</span>
    <span class="hljs-string">"signin_success"</span>: <span class="hljs-string">"http://success.url"</span>
    <span class="hljs-string">"signin_failure"</span>: <span class="hljs-string">"http://failure.url"</span>
}
</code></pre><p>If you want Para to generate a JWT token upon successful authentication, add the <code>jwt=?</code> parameter to your
<code>signin_success</code> url. For example <code>{ &quot;signin_success&quot;: &quot;http://success.url?jwt=?&quot; }</code>.
Para will redirect the user back to your host URL with the generated access token.</p>
<p>Support for logging in with Microsoft accounts is implemented by the <code>MicrosoftAuthFilter</code>.
This filter responds to requests at <code>/microsoft_auth</code>.</p>
<p>To initiate a login with Microsoft just redirect the user to the Microsoft OAuth endpoint:</p>
<pre><code>login.microsoftonline.com/common/oauth2/v2<span class="hljs-number">.0</span>/authorize
</code></pre><p>Pass the parameter <code>redirect_uri=/microsoft_auth</code> so Para can handle the response from Microsoft.
<strong>Note:</strong> The v2.0 endpoint for OAuth authentication with Microsoft doesn’t work well with query parameters in
the <code>redirect_uri</code> parameter. Instead, use the <code>state</code> parameter to remember the <code>appid</code> of your app (see example below).</p>
<p><strong>Note:</strong> You need to <a href="https://apps.dev.microsoft.com/#/appList">register a new application with Microsoft</a>
in order to obtain an access and secret keys.</p>
<p>Below is an example Javascript code for a Microsoft login button:</p>
<pre><code class="lang-js">$("#microsoftLoginBtn").click(function() {
        window.location = "https://login.microsoftonline.com/common/oauth2/v2.0/authorize?" +
                "response_type=code&amp;client_id={MICROSOFT_APP_ID}" +
                "&amp;scope=https%3A%2F%2Fgraph.microsoft.com%2Fuser.read&amp;state={YOUR_APP_ID}" +
                "&amp;redirect_uri=" + window.location.origin + "/microsoft_auth;
        return false;
});
</code></pre>

						</section>
					</article>
					<a id="031-twitter" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Twitter support</h2>
						<section class="body  img-rounded">
							<blockquote>
<p>This describes the web authentication flow with Twitter. You could also login with an existing access token from
Twitter <a href="#034-api-jwt-signin">through the API</a>. This web flow sets a cookie, the API returns a JWT instead.</p>
</blockquote>
<p>First of all you need to have your API credentials ready by creating an app on Twitter.
Then add them to your <code>application.conf</code> configuration file:</p>
<pre><code>para.tw_app_id = <span class="hljs-string">"..."</span>
para.tw_secret = <span class="hljs-string">"..."</span>
</code></pre><p>Or add these through the <a href="#050-api-settings-put">app settings API</a>:</p>
<pre><code>{
    <span class="hljs-string">"tw_app_id"</span>: <span class="hljs-string">"..."</span>
    <span class="hljs-string">"tw_secret"</span>: <span class="hljs-string">"..."</span>
    <span class="hljs-string">"signin_success"</span>: <span class="hljs-string">"http://success.url"</span>
    <span class="hljs-string">"signin_failure"</span>: <span class="hljs-string">"http://failure.url"</span>
}
</code></pre><p>If you want Para to generate a JWT token upon successful authentication, add the <code>jwt=?</code> parameter to your
<code>signin_success</code> url. For example <code>{ &quot;signin_success&quot;: &quot;http://success.url?jwt=?&quot; }</code>.
Para will redirect the user back to your host URL with the generated access token.</p>
<p>Support for logging in with Twitter is implemented by the <code>TwitterAuthFilter</code>. This filter responds to requests at
<code>/twitter_auth</code>.</p>
<p>To initiate a login with Twitter just redirect the user to the <code>/twitter_auth</code>. This will redirect the user to Twitter
for authentication. For apps other than the root app, redirect to <code>/twitter_auth?appid=myapp</code>.</p>
<p><strong>Note:</strong> You need to <a href="https://apps.twitter.com/">register a new application with Twitter</a>
in order to obtain an access and secret keys.
The Twitter API does not share users’ emails by default, you have to ask Twitter to
<a href="https://dev.twitter.com/rest/reference/get/account/verify_credentials">whitelist your app first</a>.</p>
<p>Below is an example Javascript code for a Twitter login button:</p>
<pre><code class="lang-js">$(<span class="hljs-string">"#twitterLoginBtn"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">window</span>.location = <span class="hljs-string">"/twitter_auth"</span>;
        <span class="hljs-comment">// for apps other than the root app use:</span>
        <span class="hljs-comment">// window.location = "/twitter_auth?appid=myapp";</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
});
</code></pre>

						</section>
					</article>
					<a id="032-roles" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Groups and roles</h2>
						<section class="body  img-rounded">
							<p>Para defines three security groups and roles:</p>
<ul>
<li><code>users</code> group with role <code>user</code> (normal users)</li>
<li><code>mods</code> group with role <code>mod</code> (moderators)</li>
<li><code>admins</code> group with role <code>admin</code> (administrators)</li>
</ul>
<p>There is also a special role <code>app</code> for applications.</p>

						</section>
					</article>
					<a id="033-csrf" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>CSRF protection</h2>
						<section class="body  img-rounded">
							<p>Cross-Site Request Forgery protection is enabled by default for all <code>POST</code>, <code>PUT</code> and <code>DELETE</code> requests.
It works by verifying that incoming requests contain a security token (CSRF token) and it matches the one stored on the
server. CSRF protection is disabled for API requests.</p>
<p>To disable the CSRF protection set <code>para.security.csrf_protection</code> to <code>false</code>. You can also tell Para to send a cookie
containing the CSRF token by setting <code>para.security.csrf_cookie</code> as the cookie name. Leaving this parameter blank will
disable the CSRF cookie.</p>
<p>For example, if you wish to integrate CSRF protection with AngularJS you can do so by setting
the cookie name to <code>XSRF-TOKEN</code> which is the default cookie used by AngularJS. Also you need to configure AngularJS to
send the correct CSRF header to Para which is <code>X-CSRF-TOKEN</code> like so:</p>
<pre><code class="lang-js">$httpProvider.defaults.xsrfHeaderName = <span class="hljs-string">"X-CSRF-TOKEN"</span>;
</code></pre>
<p>In order to get a CSRF token from the server you need to send a <code>POST</code> request to a protected resource
like <code>POST /protected/ping</code> and the server will return the token as cookie.</p>

						</section>
					</article>
					<a id="033-restauth" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>Authentication</h2>
						<section class="body  img-rounded">
							<p>Para uses the <strong>AWS Signature Version 4</strong> algorithm for signing API requests. We chose this algorithm instead
of OAuth because it is less complicated and is already implemented inside the AWS Java SDK, which we have a direct
dependency. In terms of security, both algorithms are considered very secure so there’s no compromise in that aspect.</p>
<p>Para offers two ways of authentication - one for apps using API keys and one for insecure clients (mobile, JS) using JWT.
Apps authenticated with a secret key have full access to the API. Users authenticated with social login are issued JWT
tokens and have limited access to the API, for example they can’t generate new API keys and they are authorized by
specific resource permissions (see <a href="#012-permissions">Resource permissions</a>).</p>
<h3 id="full-access-for-apps">Full access for apps</h3>
<p>In order to make a request to the API you need to have a pair of access and secret keys. Access keys are part of the
HTTP request and secret keys are used for signing only and must be kept safe.</p>
<p>We recommend that you choose one of our API client libraries to handle the authentication for you.</p>
<h3 id="first-time-setup">First-time setup</h3>
<p>Call <code>GET /v1/_setup</code> to get your first key pair. Once you do this you will get back a response like:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"secretKey"</span>: <span class="hljs-string">"U3VTNifLPqnZ1W2S3pVVuKG4HOVbimMocdDMl8T69BB001AXGZtwZw=="</span>,
    <span class="hljs-string">"accessKey"</span>: <span class="hljs-string">"YXBwOnBhcmE="</span>,
    <span class="hljs-string">"info"</span>:        <span class="hljs-string">"Save the secret key! It is showed only once!"</span>
}
</code></pre>
<p>Make sure you <strong>save</strong> these security credentials because the API can only be accessed with them. Once you have the
keys you can start making signed requests to the API. Also you can use these keys to create applications which will
have their own separate keys (see <a href="#34">Apps</a>).</p>
<p><strong>Note:</strong> when a resource has public permissions you can access it without setting the <code>Authorization</code> header.
Simply specify your access key as a parameter:</p>
<pre><code>GET /v1/public/resource?accessKey=app:myapp
</code></pre><h3 id="changing-keys">Changing keys</h3>
<p>Call <code>POST /v1/_newkeys</code> to generate a new secret key (<em>the request must be signed with the old keys</em>).</p>
<h3 id="disabling-api-security">Disabling API security</h3>
<p>To disable the API security completely, set the config parameter <code>para.security.api_security</code> to <code>false</code>.</p>
<p>If you wish to disable all API functions completely, set the config parameter <code>para.api_enabled&quot; to</code>false`.</p>
<blockquote>
<p>For more information see the <a href="http://docs.aws.amazon.com/AmazonS3/latest/API/sig-v4-authenticating-requests.html">AWS documentation</a>
for REST authentication.</p>
</blockquote>
<h3 id="json-web-tokens-client-access-based-on-permissions">JSON Web Tokens - client access based on permissions</h3>
<blockquote>
<p><strong>Important:</strong> Access to the root app can be enabled or disabled for API clients.</p>
</blockquote>
<p>To allow clients with access tokens to make API calls to the root app, use this configuration property:</p>
<pre><code>para.clients_can_access_root_app = <span class="hljs-literal">true</span>
</code></pre><p>This is useful if you only have one app on the server. When hosting multiple apps on Para, this should be set to <code>false</code>.
This does not affect clients that use an <code>accessKey</code> and a <code>secretKey</code>, only those that use access tokens (JWT).</p>
<p>In production, when Para is deployed as a multitenant server (hosting many apps), it is recommended that API clients
are not allowed to access root app through the API with <code>para.clients_can_access_root_app = false</code>.</p>
<p>Para apps can create new users and grant them specific permissions by implementing social login (identity federation).
First a user authenticates with their social identity provider such as Facebook, then comes back to Para with the
<code>access_token</code> and is issued a new JSON Web Token that allows him to access the REST API.</p>
<p>JWT tokens are a new standard for authentication which is similar to cookies but is more secure, compact and stateless.
An encoded token looks like this:</p>
<pre><code>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG
<span class="hljs-number">4</span>gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ
</code></pre><p>When decoded the token looks like this:</p>
<pre><code class="lang-js"><span class="hljs-comment">// HEADER:</span>
{
  <span class="hljs-string">"alg"</span>: <span class="hljs-string">"HS256"</span>,
  <span class="hljs-string">"typ"</span>: <span class="hljs-string">"JWT"</span>
}
<span class="hljs-comment">// PAYLOAD:</span>
{
  <span class="hljs-string">"sub"</span>: <span class="hljs-string">"587408205806571520"</span>,
  <span class="hljs-string">"appid"</span>: <span class="hljs-string">"app:para"</span>,
    <span class="hljs-string">"refresh"</span>: <span class="hljs-number">1450137214490</span>,
  <span class="hljs-string">"nbf"</span>: <span class="hljs-number">1450133614</span>,
    <span class="hljs-string">"exp"</span>: <span class="hljs-number">1450738414</span>,
    <span class="hljs-string">"iat"</span>: <span class="hljs-number">1450133614</span>
}
</code></pre>
<p>To authenticate with users with social login use the Para client:</p>
<pre><code class="lang-java">paraClient.signIn(String provider, String providerToken);
</code></pre>
<p>Supported providers are <code>facebook</code>, <code>google</code>, <code>twitter</code>, <code>github</code>, <code>linkedin</code>, <code>microsoft</code>, <code>password</code>, <code>oauth2</code>, <code>ldap</code>.</p>
<p>You will have to add the API credentials for each of these in your <code>application.conf</code> configuration file:</p>
<pre><code class="lang-bash"><span class="hljs-comment"># facebook</span>
para.fb_app_id = <span class="hljs-string">"..."</span>
para.fb_secret = <span class="hljs-string">"..."</span>
<span class="hljs-comment"># google</span>
para.gp_app_id = <span class="hljs-string">"..."</span>
para.gp_secret = <span class="hljs-string">"..."</span>
<span class="hljs-comment"># linkedin</span>
para.in_app_id = <span class="hljs-string">"..."</span>
para.in_secret = <span class="hljs-string">"..."</span>
<span class="hljs-comment"># twitter</span>
para.tw_app_id = <span class="hljs-string">"..."</span>
para.tw_secret = <span class="hljs-string">"..."</span>
<span class="hljs-comment"># github</span>
para.gh_app_id = <span class="hljs-string">"..."</span>
para.gh_secret = <span class="hljs-string">"..."</span>
<span class="hljs-comment"># microsoft</span>
para.ms_app_id = <span class="hljs-string">"..."</span>
para.ms_secret = <span class="hljs-string">"..."</span>
<span class="hljs-comment"># generic oauth2</span>
para.oa2_app_id = <span class="hljs-string">"..."</span>
para.oa2_secret = <span class="hljs-string">"..."</span>
</code></pre>
<p>For example calling <code>paraClient.signIn(&quot;facebook&quot;, &quot;facebook_access_token&quot;)</code> should return a new <code>User</code> object and would
store the JWT token in memory. To get an access token from Facebook, use their JavaScript SDK.</p>
<p>After you call <code>paraClient.signIn()</code> and the request succeeds, the client caches the access token and <strong>all subsequent
requests</strong> to the API will include that token until <code>paraClient.signOut()</code> is called. This is different from the normal
operation using access and secret keys. Tokens can only authenticate users.</p>
<p>To get or set access tokens use:</p>
<pre><code class="lang-java">paraClient.getAccessToken();
paraClient.setAccessToken(String token);
</code></pre>
<p>To sign out and clear the JWT access token use:</p>
<pre><code class="lang-java">paraClient.signOut();
</code></pre>
<p>Tokens can also be revoked by calling <code>paraClient.revokeAllTokens()</code> but this only works for authenticated users.
The Para client takes care of refreshing the JWT tokens every hour and by default all tokens are valid for a week.</p>
<h3 id="creating-super-tokens">Creating “super” tokens</h3>
<p>Since v1.18.3 we’ve added the support for “super” JSON web tokens. These are just like normal tokens for users, but
instead of authenticating users we can authenticate apps with them. The give clients full access to the API, bypassing
permissions. You don’t need to connect to a social identity provider like Facebook or Twitter - you simply generate
the tokens on the client-side. Your code will need both the access key and secret key for this purpose.</p>
<p>For example, lets assume we have some JavaScript app running in the browser and we need admin access to our Para app.
We could use the <a href="https://github.com/Erudika/para-client-js">JavaScript client for Para</a> but putting the secret key
inside client-side code on the browser is <em>not a smart move</em>. So we pull in a library for generating JWT, like
<a href="https://github.com/kjur/jsrsasign">jsrsasign</a> and we create the token ourselves. Here’s a snippet:</p>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getJWT</span>(<span class="hljs-params">appid, secret</span>) </span>{
    <span class="hljs-keyword">var</span> now = <span class="hljs-built_in">Math</span>.round(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime() / <span class="hljs-number">1000</span>);
    <span class="hljs-keyword">var</span> sClaim = <span class="hljs-built_in">JSON</span>.stringify({
        <span class="hljs-attr">exp</span>: now + (<span class="hljs-number">7</span> * <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span>), <span class="hljs-comment">// expires at</span>
        iat: now, <span class="hljs-comment">// issued at</span>
        nbf: now, <span class="hljs-comment">// not valid before</span>
        appid: appid <span class="hljs-comment">// app id must be present</span>
    });
    <span class="hljs-keyword">var</span> sHeader = <span class="hljs-built_in">JSON</span>.stringify({<span class="hljs-string">'alg'</span>: <span class="hljs-string">'HS256'</span>, <span class="hljs-string">'typ'</span>: <span class="hljs-string">'JWT'</span>});
    <span class="hljs-keyword">return</span> KJUR.jws.JWS.sign(<span class="hljs-literal">null</span>, sHeader, sClaim, secret);
}
</code></pre>
<p>Your JS app could ask the user for the access keys, create a JWT and then discard the keys and use the newly generated
“super” token. Once we have this we can attach it to every request as a header:</p>
<pre><code class="lang-js">Authorization: Bearer eyJhbGciOiVCJ9.eyJzdWIiOi0._MKAH6SGiKSoqgwmqUaxuMyE
</code></pre>
<p>When calling the Para API from JavaScript in the browser, make sure you are running a web server and not as <code>file:///</code>
or your browser might not allow CORS requests. Also check that CORS is enabled in Para with <code>para.cors_enabled = true</code>.</p>

						</section>
					</article>
					<a id="034-api-intro" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
							<h2>API methods</h2>
						<section class="body  img-rounded">
							<blockquote>
<p>All API methods below <strong>require authentication</strong> by default unless it’s written otherwise.</p>
</blockquote>
<h2 id="limiting-which-fields-are-returned-by-the-api">Limiting which fields are returned by the API</h2>
<p>Field limiting is supported on all requests by using the query parameter <code>select=xxx,yyy</code>.
This parameter takes a comma separated list of fields to include. For example:</p>
<p><code>GET /myobjects?select=id,name,my_field1,my_field2</code></p>
<p><br><br>
<a href="#" class="radius collapse-expand-link">&blacktriangledown;&blacktriangle; collapse/expand all</a></p>

						</section>
					</article>
					<a id="034-api-jwt-signin" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="POST img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-info">POST</span>
										<span class="gray">
											/jwt_auth 
										</span>
									</code>
									<span class="hidden-xs">Sign in (JWT)</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Takes an identity provider access token and fetches the user data from that provider. A new <code>User</code> object is created
if that user doesn’t exist and is then returned. Access tokens are returned upon successful authentication
using one of the SDKs from Facebook, Google, Twitter, etc.</p>
<p><strong>Note:</strong> Twitter uses OAuth 1 and gives you a token and a token secret so you must concatenate them first -
<code>{oauth_token}:{oauth_token_secret}</code>, and then use that as the provider access token.
Also if you use the <code>password</code> provider, the <code>token</code> parameter must be in the format <code>{email}:{full_name}:{password}</code> or
<code>{email}::{password}</code> (must be <code>::</code> if name is empty). For LDAP the token looks similar - <code>{uid}:{password}</code> (single <code>:</code>).</p>
<p>Also keep in mind that when a new user signs in with a password and unverified email, through <code>/jwt_auth</code>,
Para will create the user but will return an error <code>400</code> indicating that the user is not active and cannot be authenticated.
Once the email is verified and the user is set to <code>active: true</code>, subsequent sign in attempts will be successful.</p>
<h3 id="request">Request</h3>
<ul>
<li><strong>body</strong> - a JSON object containing <code>appid</code>, <code>provider</code> and <code>token</code> properties (required).</li>
</ul>
<p>Request body example for authenticating with email and password:</p>
<pre><code>{
    <span class="hljs-string">"appid"</span>: <span class="hljs-string">"app:myapp"</span>,
    <span class="hljs-string">"provider"</span>: <span class="hljs-string">"password"</span>,
    <span class="hljs-string">"token"</span>: <span class="hljs-string">"user@domain.com::password123"</span>
}
</code></pre><p>Request body example for Facebook:</p>
<pre><code>{
    <span class="hljs-string">"appid"</span>: <span class="hljs-string">"app:myapp"</span>,
    <span class="hljs-string">"provider"</span>: <span class="hljs-string">"facebook"</span>,
    <span class="hljs-string">"token"</span>: <span class="hljs-string">"eyJhbGciOiJIUzI1NiJ9.eWIiO..."</span>
}
</code></pre><p>The <code>appid</code> is the id of your own app that you’re trying to sign in to. The <code>provider</code> field a string and can be
one of the following values:</p>
<ul>
<li><code>facebook</code> - sign in with Facebook account,</li>
<li><code>google</code> - sign in with Google account,</li>
<li><code>twitter</code> - sign in with Twitter account,</li>
<li><code>github</code> - sign in with GitHub account,</li>
<li><code>linkedin</code> - sign in with LinkedIn account,</li>
<li><code>microsoft</code> - sign in with Microsoft account,</li>
<li><code>password</code> - sign in with email and password.</li>
<li><code>oauth2</code> - sign in with generic OAuth 2.</li>
<li><code>ldap</code> - sign in with LDAP.</li>
</ul>
<h3 id="response">Response</h3>
<p>Returns a JSON object containing JWT properties and a <code>User</code> object. The returned JWT properties are:</p>
<ul>
<li><code>access_token</code> - the JWT access token.</li>
<li><code>expires</code> - a Java timestamp of when the token will expire.</li>
<li><p><code>refresh</code> - a Java timestamp indicating when API clients should refresh their tokens,
usually 1 hour after token has been issued.</p>
</li>
<li><p><strong>status codes</strong> - <code>200</code>, <code>400</code></p>
</li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"jwt"</span>: {
        <span class="hljs-string">"access_token"</span>: <span class="hljs-string">"eyJhbGciOiJIUzI1NiJ9.eyJ..."</span>,
        <span class="hljs-string">"expires"</span>: <span class="hljs-number">1450137214490</span>,
        <span class="hljs-string">"refresh"</span>: <span class="hljs-number">1450137216490</span>
    },
    <span class="hljs-string">"user"</span>: {
        <span class="hljs-string">"id"</span>:<span class="hljs-string">"user1"</span>,
        <span class="hljs-string">"timestamp"</span>: <span class="hljs-number">1399721289987</span>,
        <span class="hljs-string">"type"</span>:<span class="hljs-string">"user"</span>,
        <span class="hljs-string">"appid"</span>:<span class="hljs-string">"myapp"</span>,
        ...
    }
}
</code></pre>

						</section>
					</article>
					<a id="035-api-jwt-refresh" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-success">GET</span>
										<span class="gray">
											/jwt_auth 
										</span>
									</code>
									<span class="hidden-xs">Token refresh (JWT)</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Refreshes the access token if and only if the provided token is valid and not expired.
Tokens should be refreshed periodically in order to keep users logged in for longer periods of time.</p>
<h3 id="request">Request</h3>
<p>Request should include an <code>Authorization: Bearer {JWT_TOKEN}</code> header containing a valid access token. (required)
As an alternative you could provide the token as query parameter instead of a header.</p>
<h3 id="response">Response</h3>
<p>Returns a JSON object containing a <strong>new</strong> JWT token and the same <code>User</code> object. The returned JWT properties are:</p>
<ul>
<li><code>access_token</code> - the JWT access token.</li>
<li><code>expires</code> - a Java timestamp of when the token will expire.</li>
<li><p><code>refresh</code> - a Java timestamp indicating when API clients should refresh their tokens.</p>
</li>
<li><p><strong>status codes</strong> - <code>200</code>, <code>400</code></p>
</li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"jwt"</span>: {
        <span class="hljs-string">"access_token"</span>: <span class="hljs-string">"eyJhbGciOiJIUzI1NiJ9.eyJ..."</span>,
        <span class="hljs-string">"expires"</span>: <span class="hljs-number">1450137214490</span>,
        <span class="hljs-string">"refresh"</span>: <span class="hljs-number">1450137216490</span>
    },
    <span class="hljs-string">"user"</span>: {
        <span class="hljs-string">"id"</span>:<span class="hljs-string">"user1"</span>,
        <span class="hljs-string">"timestamp"</span>: <span class="hljs-number">1399721289987</span>,
        <span class="hljs-string">"type"</span>:<span class="hljs-string">"user"</span>,
        <span class="hljs-string">"appid"</span>:<span class="hljs-string">"myapp"</span>,
        ...
    }
}
</code></pre>

						</section>
					</article>
					<a id="035-api-jwt-revoke" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="DELETE img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-danger">DELETE</span>
										<span class="gray">
											/jwt_auth 
										</span>
									</code>
									<span class="hidden-xs">Revoke all tokens (JWT)</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Revokes all user tokens for the user that is currently logged in. This would be equivalent to “logout everywhere”.
<strong>Note:</strong> Generating a new API secret on the server will also invalidate all client tokens.</p>
<h3 id="request">Request</h3>
<p>Request should include an <code>Authorization: Bearer {JWT_TOKEN}</code> header containing a valid access token. (required)
As an alternative you could provide the token as query parameter instead of a header.</p>
<h3 id="response">Response</h3>
<p>Returns a JSON object containing a <strong>new</strong> JWT token and the same <code>User</code> object. The returned JWT properties are:</p>
<ul>
<li><code>access_token</code> - the JWT access token.</li>
<li><code>expires</code> - a Java timestamp of when the token will expire.</li>
<li><p><code>refresh</code> - a Java timestamp indicating when API clients should refresh their tokens.</p>
</li>
<li><p><strong>status codes</strong> - <code>200</code>, <code>400</code></p>
</li>
</ul>
<p>Example response (response is empty):</p>
<pre><code><span class="hljs-number">200</span> OK
</code></pre>
						</section>
					</article>
					<a id="036-api-create" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="POST img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-info">POST</span>
										<span class="gray">
											/v1/{type} 
										</span>
									</code>
									<span class="hidden-xs">Create object</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Creates a new object of type <code>{type}</code>. You can also create objects with custom types and fields (since v1.4.0).</p>
<h3 id="request">Request</h3>
<ul>
<li><strong>body</strong> - the JSON object to create</li>
<li><code>{type}</code> - the plural form of the object’s type, e.g. “users”</li>
</ul>
<p><strong>Example request body:</strong></p>
<pre><code class="lang-js">{
    <span class="hljs-string">"type"</span>:<span class="hljs-string">"tag"</span>,
    <span class="hljs-string">"plural"</span>:<span class="hljs-string">"tags"</span>,
    <span class="hljs-string">"tag"</span>:<span class="hljs-string">"tag1"</span>
}
</code></pre>
<p>Notice how the <code>type</code> field is in singular form and the <code>plural</code> field is the plural form of the type’s name.
These are required for mapping types to URLs.</p>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>201</code>, <code>400</code></li>
</ul>
<p>Example response for a <code>Tag</code>:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"id"</span>:<span class="hljs-string">"tag:tag1"</span>,
    <span class="hljs-string">"timestamp"</span>:<span class="hljs-number">1399721289987</span>,
    <span class="hljs-string">"type"</span>:<span class="hljs-string">"tag"</span>,
    <span class="hljs-string">"appid"</span>:<span class="hljs-string">"para"</span>,
    <span class="hljs-string">"name"</span>:<span class="hljs-string">"tag tag:tag1"</span>,
    <span class="hljs-string">"votes"</span>:<span class="hljs-number">0</span>,
    <span class="hljs-string">"plural"</span>:<span class="hljs-string">"tags"</span>,
    <span class="hljs-string">"objectURI"</span>:<span class="hljs-string">"/tags/tag1"</span>,
    <span class="hljs-string">"tag"</span>:<span class="hljs-string">"tag1"</span>,
    <span class="hljs-string">"count"</span>:<span class="hljs-number">0</span>
}
</code></pre>

						</section>
					</article>
					<a id="037-api-read" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-success">GET</span>
										<span class="gray">
											/v1/{type}/{id} 
										</span>
									</code>
									<span class="hidden-xs">Read object</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Returns an object of type <code>{type}</code>.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{type}</code> - the plural form of the object’s type, e.g. “users”</li>
<li><code>{id}</code> - the <code>id</code></li>
</ul>
<p><strong>Note:</strong> If <code>{id}</code> is omitted then the response will be a list of all objects of the specified type.</p>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>404</code></li>
</ul>
<p>Example response for a <code>Tag</code>:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"id"</span>:<span class="hljs-string">"tag:tag1"</span>,
    <span class="hljs-string">"timestamp"</span>:<span class="hljs-number">1399721289987</span>,
    <span class="hljs-string">"type"</span>:<span class="hljs-string">"tag"</span>,
    <span class="hljs-string">"appid"</span>:<span class="hljs-string">"para"</span>,
    <span class="hljs-string">"name"</span>:<span class="hljs-string">"tag tag:tag1"</span>,
    <span class="hljs-string">"votes"</span>:<span class="hljs-number">0</span>,
    <span class="hljs-string">"plural"</span>:<span class="hljs-string">"tags"</span>,
    <span class="hljs-string">"objectURI"</span>:<span class="hljs-string">"/tags/tag1"</span>,
    <span class="hljs-string">"tag"</span>:<span class="hljs-string">"tag1"</span>,
    <span class="hljs-string">"count"</span>:<span class="hljs-number">0</span>
}
</code></pre>

						</section>
					</article>
					<a id="038-api-overwrite" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="PUT img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-warning">PUT</span>
										<span class="gray">
											/v1/{type}/{id} 
										</span>
									</code>
									<span class="hidden-xs">Overwrite object</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Overwrites an object of type <code>{type}</code>. If the object with this <code>{id}</code> doesn’t exist then a new one will be created.</p>
<h3 id="request">Request</h3>
<ul>
<li><strong>body</strong> - the JSON data to merge with the stored object</li>
<li><code>{type}</code> - the plural form of the object’s type, e.g. “users”</li>
<li><code>{id}</code> - the <code>id</code></li>
</ul>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code>, <code>404</code>, <code>500</code></li>
</ul>
<p>Example response for a <code>Tag</code> with updated <code>count</code>:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"id"</span>:<span class="hljs-string">"tag:tag1"</span>,
    <span class="hljs-string">"timestamp"</span>:<span class="hljs-number">1399721289987</span>,
    <span class="hljs-string">"type"</span>:<span class="hljs-string">"tag"</span>,
    <span class="hljs-string">"appid"</span>:<span class="hljs-string">"para"</span>,
    <span class="hljs-string">"name"</span>:<span class="hljs-string">"tag tag:tag1"</span>,
    <span class="hljs-string">"votes"</span>:<span class="hljs-number">0</span>,
    <span class="hljs-string">"plural"</span>:<span class="hljs-string">"tags"</span>,
    <span class="hljs-string">"objectURI"</span>:<span class="hljs-string">"/tags/tag1"</span>,
    <span class="hljs-string">"tag"</span>:<span class="hljs-string">"tag1"</span>,
    <span class="hljs-string">"count"</span>:<span class="hljs-number">55</span>
}
</code></pre>

						</section>
					</article>
					<a id="038-api-update" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="PATCH img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-default">PATCH</span>
										<span class="gray">
											/v1/{type}/{id} 
										</span>
									</code>
									<span class="hidden-xs">Update object</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Updates an existing object of type <code>{type}</code>. Partial objects are supported, meaning that only a few fields could be
updated, without having to send the whole object.</p>
<p><strong>Vote requests</strong>: these are a special kind of <code>PATCH</code> request, which has a body like <code>{&quot;_voteup&quot;: &quot;user123&quot;}</code> or
<code>{&quot;_votedown&quot;: &quot;user123&quot;}</code>. Here <code>user123</code> is the <code>id</code> of the voter. A successful vote request either increments or
decrements the <code>votes</code> field by 1.</p>
<h3 id="request">Request</h3>
<ul>
<li><strong>body</strong> - the JSON object to merge with the stored object <strong>OR</strong> a vote request body like <code>{&quot;_voteup&quot;: &quot;user123&quot;}</code></li>
<li><code>{type}</code> - the plural form of the object’s type, e.g. “users”</li>
<li><code>{id}</code> - the <code>id</code></li>
</ul>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code>, <code>404</code>, <code>500</code>, vote requests return <code>true</code> or <code>false</code></li>
</ul>
<p>Example response for a <code>Tag</code> with updated <code>count</code>:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"id"</span>:<span class="hljs-string">"tag:tag1"</span>,
    <span class="hljs-string">"timestamp"</span>:<span class="hljs-number">1399721289987</span>,
    <span class="hljs-string">"type"</span>:<span class="hljs-string">"tag"</span>,
    <span class="hljs-string">"appid"</span>:<span class="hljs-string">"para"</span>,
    <span class="hljs-string">"name"</span>:<span class="hljs-string">"tag tag:tag1"</span>,
    <span class="hljs-string">"votes"</span>:<span class="hljs-number">0</span>,
    <span class="hljs-string">"plural"</span>:<span class="hljs-string">"tags"</span>,
    <span class="hljs-string">"objectURI"</span>:<span class="hljs-string">"/tags/tag1"</span>,
    <span class="hljs-string">"tag"</span>:<span class="hljs-string">"tag1"</span>,
    <span class="hljs-string">"count"</span>:<span class="hljs-number">55</span>
}
</code></pre>

						</section>
					</article>
					<a id="039-api-delete" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="DELETE img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-danger">DELETE</span>
										<span class="gray">
											/v1/{type}/{id} 
										</span>
									</code>
									<span class="hidden-xs">Delete object</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Deletes an existing object of type <code>{type}</code>. Returns code <code>200</code> regardless of the success of the request.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{type}</code> - the plural form of the object’s type, e.g. “users”</li>
<li><code>{id}</code> - the <code>id</code></li>
</ul>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code></li>
</ul>
<p>No content.</p>

						</section>
					</article>
					<a id="040-api-batch-create" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="POST img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-info">POST</span>
										<span class="gray">
											/v1/_batch 
										</span>
									</code>
									<span class="hidden-xs">Batch create</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Creates multiple objects with a single request. <code>PUT</code> requests to this resource are equivalent to <code>POST</code>.</p>
<h3 id="request">Request</h3>
<ul>
<li><strong>body</strong> - a JSON array of objects to create (required).</li>
</ul>
<p><strong>Maximum request size is 1 megabyte.</strong></p>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code></li>
</ul>
<p>Example response for creating 3 objects (returns a list of the created objects):</p>
<pre><code class="lang-js">[ { <span class="hljs-string">"id"</span>:<span class="hljs-string">"id1"</span>, ... }, { <span class="hljs-string">"id"</span>:<span class="hljs-string">"id2"</span>, ... }, { <span class="hljs-string">"id"</span>:<span class="hljs-string">"id3"</span>, ... } ]
</code></pre>

						</section>
					</article>
					<a id="041-api-batch-read" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-success">GET</span>
										<span class="gray">
											/v1/_batch 
										</span>
									</code>
									<span class="hidden-xs">Batch read</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Returns a list of objects given their <code>id</code> fields.</p>
<h3 id="parameters">Parameters</h3>
<ul>
<li><code>ids</code> - a list of <code>id</code>s of existing objects (required).</li>
</ul>
<p><strong>Example:</strong> <code>GET /v1/_batch?ids=id1&amp;ids=id2&amp;ids=id3</code></p>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code> (if no <code>ids</code> are specified)</li>
</ul>
<p>Example response for reading 3 objects:</p>
<pre><code class="lang-js">[ { <span class="hljs-string">"id"</span>:<span class="hljs-string">"id1"</span>, ... }, { <span class="hljs-string">"id"</span>:<span class="hljs-string">"id2"</span>, ... }, { <span class="hljs-string">"id"</span>:<span class="hljs-string">"id3"</span>, ... } ]
</code></pre>

						</section>
					</article>
					<a id="042-api-batch-update" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="PATCH img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-default">PATCH</span>
										<span class="gray">
											/v1/_batch 
										</span>
									</code>
									<span class="hidden-xs">Batch update</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Updates multiple objects with a single request. Partial objects are supported.
<strong>Note:</strong> These objects will not be validated as this would require us to read them first and validate them one by one.</p>
<h3 id="request">Request</h3>
<ul>
<li><strong>body</strong> - a JSON array of objects to update (required). The fields <code>id</code> and <code>type</code> are required for each object.</li>
</ul>
<p><strong>Maximum request size is 1 megabyte.</strong></p>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code></li>
</ul>
<p>Example response for updating 3 objects (returns a list of the updated objects):</p>
<pre><code class="lang-js">[ {
    <span class="hljs-string">"id"</span>:<span class="hljs-string">"id1"</span>,
    <span class="hljs-string">"type"</span>:<span class="hljs-string">"type1"</span>,
    <span class="hljs-string">"name"</span>:<span class="hljs-string">"newName1"</span>, ...
  }, {
    <span class="hljs-string">"id"</span>:<span class="hljs-string">"id2"</span>,
    <span class="hljs-string">"type"</span>:<span class="hljs-string">"type2"</span>,
    <span class="hljs-string">"name"</span>:<span class="hljs-string">"newName2"</span>, ...
  }, {
     <span class="hljs-string">"id"</span>:<span class="hljs-string">"id3"</span>,
     <span class="hljs-string">"type"</span>:<span class="hljs-string">"type3"</span>,
     <span class="hljs-string">"name"</span>:<span class="hljs-string">"newName3"</span>, ...
} ]
</code></pre>

						</section>
					</article>
					<a id="043-api-batch-delete" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="DELETE img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-danger">DELETE</span>
										<span class="gray">
											/v1/_batch 
										</span>
									</code>
									<span class="hidden-xs">Batch delete</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Deletes multiple objects with a single request.</p>
<h3 id="parameters">Parameters</h3>
<ul>
<li><code>ids</code> - a list of <code>id</code>s of existing objects (required).</li>
</ul>
<p>Example: <code>DELETE /v1/_batch?ids=1&amp;ids=2</code> will delete the two objects with an <code>id</code> of <code>1</code> and <code>2</code>, respectively.</p>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code> (if request maximum number of <code>ids</code> is over the limit of ~30)</li>
</ul>
<p>No content.</p>

						</section>
					</article>
					<a id="044-api-basicsearch" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-success">GET</span>
										<span class="gray">
											/v1/{type} 
										</span>
									</code>
									<span class="hidden-xs">Basic search</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Searches for objects of type <code>{type}</code>.</p>
<p><strong>Note:</strong> Requests to this path and <code>/v1/{type}/search/{querytype}</code> are handled identically. Also, note that
custom fields must be used in search queries as <code>properties.myfield</code>.</p>
<p>For detailed syntax of the query string see
<a href="https://lucene.apache.org/core/2_9_4/queryparsersyntax.html">Lucene’s query string syntax</a>.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{type}</code> - the plural form of the object’s type, e.g. “users”</li>
<li><code>{querytype}</code> - the type of query to execute (optional, see <a href="#015-search">Search</a>)</li>
</ul>
<h4 id="parameters">Parameters</h4>
<ul>
<li><code>q</code> - a search query string (optional). Defaults to <code>*</code> (all).</li>
<li><code>desc</code> - sort order - <code>true</code> for descending (optional). Default is <code>true</code>.</li>
<li><code>sort</code> - the field to sort by (optional).</li>
<li><code>limit</code> - the number of results to return. Default is <code>30</code>.</li>
<li><code>page</code> - starting page for results (optional). (note: page size is 30 items by default)</li>
</ul>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code></li>
</ul>
<p>Example response for querying all tags <code>GET /v1/tags?q=*&amp;limit=3</code>:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"page"</span>:<span class="hljs-number">0</span>,
    <span class="hljs-string">"totalHits"</span>:<span class="hljs-number">3</span>,
    <span class="hljs-string">"items"</span>:[{
        <span class="hljs-string">"id"</span>:<span class="hljs-string">"tag:tag3"</span>,
        <span class="hljs-string">"timestamp"</span>:<span class="hljs-number">1400077389250</span>,
        <span class="hljs-string">"type"</span>:<span class="hljs-string">"tag"</span>,
        <span class="hljs-string">"appid"</span>:<span class="hljs-string">"para"</span>,
        <span class="hljs-string">"name"</span>:<span class="hljs-string">"tag tag:tag3"</span>,
        <span class="hljs-string">"votes"</span>:<span class="hljs-number">0</span>,
        <span class="hljs-string">"plural"</span>:<span class="hljs-string">"tags"</span>,
        <span class="hljs-string">"objectURI"</span>:<span class="hljs-string">"/tags/tag3"</span>,
        <span class="hljs-string">"tag"</span>:<span class="hljs-string">"tag3"</span>,
        <span class="hljs-string">"count"</span>:<span class="hljs-number">0</span>
    }, {
        <span class="hljs-string">"id"</span>:<span class="hljs-string">"tag:tag1"</span>,
        <span class="hljs-string">"timestamp"</span>:<span class="hljs-number">1400077383588</span>,
        <span class="hljs-string">"type"</span>:<span class="hljs-string">"tag"</span>,
        <span class="hljs-string">"appid"</span>:<span class="hljs-string">"para"</span>,
        <span class="hljs-string">"name"</span>:<span class="hljs-string">"tag tag:tag1"</span>,
        <span class="hljs-string">"votes"</span>:<span class="hljs-number">0</span>,
        <span class="hljs-string">"plural"</span>:<span class="hljs-string">"tags"</span>,
        <span class="hljs-string">"objectURI"</span>:<span class="hljs-string">"/tags/tag1"</span>,
        <span class="hljs-string">"tag"</span>:<span class="hljs-string">"tag1"</span>,
        <span class="hljs-string">"count"</span>:<span class="hljs-number">0</span>
    }, {
        <span class="hljs-string">"id"</span>:<span class="hljs-string">"tag:tag2"</span>,
        <span class="hljs-string">"timestamp"</span>:<span class="hljs-number">1400077386726</span>,
        <span class="hljs-string">"type"</span>:<span class="hljs-string">"tag"</span>,
        <span class="hljs-string">"appid"</span>:<span class="hljs-string">"para"</span>,
        <span class="hljs-string">"name"</span>:<span class="hljs-string">"tag tag:tag2"</span>,
        <span class="hljs-string">"votes"</span>:<span class="hljs-number">0</span>,
        <span class="hljs-string">"plural"</span>:<span class="hljs-string">"tags"</span>,
        <span class="hljs-string">"objectURI"</span>:<span class="hljs-string">"/tags/tag2"</span>,
        <span class="hljs-string">"tag"</span>:<span class="hljs-string">"tag2"</span>,
        <span class="hljs-string">"count"</span>:<span class="hljs-number">0</span>
    }]
}
</code></pre>

						</section>
					</article>
					<a id="045-api-search" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-success">GET</span>
										<span class="gray">
											/v1/search/{querytype} 
										</span>
									</code>
									<span class="hidden-xs">Advanced search</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Executes a search query.</p>
<p><strong>Note:</strong> custom fields must be used in search queries as <code>properties.myfield</code>.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{querytype}</code> - the type of query to execute (optional), use one of types below:</li>
</ul>
<p>The <code>querytype</code> parameter switches between the different query types. If this parameter is missing
then the generic <code>findQuery()</code> method will be executed by default.</p>
<h4 id="-id-query"><code>id</code> query</h4>
<p>Finds the object with the given <code>id</code> from the index or <code>null</code>.
This executes the method <code>findById()</code> with these <strong>parameters</strong>:</p>
<ul>
<li><code>id</code> - the id to search for</li>
</ul>
<hr>

<h4 id="-ids-query"><code>ids</code> query</h4>
<p>Finds all objects matchings the given ids.
This executes the method <code>findByIds()</code> with these <strong>parameters</strong>:</p>
<ul>
<li><code>ids</code> - a list of ids to search for</li>
</ul>
<hr>

<h4 id="-nested-query"><code>nested</code> query</h4>
<p>Searches through objects in a nested field named <code>nstd</code>. Used internally for joining search queries on linked objects.
This executes the method <code>findNestedQuery()</code> with these <strong>parameters</strong>:</p>
<ul>
<li><code>q</code> - a search query string</li>
<li><code>field</code> - the name of the field to target within a nested object</li>
<li><code>type</code> - a type to search for</li>
</ul>
<hr>

<h4 id="-nearby-query"><code>nearby</code> query</h4>
<p>Location-based search query. Relies on <code>Address</code> objects for coordinates.
This executes the method <code>findNearby()</code> with these <strong>parameters</strong>:</p>
<ul>
<li><code>latlng</code> - latitude and longitude of the center of the search perimeter</li>
<li><code>radius</code> - radius of the search perimeter in kilometers.</li>
</ul>
<hr>

<h4 id="-prefix-query"><code>prefix</code> query</h4>
<p>Searches for objects containing a field (property) that starts with the given prefix.
This executes the method <code>findPrefix()</code> with these <strong>parameters</strong>:</p>
<ul>
<li><code>field</code> - the field to search on</li>
<li><code>prefix</code> - the prefix</li>
</ul>
<hr>

<h4 id="-similar-query"><code>similar</code> query</h4>
<p>“More like this” search query.
This executes the method <code>findSimilar()</code> with these <strong>parameters</strong>:</p>
<ul>
<li><code>fields</code> - a list of fields, for example:<pre><code>GET /v1/search/similar?fields=field1&amp;fields=field2
</code></pre></li>
<li><code>filterid</code> - an id filter; excludes a particular object from the results</li>
<li><code>like</code> - the source text to use for comparison</li>
</ul>
<hr>

<h4 id="-tagged-query"><code>tagged</code> query</h4>
<p>Search for objects tagged with a set of tags.
This executes the method <code>findTagged()</code> with these <strong>parameters</strong>:</p>
<ul>
<li><code>tags</code> - a list of tags, for example:<pre><code>GET /v1/search/tagged?tags=tag1&amp;tags=tag2
</code></pre></li>
</ul>
<hr>

<h4 id="-in-query"><code>in</code> query</h4>
<p>Searches for objects containing any of the terms in the given list (matched exactly).
This executes the method <code>findTermInList()</code> with these <strong>parameters</strong>:</p>
<ul>
<li><code>field</code> - the field to search on</li>
<li><code>terms</code> - a list of terms (values)</li>
</ul>
<hr>

<h4 id="-terms-query"><code>terms</code> query</h4>
<p>Searches for objects containing all of the specified terms (matched exactly)
This executes the method <code>findTerms()</code> with these <strong>parameters</strong>:</p>
<ul>
<li><code>matchall</code> - if <code>true</code> executes an <code>AND</code> query, otherwise an <code>OR</code> query</li>
<li><code>terms</code> - a list of <code>field:term</code> pairs, for example:<pre><code>GET /v1/search/terms?terms=field1:term1&amp;terms=field2:term2
</code></pre></li>
<li><code>count</code> - if present will return 0 objects but the “totalHits” field will contain the total number of results found
that match the given terms.</li>
</ul>
<p>Since v1.9, the terms query supports ranges. For example if you have a pair like <code>&#39;age&#39;:25</code> and you want to
find objects with higher <code>age</code> value, you can modify the key to have a relational operator <code>&#39;age &gt;&#39;:25</code>. You can
use the <code>&gt;, &lt;, &gt;=, &lt;=</code> operators by appending them to the keys of the terms map.</p>
<hr>

<h4 id="-wildcard-query"><code>wildcard</code> query</h4>
<p>A wildcard query like “example<em>“.
This executes the method <code>findWildcard()</code> with these <em>*parameters</em></em>:</p>
<ul>
<li><code>field</code> - the field to search on</li>
</ul>
<hr>

<h4 id="-count-query"><code>count</code> query</h4>
<p>Returns the total number of results that would be returned by a query.
This executes the method <code>getCount()</code> with <strong>no parameters</strong>.</p>
<h3 id="request-parameters">Request parameters</h3>
<ul>
<li><code>q</code> - a search query string (optional). Defaults to <code>*</code> (all).</li>
<li><code>type</code> - the type of objects to search for (optional).
<code>prefix</code>, <code>tagged</code>, <code>in</code>, <code>terms</code>, <code>wildcard</code>, <code>count</code>. (see <a href="#015-search">Search</a>)</li>
<li><code>desc</code> - sort order - <code>true</code> for descending (optional). Default is <code>true</code>.</li>
<li><code>sort</code> - the field to sort by (optional).</li>
<li><code>page</code> - starting page for results (optional). (note: page size is 30 items by default)</li>
<li><code>limit</code> - the number of results to return</li>
</ul>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code></li>
</ul>
<p>Example response for counting all objects (just three for this example):</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"page"</span>:<span class="hljs-number">0</span>,
    <span class="hljs-string">"totalHits"</span>:<span class="hljs-number">3</span>,
    <span class="hljs-string">"items"</span>:[
    ]
}
</code></pre>

						</section>
					</article>
					<a id="046-api-links-get" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-success">GET</span>
										<span class="gray">
											/v1/{type}/{id}/links/{type2}/{id2} 
										</span>
									</code>
									<span class="hidden-xs">Find linked objects</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Call this method to search for objects that linked to the object with the given <code>{id}</code>.</p>
<p><strong>Note:</strong> When called with the parameter <code>?childrenonly</code>, the request is treated as a “one-to-many” search request.
It will do asearch for child objects directly connected to their parent by the <code>parentid</code> field. Without <code>?childrenonly</code>
the request is treated as a “many-to-many” search request.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{type}</code> - the type of the first object, e.g. “users”</li>
<li><code>{id}</code> - the <code>id</code> of the first object</li>
<li><code>{type2}</code> - the <code>type</code> of the second object (required)</li>
<li><code>{id2}</code> - the <code>id</code> field of the second object (optional)</li>
</ul>
<h4 id="parameters">Parameters</h4>
<ul>
<li><code>childrenonly</code> - if set and <code>{id2}</code> is not set, will return a list of child objects
(these are the objects with <code>parentid</code> equal to <code>{id}</code> above). Also if <code>field</code> and <code>term</code> parameters are set, the results
are filtered by the specified field and the value of that field (term).</li>
<li><code>count</code> - if set will return no items an the total number of linked objects. If <code>childrenonly</code> is set, this will
return only the count of child objects.</li>
<li><code>q</code> - query string, if set, all linked/child objects will be searched and those that match the query are returned.
To search only child objects that are linked by <code>parentid</code> use <code>q</code> in combination with <code>childrenonly</code>, otherwise
the <code>Linker</code> objects will be searched. Since v1.19 <code>Linker</code> objects contain a copy of the two objects they connect. This
enables Para to execute more complex “joined” search queries. The effectiveness of these is determined by how up-to-date
the data inside a <code>Linker</code> is.</li>
</ul>
<h3 id="response">Response</h3>
<ul>
<li>If the <code>{id2}</code> parameter is specified, the response will be a boolean text value - <code>true</code> if objects are linked.</li>
<li>If the <code>{id2}</code> parameter is missing, the response will be a list of linked objects. (pagination parameters are applicable)</li>
<li><p><code>childrenonly</code> - if set, the response will be a list of child objects (pagination parameters are applicable)</p>
</li>
<li><p><strong>status codes</strong> - <code>200</code>, <code>400</code> (if <code>type</code> parameter is missing)</p>
</li>
</ul>
<p>Example response if <code>id</code> is missing:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"page"</span>:X,
    <span class="hljs-string">"totalHits"</span>:Y,
    <span class="hljs-string">"items"</span>:[
        ...
    ]
}
</code></pre>
<p>Response if <code>id</code> is specified: <code>true</code> or <code>false</code></p>

						</section>
					</article>
					<a id="047-api-links-link" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="POST img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-info">POST</span>
										<span class="gray">
											/v1/{type}/{id}/links/{id2} 
										</span>
									</code>
									<span class="hidden-xs">Link objects</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>This will link the object with <code>{id}</code> to another object with the specified id in the <code>id</code> parameter.
The created link represents a many-to-many relationship (see also <a href="#019-one-to-many">one-to-many relationships</a>).</p>
<p>Don’t use this method for “one-to-many” links. Creating one-to-many links is trivial - just set the <code>parentid</code>
of an object (child) to be equal to the <code>id</code> field of another object (parent).</p>
<p><code>PUT</code> requests to this resource are equivalent to <code>POST</code>.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{type}</code> - the type of the first object, e.g. “users”</li>
<li><code>{id}</code> - the <code>id</code> of the first object</li>
<li><code>{id2}</code> - the <code>id</code> field of the second object (required)</li>
</ul>
<h3 id="response">Response</h3>
<p>Returns the <code>id</code> of the <code>Linker</code> object - the <code>linkId</code> - which contains the types and ids of the two objects.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code> (if any of the parameters are missing)</li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js"><span class="hljs-string">"type1:id1:type2:id2"</span>
</code></pre>

						</section>
					</article>
					<a id="048-api-links-unlink" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="DELETE img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-danger">DELETE</span>
										<span class="gray">
											/v1/{type}/{id}/links/{type2}/{id2} 
										</span>
									</code>
									<span class="hidden-xs">Unlink objects</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Unlinks or deletes the objects linked to the object with the specified <code>{id}</code>.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{type}</code> - the type of the first object, e.g. “users”</li>
<li><code>{id}</code> - the <code>id</code> of the first object</li>
<li><code>{type2}</code> - the <code>type</code> of the second object (not required, if this and <code>{id2}</code> are missing, it will unlink everything)</li>
<li><code>{id2}</code> - the <code>id</code> field of the second object (optional)</li>
</ul>
<h4 id="parameters">Parameters</h4>
<ul>
<li><code>all</code> - setting this will <strong>delete all</strong> linked objects (be careful!)</li>
<li><code>childrenonly</code> - if set, all child objects will be deleted rather than unlinked (be careful!)</li>
</ul>
<p><strong>Note:</strong></p>
<ul>
<li>If both <code>{type2}</code> and <code>{id2}</code> are not set, <strong>all linked objects will be unlinked from this one</strong>.</li>
<li>If <code>id</code> is set - the two objects are unlinked.</li>
<li>If <code>all</code> and <code>id</code> are not set, but <code>childrenonly</code> is set then the child objects with type <code>type</code> are <strong>deleted</strong>!
(these are the objects with <code>parentid</code> equal to <code>{id}</code> above)</li>
</ul>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code></li>
</ul>
<p>No content.</p>

						</section>
					</article>
					<a id="049-api-constraints-add" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="PUT img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-warning">PUT</span>
										<span class="gray">
											/v1/_constraints/{type}/{field}/{cname} 
										</span>
									</code>
									<span class="hidden-xs">Add constraint</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Adds a new validation constraint to the list of constraints for the given field and type.</p>
<h3 id="request">Request</h3>
<ul>
<li><strong>body</strong> - the JSON payload of the constraint (see the table below)</li>
<li><code>{type}</code> - the object type to which the constraint applies (required)</li>
<li><code>{field}</code> - the name of the field to which the constraint applies (required)</li>
<li><p><code>{cname}</code> - the constraint name (required), one of the following:</p>
<table class="table table-striped">
  <thead>
      <tr>
          <th>Name</th>
          <th>Payload (example)</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>required</code></td><td>none</td>
      </tr>
      <tr>
          <td><code>email</code></td><td>none</td>
      </tr>
      <tr>
          <td><code>false</code></td><td>none</td>
      </tr>
      <tr>
          <td><code>true</code></td><td>none</td>
      </tr>
      <tr>
          <td><code>past</code></td><td>none</td>
      </tr>
      <tr>
          <td><code>present</code></td><td>none</td>
      </tr>
      <tr>
          <td><code>url</code></td><td>none</td>
      </tr>
      <tr>
          <td><code>min</code></td><td><code>{ &quot;value&quot;: 123 }</code></td>
      </tr>
      <tr>
          <td><code>max</code></td><td><code>{ &quot;value&quot;: 123 }</code></td>
      </tr>
      <tr>
          <td><code>size</code></td><td><code>{ &quot;min&quot;: 123, &quot;max&quot;: 456 }</code></td>
      </tr>
      <tr>
          <td><code>digits</code></td><td><code>{ &quot;integer&quot;: 4, &quot;fraction&quot;: 2 }</code></td>
      </tr>
      <tr>
          <td><code>pattern</code></td><td><code>{ &quot;value&quot;: &quot;^[a-zA-Z]+$&quot; }</code></td>
      </tr>
  </tbody>
</table>

</li>
</ul>
<h3 id="response">Response</h3>
<p>Returns a JSON object containing the validation constraints for the given type.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code></li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"User"</span> : {
        <span class="hljs-string">"identifier"</span> : {
            <span class="hljs-string">"required"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.required"</span>
            }
        },
        <span class="hljs-string">"groups"</span> : {
            <span class="hljs-string">"required"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.required"</span>
            }
        },
        <span class="hljs-string">"email"</span> : {
            <span class="hljs-string">"required"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.required"</span>
            },
            <span class="hljs-string">"email"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.email"</span>
            }
        }
    },
    ...
}
</code></pre>

						</section>
					</article>
					<a id="049-api-constraints-get" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-success">GET</span>
										<span class="gray">
											/v1/_constraints/{type} 
										</span>
									</code>
									<span class="hidden-xs">List constraints</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Returns an object containing all validation constraints for all defined types in the current app.
This information can be used to power client-side validation libraries like
<a href="https://github.com/netceteragroup/valdr">valdr</a>.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{type}</code> - when supplied, returns only the constraints for this type (optional). If this parameter is omitted, all
constraints for all types will be returned.</li>
</ul>
<h3 id="response">Response</h3>
<p>Returns a JSON object with all validation constraints for a given type. The <code>message</code> field is a
key that can be used to retrieve a localized message.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code></li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"User"</span> : {
        <span class="hljs-string">"identifier"</span> : {
            <span class="hljs-string">"required"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.required"</span>
            }
        },
        <span class="hljs-string">"groups"</span> : {
            <span class="hljs-string">"required"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.required"</span>
            }
        },
        <span class="hljs-string">"email"</span> : {
            <span class="hljs-string">"required"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.required"</span>
            },
            <span class="hljs-string">"email"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.email"</span>
            }
        }
    },
    ...
}
</code></pre>

						</section>
					</article>
					<a id="049-api-constraints-rem" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="DELETE img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-danger">DELETE</span>
										<span class="gray">
											/v1/_constraints/{type}/{field}/{cname} 
										</span>
									</code>
									<span class="hidden-xs">Remove constraint</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Removes a validation constraint from the list of constraints for the given field and type.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{type}</code> - the object type to which the constraint applies (required)</li>
<li><code>{field}</code> - the name of the field to which the constraint applies (required)</li>
<li><code>{cname}</code> - the constraint name (required, see the table above)</li>
</ul>
<h3 id="response">Response</h3>
<p>Returns a JSON object containing the validation constraints for the given type.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code></li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"User"</span> : {
        <span class="hljs-string">"identifier"</span> : {
            <span class="hljs-string">"required"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.required"</span>
            }
        },
        <span class="hljs-string">"groups"</span> : {
            <span class="hljs-string">"required"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.required"</span>
            }
        },
        <span class="hljs-string">"email"</span> : {
            <span class="hljs-string">"required"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.required"</span>
            },
            <span class="hljs-string">"email"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.email"</span>
            }
        }
    },
    ...
}
</code></pre>

						</section>
					</article>
					<a id="049-api-id" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-success">GET</span>
										<span class="gray">
											/v1/_id/{id} 
										</span>
									</code>
									<span class="hidden-xs">Read by id</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Returns the object for the given <code>{id}</code>.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{id}</code> - the <code>id</code></li>
</ul>
<h3 id="response">Response</h3>
<p>Returns a JSON object.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>404</code></li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"id"</span> : <span class="hljs-string">"417283630780387328"</span>,
  <span class="hljs-string">"timestamp"</span> : <span class="hljs-number">1409572755025</span>,
  <span class="hljs-string">"type"</span> : <span class="hljs-string">"user"</span>,
    <span class="hljs-string">"name"</span> : <span class="hljs-string">"Gordon Freeman"</span>
    ...
}
</code></pre>

						</section>
					</article>
					<a id="049-api-me" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-success">GET</span>
										<span class="gray">
											/v1/_me 
										</span>
									</code>
									<span class="hidden-xs">Me object</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Returns the currently authenticated <code>User</code> or <code>App</code> object. If the request is unauthenticated 401 error is returned.</p>
<h3 id="request">Request</h3>
<p><strong>No parameters</strong>.</p>
<h3 id="response">Response</h3>
<p>Returns the JSON object for the authenticated <code>User</code> or <code>App</code>.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>401</code></li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"id"</span> : <span class="hljs-string">"417283630780387328"</span>,
  <span class="hljs-string">"timestamp"</span> : <span class="hljs-number">1409572755025</span>,
  <span class="hljs-string">"type"</span> : <span class="hljs-string">"user"</span>,
    <span class="hljs-string">"name"</span> : <span class="hljs-string">"Gordon Freeman"</span>
    ...
}
</code></pre>

						</section>
					</article>
					<a id="049-api-types-list" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-success">GET</span>
										<span class="gray">
											/v1/_types 
										</span>
									</code>
									<span class="hidden-xs">List types</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Returns a list of all known types for this application, including core types and user-defined types.
User-defined types are custom types which can be defined through the REST API and allow the users to call
the standard CRUD methods on them as if they were defined as regular Para objects.
See <a href="#010-userdefined">User-defined classes</a> for more details.</p>
<h3 id="request">Request</h3>
<p><strong>No parameters</strong>.</p>
<h3 id="response">Response</h3>
<p>Returns a list of all types that are defined for this application.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code></li>
</ul>
<p>Example response for querying all types:</p>
<pre><code class="lang-js">[
    <span class="hljs-string">"addresses"</span>:<span class="hljs-string">"address"</span>,
    <span class="hljs-string">"apps"</span>:<span class="hljs-string">"app"</span>,
    <span class="hljs-string">"sysprops"</span>:<span class="hljs-string">"sysprop"</span>,
    <span class="hljs-string">"tags"</span>:<span class="hljs-string">"tag"</span>,
    <span class="hljs-string">"translations"</span>:<span class="hljs-string">"translation"</span>,
    <span class="hljs-string">"users"</span>:<span class="hljs-string">"user"</span>,
    <span class="hljs-string">"votes"</span>:<span class="hljs-string">"vote"</span>
]
</code></pre>

						</section>
					</article>
					<a id="050-api-permissions-check" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-success">GET</span>
										<span class="gray">
											/v1/_permissions/{subjectid}/{resource}/{method} 
										</span>
									</code>
									<span class="hidden-xs">Check permission</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>This checks if a subject is allowed to execute a specific type of request on a resource.</p>
<p>There are several methods and flags which control which requests can go through. These are:</p>
<ul>
<li><code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>PATCH</code>, <code>DELETE</code> - use these to allow a certain method explicitly</li>
<li><code>?</code> - use this to enable public (unauthenticated) access to a resource</li>
<li><code>-</code> - use this to deny all access to a resource</li>
<li><code>*</code> - wildcard, allow all request to go through</li>
<li><code>OWN</code> - allow subject to only access objects they created</li>
</ul>
<h3 id="request">Request</h3>
<ul>
<li><code>{subjectid}</code> - the subject/user <code>id</code> to grant permissions to. (required)</li>
<li><code>{resource}</code> - the resource path or object type (URL encoded). (required)</li>
<li><code>{method}</code> - an HTTP method or flag, listed above. (required)</li>
</ul>
<h3 id="response">Response</h3>
<p>Returns a boolean plain text response - <code>true</code> or <code>false</code>.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code>, <code>404</code></li>
</ul>
<p>Example response:</p>
<pre><code><span class="hljs-literal">true</span>
</code></pre>
						</section>
					</article>
					<a id="050-api-permissions-get" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-success">GET</span>
										<span class="gray">
											/v1/_permissions/{subjectid} 
										</span>
									</code>
									<span class="hidden-xs">List permissions</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Returns a permissions objects containing all permissions. If <code>{subjectid}</code> is provided, the returned object contains
only the permissions for that subject.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{subjectid}</code> - the subject/user <code>id</code> (optional)</li>
</ul>
<h3 id="response">Response</h3>
<p>Returns a JSON object containing the resource permissions for the given user.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code>, <code>404</code></li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js">{
  <span class="hljs-string">"*"</span>: {
        <span class="hljs-string">"*"</span>: [<span class="hljs-string">"GET"</span>]
    },
  <span class="hljs-string">"user1"</span>: [],
  <span class="hljs-string">"user2"</span>: {
        <span class="hljs-string">"posts"</span>: [<span class="hljs-string">"GET"</span>, <span class="hljs-string">"POST"</span>]
    },
  <span class="hljs-string">"user3"</span>: {
    <span class="hljs-string">"*"</span>: [<span class="hljs-string">"*"</span>]
  }
}
</code></pre>

						</section>
					</article>
					<a id="050-api-permissions-grant" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="PUT img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-warning">PUT</span>
										<span class="gray">
											/v1/_permissions/{subjectid}/{resource} 
										</span>
									</code>
									<span class="hidden-xs">Grant permissions</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Grants a set of permissions (allowed HTTP methods) to a subject for a given resource.</p>
<p>There are several methods and flags which control which requests can go through. These are:</p>
<ul>
<li><code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>PATCH</code>, <code>DELETE</code> - use these to allow a certain method explicitly</li>
<li><code>?</code> - use this to enable public (unauthenticated) access to a resource</li>
<li><code>-</code> - use this to deny all access to a resource</li>
<li><code>*</code> - wildcard, allow all request to go through</li>
<li><code>OWN</code> - allow subject to only access objects they created</li>
</ul>
<h3 id="request">Request</h3>
<ul>
<li><strong>body</strong> - a JSON array of permitted HTTP methods/flags, listed above (required).</li>
<li><code>{subjectid}</code> - the subject/user <code>id</code> to grant permissions to (required)</li>
<li><code>{resource}</code> - the resource path or object type (URL encoded), for example
<code>posts</code> corresponds to <code>/v1/posts</code>, <code>posts%2F123</code> corresponds to <code>/v1/posts/123</code> (required)</li>
</ul>
<h3 id="response">Response</h3>
<p>Returns a JSON object containing the resource permissions for the given user.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code>, <code>404</code></li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js">{
  <span class="hljs-string">"user2"</span>: {
        <span class="hljs-string">"posts"</span>: [<span class="hljs-string">"GET"</span>, <span class="hljs-string">"POST"</span>]
    }
}
</code></pre>

						</section>
					</article>
					<a id="050-api-permissions-revoke" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="DELETE img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-danger">DELETE</span>
										<span class="gray">
											/v1/_permissions/{subjectid}/{resource} 
										</span>
									</code>
									<span class="hidden-xs">Revoke permissions</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Revokes all permissions for a given subject and resource. If <code>{resource}</code> is not specified, revokes every permission
that has been granted to that subject.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{subjectid}</code> - the subject/user <code>id</code> to grant permissions to (required)</li>
<li><code>{resource}</code> - the resource path or object type (URL encoded). If omitted,
<strong>all permissions</strong> for that subject will be revoked. (optional)</li>
</ul>
<h3 id="response">Response</h3>
<p>Returns a JSON object containing the resource permissions for the given user.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code>, <code>404</code></li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js">{
  <span class="hljs-string">"user1"</span>: [],
}
</code></pre>

						</section>
					</article>
					<a id="050-api-settings-get" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-success">GET</span>
										<span class="gray">
											/v1/_settings 
										</span>
									</code>
									<span class="hidden-xs">List custom settings</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Lists all custom app settings. These can be user-defined key-value pairs and are stored withing the app object.</p>
<h3 id="request">Request</h3>
<p><strong>No parameters</strong>.</p>
<h3 id="response">Response</h3>
<p>Returns an map of keys and values.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code></li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"fb_app_id"</span>: <span class="hljs-string">"123U3VTNifLPqnZ1W2"</span>,
    <span class="hljs-string">"fb_secret"</span>: <span class="hljs-string">"YXBwOnBhcmE11234151667"</span>,
    <span class="hljs-string">"signin_success"</span>: <span class="hljs-string">"/dashboard"</span>,
    <span class="hljs-string">"signin_failure"</span>: <span class="hljs-string">"/signin?error"</span>
}
</code></pre>

						</section>
					</article>
					<a id="050-api-settings-put" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="PUT img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-warning">PUT</span>
										<span class="gray">
											/v1/_settings/{key} 
										</span>
									</code>
									<span class="hidden-xs">Add custom setting</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Adds a new custom app setting or overwrites an existing one. To overwrite all app settings, make a <code>PUT</code> request without
providing the <code>key</code> parameter, like so:</p>
<pre><code>PUT /v1/_settings
{
    <span class="hljs-string">"fb_app_id"</span>: <span class="hljs-string">"123U3VTNifLPqnZ1W2"</span>,
    <span class="hljs-string">"fb_secret"</span>: <span class="hljs-string">"YXBwOnBhcmE11234151667"</span>,
    <span class="hljs-string">"signin_success"</span>: <span class="hljs-string">"/dashboard"</span>,
    <span class="hljs-string">"signin_failure"</span>: <span class="hljs-string">"/signin?error"</span>
}
</code></pre><p>This will replace all app-specific settings with the JSON object in that request.</p>
<h3 id="request">Request</h3>
<ul>
<li><strong>body</strong> - a JSON object with a single value field: <code>{ &quot;value&quot;: &quot;setting_value&quot; }</code>,
or an object containing all app-specific configuration properties.</li>
<li><code>{key}</code> - a key from the settings map <strong>(optional)</strong>. If <code>{key}</code> is missing, all app settings will be overwritten by
the JSON in the body of the request.</li>
</ul>
<h3 id="response">Response</h3>
<p>Returns an empty response.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code></li>
</ul>

						</section>
					</article>
					<a id="050-api-settings-rem" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="DELETE img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-danger">DELETE</span>
										<span class="gray">
											/v1/_settings/{key} 
										</span>
									</code>
									<span class="hidden-xs">Remove custom setting</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Removes a custom app setting by the given key.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{key}</code> - a key from the settings map</li>
</ul>
<h3 id="response">Response</h3>
<p>Returns <code>200 OK</code>.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code></li>
</ul>

						</section>
					</article>
					<a id="050-api-setup-child" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-success">GET</span>
										<span class="gray">
											/v1/_setup/{app_name} 
										</span>
									</code>
									<span class="hidden-xs">Child app setup</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p><strong>Requires authentication with the root app access/secret keys</strong></p>
<p>Creates a new child app and generates the first pair of API keys. You are responsible for creating the database table
and index for the new app. Equivalent to calling <code>Para.newApp()</code> from your Java code.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{app_name}</code> - the name of the child app</li>
</ul>
<h4 id="parameters">Parameters</h4>
<ul>
<li><code>sharedTable</code> - Set it to <code>false</code> if the app should have its own table</li>
<li><code>sharedIndex</code> - Set it to <code>false</code> if the app should have its own index</li>
</ul>
<h3 id="response">Response</h3>
<p>Returns the access and secret keys for this application which will be used for request signing.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>403</code></li>
</ul>

						</section>
					</article>
					<a id="050-api-setup" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-success">GET</span>
										<span class="gray">
											/v1/_setup 
										</span>
									</code>
									<span class="hidden-xs">Initial setup</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Creates the root application and generates the first pair of API keys. Calling this method will enable you to access
the REST API.</p>
<h3 id="request">Request</h3>
<p><strong>No parameters</strong>.</p>
<h3 id="response">Response</h3>
<p>Returns the access and secret keys for this application which will be used for request signing.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code></li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"secretKey"</span>: <span class="hljs-string">"U3VTNifLPqnZ1W2S3pVVuKG4HOVbimMocdDMl8T69BB001AXGZtwZw=="</span>,
    <span class="hljs-string">"accessKey"</span>: <span class="hljs-string">"YXBwOnBhcmE="</span>,
    <span class="hljs-string">"info"</span>: <span class="hljs-string">"Save the secret key! It is showed only once!"</span>
}
</code></pre>
<p>Subsequent calls to this method return:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"code"</span>: <span class="hljs-number">200</span>
    <span class="hljs-string">"message"</span>: <span class="hljs-string">"All set!"</span>
}
</code></pre>

						</section>
					</article>
					<a id="051-api-newkeys" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="POST img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-info">POST</span>
										<span class="gray">
											/v1/_newkeys 
										</span>
									</code>
									<span class="hidden-xs">Reset API keys</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>This will reset your API secret key by generating a new one.
Make sure you save it and use it for signing future requests.</p>
<h3 id="request">Request</h3>
<p><strong>No parameters</strong>.</p>
<h3 id="response">Response</h3>
<p>Returns the access and secret keys for this application which will be used for request signing.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code></li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"secretKey"</span>: <span class="hljs-string">"U3VTNifLPqnZ1W2S3pVVuKG4HOVbimMocdDMl8T69BB001AXGZtwZw=="</span>,
    <span class="hljs-string">"accessKey"</span>: <span class="hljs-string">"YXBwOnBhcmE="</span>,
    <span class="hljs-string">"info"</span>: <span class="hljs-string">"Save the secret key! It is showed only once!"</span>
}
</code></pre>

						</section>
					</article>
					<a id="052-api-utils" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
							<a href="#">
								<h2 class="img-rounded">
									<code>
											<span class="img-rounded label-success">GET</span>
										<span class="gray">
											/v1/utils/{method} 
										</span>
									</code>
									<span class="hidden-xs">Utilities</span>
								</h2>
							</a>
						<section class="body api-body img-rounded">
							<p>Utility functions which can be accessed via the REST API include (listed by the method’s short name):</p>
<ul>
<li><code>newid</code> - calls <code>Utils.getNewId()</code></li>
<li><code>timestamp</code> - calls <code>Utils.timestamp()</code></li>
<li><code>formatdate</code> - calls <code>Utils.formatDate(format, locale)</code>, additional parameters: <code>format</code> (e.g. “dd MM yyyy”), <code>locale</code>.</li>
<li><code>formatmessage</code> - calls <code>Utils.formatMessage(msg, params)</code>, additional parameters: <code>message</code> (the message to format)</li>
<li><code>nospaces</code> - calls <code>Utils.noSpaces(str, repl)</code>, additional parameters: <code>string</code> (the string to process)</li>
<li><code>nosymbols</code> - calls <code>Utils.stripAndTrim(str)</code>, additional parameters: <code>string</code> (the string to process)</li>
<li><code>md2html</code> - calls <code>Utils.markdownToHtml(md)</code>, additional parameters: <code>md</code> (a Markdown string)</li>
<li><code>timeago</code> - calls <code>HumanTime.approximately(delta)</code>, additional parameters: <code>delta</code> (time difference between now and then)</li>
</ul>
<p><strong>Example:</strong> <code>GET /v1/utils?method=nospaces&amp;string=some string with spaces</code></p>
<h3 id="request">Request</h3>
<ul>
<li><code>{method}</code> - the name of the method to call (one of the above)</li>
</ul>
<h3 id="response">Response</h3>
<p>Returns a JSON object.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code> (if no method is specified)</li>
</ul>
<p>Example response - returns the result without envelope:</p>
<pre><code class="lang-js"><span class="hljs-string">"result"</span>
</code></pre>

						</section>
					</article>
			</section>
		</div>
	</div>
</section>

		<!-- Footer Content -->
		<div class="container footer-section">
			<p>&nbsp;</p>
			<footer>
				<div class="row">
					<div class="col-lg-12 text-center">
						<p>Generated on <i>06 August 2017</i> by <a href="https://github.com/albogdano/bootup">bootUP</a>
							and hosted on <a href="https://github.com/erudika/paraio.org">GitHub</a></p>
						<p>Some rights reserved <i class="fa fa-creative-commons"></i> 2017
							<a href="https://erudika.com">Erudika</a></p>
					</div>
				</div>
			</footer>
		</div>

		<script src="https://code.jquery.com/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/lang-basic.min.js"></script>
		<script src="/js/main.js"></script>

		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
			ga('create', 'UA-51972923-1', 'paraio.org');
			ga('send', 'pageview');
		</script>
	</body>
</html>