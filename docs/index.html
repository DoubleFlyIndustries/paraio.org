<!DOCTYPE html>

<!--
     ____  ___ _ ____ ___ _
    / __ \/ __` / ___/ __` /
   / /_/ / /_/ / /  / /_/ /
  / .___/\__,_/_/   \__,_/ io.org
 /_/

-->

<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en-us" class="no-js"> <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Para - Documentation</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="google-site-verification" content="YXojLKu08NjIbC9uXuTBV-TmbaEHNGjyqaFcCzVyD-U" />
		<meta property="og:image" content="http://www.paraio.org/apple-touch-icon-precomposed.png">
		<link rel="image_src" href="http://www.paraio.org/apple-touch-icon-precomposed.png">

		
			<!-- Bootswatch Theme CSS -->
			<link href="//netdna.bootstrapcdn.com/bootswatch/3.1.1/flatly/bootstrap.min.css" rel="stylesheet">
		

		<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
		<link href="//cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css" rel="stylesheet">
		<link href="https://cdn.rawgit.com/konpa/devicon/89f2f44ba07ea3fff7e561c2142813b278c2d6c6/devicon.min.css" rel="stylesheet">
		<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
		<link href="/css/main.css" rel="stylesheet">
	</head>
	<body>
		<!--[if lt IE 7]>
			<h1 class="browsehappy">You are using an <strong>outdated</strong> browser.
			Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</h1>
		<![endif]-->

		<!--  Navigation  -->
		<nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
	<div class="container">
		<div class="navbar-header page-scroll">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
				<i class="fa fa-bars"></i>
			</button>
			<a class="navbar-brand" href="/">
				<img src="/img/logo.png" width="121" height="39" alt="logo"/>
			</a>
		</div>

		<!-- Collect the nav links, forms, and other content for toggling -->
		<div class="collapse navbar-collapse navbar-right navbar-main-collapse">
			<ul class="nav navbar-nav">
				<!-- Hidden li included to remove active class from about link when scrolled up past about section -->
				<li class="hidden">
					<a href="/#page-top"></a>
				</li>
				<li>
					<a href="/docs/">Docs</a>
				</li>
				<li class="page-scroll">
					<a href="/#download">Download</a>
				</li>
				<li class="page-scroll">
					<a href="/#about">About</a>
				</li>
			</ul>
		</div>
	</div>
</nav>

		<!-- Main Content -->
		
<section id="docs" class="top-section">
	<div class="container">
		<div class="col-lg-3 hidden-md hidden-sm hidden-xs">
			<nav id="sidebar">
				<h1>Docs</h1>

<form id="filter-form" role="form" action="#">
	<input type="text" placeholder="Filter by keyword" class="form-control">
</form>

<ul id="links">
	
		
			<li><a href="#001-intro">Introduction</a></li>
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	

	
		<li>
			<h4>Getting Started</h4>
			<ul>
				
					
						<li class=""><a href="#002-standalone">Standalone mode</a></li>
					
				
					
						<li class=""><a href="#003-maven">Maven</a></li>
					
				
					
						<li class=""><a href="#004-paraobject">The ParaObject interface</a></li>
					
				
			</ul>
		</li>
	
		<li>
			<h4>Configuration</h4>
			<ul>
				
					
						<li class=""><a href="#005-config">The Config</a></li>
					
				
					
						<li class=""><a href="#006-modules">Modules</a></li>
					
				
					
						<li class=""><a href="#007-env">Environment</a></li>
					
				
					
						<li class=""><a href="#008-plugins">Plugins</a></li>
					
				
			</ul>
		</li>
	
		<li>
			<h4>Core classes</h4>
			<ul>
				
					
						<li class=""><a href="#009-core">Para classes</a></li>
					
				
					
						<li class=""><a href="#010-userdefined">User-defined classes</a></li>
					
				
					
						<li class=""><a href="#011-annotations">Annotations</a></li>
					
				
					
						<li class=""><a href="#011-validation">Validation</a></li>
					
				
			</ul>
		</li>
	
		<li>
			<h4>Persistence</h4>
			<ul>
				
					
						<li class=""><a href="#012-dao">DAO interface</a></li>
					
				
					
						<li class=""><a href="#013-dynamodb">AWS DynamoDB</a></li>
					
				
					
						<li class=""><a href="#014-indexbased">In-memory</a></li>
					
				
			</ul>
		</li>
	
		<li>
			<h4>Search</h4>
			<ul>
				
					
						<li class=""><a href="#015-search">Search interface</a></li>
					
				
					
						<li class=""><a href="#016-elasticsearch">Elasticsearch</a></li>
					
				
			</ul>
		</li>
	
		<li>
			<h4>Cache</h4>
			<ul>
				
					
						<li class=""><a href="#017-cache">Cache interface</a></li>
					
				
					
						<li class=""><a href="#018-hazelcast">Hazelcast</a></li>
					
				
			</ul>
		</li>
	
		<li>
			<h4>Linked objects</h4>
			<ul>
				
					
						<li class=""><a href="#019-one-to-many">One-to-many</a></li>
					
				
					
						<li class=""><a href="#020-many-to-many">Many-to-many</a></li>
					
				
			</ul>
		</li>
	
		<li>
			<h4>I18n</h4>
			<ul>
				
					
						<li class=""><a href="#021-translations">Translations</a></li>
					
				
					
						<li class=""><a href="#022-languages">Languages</a></li>
					
				
			</ul>
		</li>
	
		<li>
			<h4>Utilities</h4>
			<ul>
				
					
						<li class=""><a href="#023-filters">Filters</a></li>
					
				
					
						<li class=""><a href="#023-utilities">Misc. utilities</a></li>
					
				
					
						<li class=""><a href="#024-humantime">HumanTime</a></li>
					
				
					
						<li class=""><a href="#025-pager">Pager</a></li>
					
				
					
						<li class=""><a href="#026-email">Email</a></li>
					
				
					
						<li class=""><a href="#027-queue">Queue</a></li>
					
				
					
						<li class=""><a href="#028-storage">Storage</a></li>
					
				
			</ul>
		</li>
	
		<li>
			<h4>Security</h4>
			<ul>
				
					
						<li class=""><a href="#029-passwords">Simple authentication</a></li>
					
				
					
						<li class=""><a href="#030-openid">OpenID support</a></li>
					
				
					
						<li class=""><a href="#031-facebook">Facebook support</a></li>
					
				
					
						<li class=""><a href="#031-github">GitHub support</a></li>
					
				
					
						<li class=""><a href="#031-google">Google+ support</a></li>
					
				
					
						<li class=""><a href="#031-linkedin">LinkedIn support</a></li>
					
				
					
						<li class=""><a href="#031-twitter">Twitter support</a></li>
					
				
					
						<li class=""><a href="#032-roles">Groups and roles</a></li>
					
				
					
						<li class=""><a href="#033-csrf">CSRF protection</a></li>
					
				
			</ul>
		</li>
	
		<li>
			<h4>REST API</h4>
			<ul>
				
					
						<li class=""><a href="#033-restauth">Authentication</a></li>
					
				
					
						<li class=""><a href="#034-apps">Apps</a></li>
					
				
					
						<li class=""><a href="#035-api">API methods</a></li>
					
				
					
						<li class="POST"><a href="#036-api-create">Create objects</a></li>
					
				
					
						<li class="GET"><a href="#037-api-read">Read objects</a></li>
					
				
					
						<li class="PUT"><a href="#038-api-overwrite">Overwrite objects</a></li>
					
				
					
						<li class="PATCH"><a href="#038-api-update">Update objects</a></li>
					
				
					
						<li class="DELETE"><a href="#039-api-delete">Delete objects</a></li>
					
				
					
						<li class="POST"><a href="#040-api-batch-create">Batch create</a></li>
					
				
					
						<li class="GET"><a href="#041-api-batch-read">Batch read</a></li>
					
				
					
						<li class="PATCH"><a href="#042-api-batch-update">Batch update</a></li>
					
				
					
						<li class="DELETE"><a href="#043-api-batch-delete">Batch delete</a></li>
					
				
					
						<li class="GET"><a href="#044-api-basicsearch">Basic search</a></li>
					
				
					
						<li class="GET"><a href="#045-api-search">Advanced search</a></li>
					
				
					
						<li class="GET"><a href="#046-api-links-get">Find linked objects</a></li>
					
				
					
						<li class="POST"><a href="#047-api-links-link">Link objects</a></li>
					
				
					
						<li class="DELETE"><a href="#048-api-links-unlink">Unlink objects</a></li>
					
				
					
						<li class="PUT"><a href="#049-api-constraints-add">Add constraint</a></li>
					
				
					
						<li class="GET"><a href="#049-api-constraints-get">List constraints</a></li>
					
				
					
						<li class="DELETE"><a href="#049-api-constraints-rem">Remove constraint</a></li>
					
				
					
						<li class="GET"><a href="#049-api-id">Read by id</a></li>
					
				
					
						<li class="GET"><a href="#049-api-me">Me object</a></li>
					
				
					
						<li class="GET"><a href="#049-api-types-list">List types</a></li>
					
				
					
						<li class="GET"><a href="#050-api-setup">Initial setup</a></li>
					
				
					
						<li class="POST"><a href="#051-api-newkeys">Reset API keys</a></li>
					
				
					
						<li class="GET"><a href="#052-api-utils">Utilities</a></li>
					
				
			</ul>
		</li>
	
</ul>

			</nav>
		</div>
		<div class="col-lg-9">
			<section id="content">
				
					
					<a id="001-intro" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Introduction</h2>
						
						<section class="body img-rounded">
							<p>Para was created because we needed a simple and flexible back-end service to support our front-end work.
We wanted to have a system that allowed us to persist objects easily to anything - RDBMS, NoSQL data store or memory.
Our second requirement was full text search. We wanted to be able to find any persisted object quickly.</p>
<p>There are two ways to use Para:</p>
<ul>
<li>as a standalone service running inside a servlet container like Jetty or Tomcat;</li>
<li>as part of your project as a Maven dependency.</li>
</ul>
<p>Running Para as a standalone service on one or more nodes gives you scalability and allows you to support
many different clients and applications. This is done through Para’s simple RESTful API which talks JSON to your clients.</p>
<p>And if you are building a server-side application, add Para as a dependency to quickly make your domain objects
persistable and searchable. You can still keep the RESTful API feature or turn it off completely.</p>
<h3 id="quick-start">Quick start</h3>
<ol>
<li><a href="https://github.com/erudika/para/releases">Download the JAR</a></li>
<li>Run it with <code>java -jar para-server-.jar</code> - Para is now running in embedded mode, suitable for development.</li>
<li>Call <code>curl localhost:8080/v1/_setup</code> to get the access and secret keys (give it a few seconds to initialize)</li>
<li>Start using the RESTful API directly or use one of the provided client libraries below.</li>
</ol>
<p>The Java client for Para is a separate module with these Maven coordinates:</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>com.erudika<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>para-client<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span>
</code></pre>
<p>In your own project you can create a new <code>ParaClient</code> instance like so:</p>
<pre><code class="lang-java">ParaClient pc = <span class="hljs-keyword">new</span> ParaClient(accessKey, secretKey);
<span class="hljs-comment">// for development the default endpoint is http://localhost:8080</span>
pc.setEndpoint(paraServerURL);
<span class="hljs-comment">// send a test request - this should return a JSON object of type 'app'</span>
pc.me();
</code></pre>
<h3 id="client-libraries">Client libraries</h3>
<div class="btn-client-div">
    <a href="https://github.com/Erudika/para/tree/master/para-client" class="btn-client">
        <i class="devicon-java-plain-wordmark"></i>
    </a><br>
    <a href="https://github.com/Erudika/para/tree/master/para-client">para-client-java</a>
</div>

<div class="btn-client-div">
    <a href="https://github.com/Erudika/para-client-js" class="btn-client">
        <i class="devicon-nodejs-plain"></i>
    </a><br>
    <a href="https://github.com/Erudika/para-client-js">para-client-js</a>
</div>

<div class="btn-client-div">
    <a href="https://github.com/Erudika/para-client-php" class="btn-client">
        <i class="devicon-php-plain"></i>
    </a><br>
    <a href="https://github.com/Erudika/para-client-php">para-client-php</a>
</div>

<div class="btn-client-div">
    <a href="https://github.com/Erudika/para-client-csharp" class="btn-client">
        <i class="devicon-dot-net-plain-wordmark"></i>
    </a><br>
    <a href="https://github.com/Erudika/para-client-csharp">para-client-csharp</a>
</div>

						</section>
					</article>
					
				
					
					<a id="002-standalone" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Standalone mode</h2>
						
						<section class="body img-rounded">
							<p>There are two ways to run Para as a standalone server. The first one is by downloading the “fat” JAR file and executing it:</p>
<pre><code class="lang-bash">java -jar para-X.Y.Z.jar
</code></pre>
<p>The JAR contains an embedded Jetty server and bundles together all the necessary libraries. This is the simplest and
recommended way to run Para.</p>
<p>This mode allows you to build a distributed cluster of Para nodes and connect to it through the REST API.
Here’s a simple diagram of that architecture:</p>
<pre>
+----------+ +----------+ +----------+
|API Client| |API Client| |API Client|
+----+-----+ +----+-----+ +----+-----+
     |            |            |
+----+------------+------------+-----+
|          REST OVER HTTPS           |
+----+------------+------------+-----+
     |            |            |
+----+------------+------------+-----+
|            Para Cluster            |
+------+------+------+------+--------+
|      |      |      |      |        |
| Para | Para | Para | Para |  ...   |
| Node | Node | Node | Node |        |
|      |      |      |      |        |
+------+------+------+------+--------+
</pre>


<p>The second option is to get the WAR file and deploy it to your favorite servlet container like Tomcat or
GlassFish, for example.</p>
<p><strong>Note:</strong> We recommend deploying the Para at the root context <code>/</code>. You can do this by renaming the WAR file
to <code>ROOT.war</code> before deploying. See <a href="#005-config">the Config</a> for more details about configuring your deployment.</p>
<blockquote>
<p>Go over to the <a href="https://github.com/erudika/para/releases">releases page</a> to get the latest JAR or WAR packages.</p>
</blockquote>

						</section>
					</article>
					
				
					
					<a id="003-maven" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Maven</h2>
						
						<section class="body img-rounded">
							<p>Para is hosted on Maven Central. To add it to your project just include this into your <code>pom.xml</code>:</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>com.erudika<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>para-server<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span>
</code></pre>
<p>Adding Para to your Java or JVM based application allows you to build a distributed architecture like this:</p>
<pre>
           +---------------+
           | Load balancer |
           +-------+-------+
                   |
     +---------------------------+
     |             |             |
+----+----+   +----+----+   +----+----+
| Para App|   | Para App|   | Para App|
+---------+   +---------+   +---------+
| Cache   |   | Cache   |   | Cache   |
+---------+   +---------+   +---------+
| Search  |   | Search  |   | Search  |
| and DB  |   | and DB  |   | and DB  |
| nodes   |   | nodes   |   | nodes   |
+---------+   +---------+   +---------+

  Node 1        Node 2        Node N
</pre>

<h3 id="javadocs">Javadocs</h3>
<p><a href="/javadocs-core/" class="btn btn-default">para-core</a> &nbsp;
<a href="/javadocs-server/" class="btn btn-default">para-server</a> &nbsp;
<a href="/javadocs-client/" class="btn btn-default">para-client</a></p>

						</section>
					</article>
					
				
					
					<a id="004-paraobject" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>The ParaObject interface</h2>
						
						<section class="body img-rounded">
							<p>Para allows you to have plain objects like this:</p>
<pre><code class="lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>{
    <span class="hljs-keyword">public</span> String name;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> age;
}
</code></pre>
<p>and turn them into persistable Para objects just by adding one annotation and extending the core Para class <code>ParaObject</code>:</p>
<pre><code class="lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">ParaObject</span> </span>{
    <span class="hljs-annotation">@Stored</span> <span class="hljs-keyword">public</span> String name;
    <span class="hljs-annotation">@Stored</span> <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> age;
}
</code></pre>
<p>This allows you do call <code>create()</code>, <code>update()</code>, <code>delete()</code> on that object <strong>and</strong> enables search indexing automatically.
Now you can do:</p>
<pre><code class="lang-java">User u = <span class="hljs-keyword">new</span> User();
u.setName(<span class="hljs-string">"Gordon Freeman"</span>);
u.setAge(<span class="hljs-number">40</span>);
<span class="hljs-comment">// generates a new id and persists the object</span>
String id = u.create();
</code></pre>
<p>Once the objects is created and persisted we can search for it like this:</p>
<pre><code class="lang-java"><span class="hljs-comment">// returns a list of users found</span>
List&lt;User&gt; users = Para.getSearch().findQuery(u.getType(), <span class="hljs-string">"freeman"</span>);
</code></pre>
<p><strong>Note:</strong> Since 1.7, the <code>PObject</code> superclass is removed. Your classes no longer need to extend that parent class.</p>

						</section>
					</article>
					
				
					
					<a id="005-config" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>The Config</h2>
						
						<section class="body img-rounded">
							<p>Once deployed, Para will initialize itself by loading the default configuration file <code>reference.conf</code>.
To load your own configuration you need to set one of the following system properties:</p>
<ul>
<li><code>config.resource</code> specifies a resource name - not a basename, i.e. application.conf not application</li>
<li><code>config.file</code> specifies a filesystem path, again it should include the extension, not be a basename</li>
<li><code>config.url</code> specifies the URL from which to load the config file</li>
</ul>
<p>You need to set these properties before calling <code>Para.initialize()</code> or at the startup of your servlet container.
If you have a file called <code>application.conf</code> or <code>application.json</code> on the classpath, Para will pick it up automatically.</p>
<p>Here’s a list of all configuration properties that can be set in the config file:</p>
<table class="table table-striped">
    <thead>
        <tr>
            <th>property</th>
            <th>default</th>
            <th>type</th>
        </tr>
    </thead>
    <tbody>
        <tr><td><code>para.env</code>                                    </td><td>    <code>embedded</code></td><td>String</td></tr>
        <tr><td><code>para.print_logo</code>                        </td><td><code>true</code></td><td>Boolean</td></tr>
        <tr><td><code>para.aws_access_key</code>                </td><td>-</td><td>String</td></tr>
        <tr><td><code>para.aws_secret_key</code>                </td><td>-</td><td>String</td></tr>
        <tr><td><code>para.aws_region</code>                        </td><td><code>eu-west-1</code></td><td>String</td></tr>
        <tr><td><code>para.fb_app_id</code>                        </td><td>-</td><td>String</td></tr>
        <tr><td><code>para.fb_secret</code>                        </td><td>-</td><td>String</td></tr>
        <tr><td><code>para.openx_api_key</code>                </td><td>-</td><td>String</td></tr>
        <tr><td><code>para.gmaps_api_key</code>                </td><td>-</td><td>String</td></tr>
        <tr><td><code>para.admin_ident</code>                    </td><td>-</td><td>String</td></tr>
        <tr><td><code>para.worker_id</code>                        </td><td><code>1</code></td><td>String</td></tr>
        <tr><td><code>para.app_name</code>                            </td><td><code>para</code></td><td>String</td></tr>
        <tr><td><code>para.auth_cookie</code>                    </td><td><code>[app_name]-auth</code></td><td>String</td></tr>
        <tr><td><code>para.returnto_cookie</code>            </td><td><code>[app_name]-returnto</code></td><td>String</td></tr>
        <tr><td><code>para.support_email</code>                </td><td><code>support@myapp.co</code></td><td>String</td></tr>
        <tr><td><code>para.app_secret_key</code>                </td><td><code>b18c3f7e85b5c35d81ef6efce4870709</code></td><td>String</td></tr>
        <tr><td><code>para.core_package_name</code>        </td><td>-</td><td>String</td></tr>
        <tr><td><code>para.session_timeout</code>            </td><td><code>24 * 60 * 60</code> sec.</td><td>Long</td></tr>
        <tr><td><code>para.request_expires_after</code></td><td><code>15 * 60</code> sec.</td><td>Long</td></tr>
        <tr><td><code>para.vote_expires_after</code>        </td><td><code>30 * 24 * 60 * 60</code> sec.</td><td>Long</td></tr>
        <tr><td><code>para.vote_locked_after</code>        </td><td><code>30</code> sec.</td><td>Long</td></tr>
        <tr><td><code>para.pass_reset_timeout</code>        </td><td><code>30 * 60</code> sec.</td><td>Long</td></tr>
        <tr><td><code>para.cache_enabled</code>                </td><td><code>false</code> || <code>para.env == production</code></td><td>Boolean</td></tr>
        <tr><td><code>para.search_enabled</code>                </td><td><code>true</code></td><td>Boolean</td></tr>
        <tr><td><code>para.api_enabled</code>                    </td><td><code>true</code></td><td>Boolean</td></tr>
        <tr><td><code>para.cors_enabled</code>                    </td><td><code>true</code></td><td>Boolean</td></tr>
        <tr><td><code>para.gzip_enabled</code>                    </td><td><code>true</code></td><td>Boolean</td></tr>
        <tr><td><code>para.access_log_enabled</code>        </td><td><code>true</code></td><td>Boolean</td></tr>
        <tr><td><code>para.read_from_index</code>            </td><td><code>true</code></td><td>Boolean</td></tr>
        <tr><td><code>para.max_items_per_page</code>        </td><td><code>30</code></td><td>Integer</td></tr>
        <tr><td><code>para.max_datatypes_per_app</code></td><td><code>256</code></td><td>Integer</td></tr>
        <tr><td><code>para.max_pages</code>                        </td><td><code>10000</code></td><td>Integer</td></tr>
        <tr><td><code>para.max_img_px</code>                        </td><td><code>1024</code></td><td>Integer</td></tr>
        <tr><td><code>para.max_entity_size_bytes</code></td><td><code>1024 * 1024</code></td><td>Integer</td></tr>
        <tr><td><code>para.min_password_length</code>    </td><td><code>6</code></td><td>Integer</td></tr>
        <tr><td><code>para.default_separator</code>        </td><td><code>:</code></td><td>String</td></tr>
        <tr><td><code>para.default_encoding</code>            </td><td><code>UTF-8</code></td><td>String</td></tr>

        <tr><td><code>para.security.api_security</code>                </td><td> <code>true</code> </td><td> Boolean </td></tr>
        <tr><td><code>para.security.csrf_protection</code>            </td><td> <code>true</code> </td><td> Boolean </td></tr>
        <tr><td><code>para.security.csrf_cookie</code>                    </td><td> - </td><td> String </td></tr>
        <tr><td><code>para.security.protected.{name}</code>        </td><td> <code>[&quot;/{path}&quot;, &quot;/{path}/**&quot;, [&quot;{role}&quot;]]</code> </td><td> Array </td></tr>
        <tr><td><code>para.security.ignored</code>                            </td><td> <code>[&quot;/{path}/**&quot;, &quot;/{path}/**&quot;]</code> </td><td> Array </td></tr>
        <tr><td><code>para.security.signin</code>                            </td><td> <code>/signin</code> </td><td> String </td></tr>
        <tr><td><code>para.security.signout</code>                            </td><td> <code>/signout</code> </td><td> String </td></tr>
        <tr><td><code>para.security.access_denied</code>                </td><td> <code>/403</code> </td><td> String </td></tr>
        <tr><td><code>para.security.returnto</code>                        </td><td> <code>returnto</code> </td><td> String </td></tr>
        <tr><td><code>para.security.signin_success</code>            </td><td> <code>/</code> </td><td> String </td></tr>
        <tr><td><code>para.security.signout_success</code>            </td><td> <code>/signin</code> </td><td> String </td></tr>
        <tr><td><code>para.security.signin_failure</code>            </td><td> <code>/signin</code> </td><td> String </td></tr>

        <tr><td><code>para.s3.bucket</code>                                        </td><td> <code>org.paraio.files</code> </td><td> String </td></tr>
        <tr><td><code>para.s3.max_filesize_mb</code>                        </td><td> 10 </td><td> String </td></tr>
        <tr><td><code>para.localstorage.folder</code>                    </td><td> - </td><td> String </td></tr>
        <tr><td><code>para.localstorage.max_filesize_mb</code>    </td><td> 10 </td><td> String </td></tr>

    </tbody>
</table>

<p>All of the above can be overridden with <code>System.setProperty()</code> anywhere in your code.</p>
<blockquote>
<p>Para uses the excellent Config library by TypeSafe. For more information about how it works
see the <a href="https://github.com/typesafehub/config/blob/master/README.md">README</a>.</p>
</blockquote>

						</section>
					</article>
					
				
					
					<a id="006-modules" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Modules</h2>
						
						<section class="body img-rounded">
							<p>These are the core modules defined in Para:</p>
<ul>
<li><code>PersistenceModule</code> - defines the core persistence class implementation</li>
<li><code>SearchModule</code> - defines the core search class implementation</li>
<li><code>CacheModule</code> - defines the core cache class implementation</li>
<li><code>EmailModule</code> - defines an email service implementation for sending emails</li>
<li><code>AOPModule</code> - manages the indexing and caching aspects of Para objects</li>
<li><code>I18nModule</code> - defines a currency converter service implementation</li>
<li><code>QueueModule</code> - defines a queue service implementation</li>
<li><code>StorageModule</code> - defines a file storage service, e.g. Amazon S3</li>
</ul>
<p>You can override all of the above using the <code>ServiceLoader</code> mechanism in Java like so:</p>
<ol>
<li>Create a file <code>com.google.inject.Module</code> inside the <code>META-INF/services</code> folder</li>
<li>Then add the full class names of all your modules, one on each line</li>
<li>Para will load these modules on startup use them instead of the default ones</li>
</ol>
<p>For example, let’s say you want to implement a new <code>PersistenceModule</code> which connects to MySQL.
You can define it like so:</p>
<pre><code class="lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MySqlModule</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractModule</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">configure</span><span class="hljs-params">()</span> </span>{
        bind(DAO.class).to(MySqlDAO.class).asEagerSingleton();
    }
}
</code></pre>
<p>Then implement the <code>DAO</code> interface in your class <code>MySqlDAO</code> so that it connects to a MySQL server and stores and loads objects.
Finally write the full class name <code>com.company.MySqlModule</code> to the file <code>com.google.inject.Module</code> and Para will use this
module as its default persistence module.</p>
<p><strong>Note:</strong> Modules cannot be overridden when Para is running in standalone mode.</p>
<blockquote>
<p>Para uses <a href="https://code.google.com/p/google-guice/">Google Guice</a> v3 as its module manager and DI system.</p>
</blockquote>

						</section>
					</article>
					
				
					
					<a id="007-env" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Environment</h2>
						
						<section class="body img-rounded">
							<p><code>para.env</code> is an important configuration property that turns features on and off. There are three main
values for it - <code>embedded</code>, <code>development</code>, <code>production</code>, but you can define more.</p>
<p>When you are in <code>embedded</code> mode Para will use Elasticsearch as both data store and a search engine. Elasticsearch will
load on each redeploy here. This is the simplest way to get started with Para as you don’t need to configure anything.</p>
<p><strong>Warning:</strong> Embedded mode is <em>not</em> recommended for production (duh!).</p>
<p>When you are in <code>development</code> mode Para will try to connect to a DynamoDB server running on <code>localhost</code>. It will also
try to connect to a local Elasticsearch server. This mode was created so that you can keep your DB and search
servers running in the background while developing your application rather than loading them on each deploy. This will
make redeploys a bit faster.</p>
<p>Finally when you are ready to deploy your app to a real server set <code>para.env</code> to <code>production</code>. This will enable object
caching and will try to connect to the real AWS DynamoDB service. Also you have to set up a new node for Elasticsearch
or run it locally.</p>
<table class="table table-striped">
    <thead>
        <tr>
            <th><code>para.env</code></th>
            <th><code>DAO</code></th>
            <th><code>Cache</code></th>
            <th><code>Search</code></th>
        </tr>
    </thead>
    <tbody>
        <tr><td><code>embedded</code> (default)</td><td><code>IndexBasedDAO</code></td><td><code>off</code></td><td><code>on</code></td></tr>
        <tr><td><code>development</code></td><td><code>AWSDynamoDAO</code></td><td><code>off</code></td><td><code>on</code></td></tr>
        <tr><td><code>production</code></td><td><code>AWSDynamoDAO</code></td><td><code>on</code></td><td><code>on</code></td></tr>
    </tbody>
</table>


						</section>
					</article>
					
				
					
					<a id="008-plugins" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Plugins</h2>
						
						<section class="body img-rounded">
							<p>Para allows you to “weave in” functionality by overriding <code>AOPModule</code>. You can intercept calls to <code>DAO</code> methods
and execute your own code.</p>
<h3 id="custom-event-listeners">Custom event listeners</h3>
<p>You can also register your own <code>InitializeListener</code>s and <code>DestroyListener</code>s which will execute when Para is initialized
and destroyed, respectively.</p>
<pre><code class="lang-java"><span class="hljs-comment">// this has to be registered before Para.initialize() is called</span>
Para.addInitListener(<span class="hljs-keyword">new</span> Para.InitializeListener() {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onInitialize</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// init code...</span>
    }
});

Para.addDestroyListener(<span class="hljs-keyword">new</span> Para.DestroyListener() {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onDestroy</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// shutdown code...</span>
    }
});
</code></pre>
<h3 id="custom-context-initializers">Custom context initializers</h3>
<p>Para will automatically pick up your classes which extend the <code>Para</code> class. They should be annotated
with <code>@Configuration</code>, <code>@EnableAutoConfiguration</code> and <code>@ComponentScan</code>. The <code>Para</code> class implements Spring Boot’s
<code>WebApplicationInitializer</code> which creates the root application context.</p>
<p>In your custom initializers you have full access to the <code>ServletContext</code> and this is a good place to register
your own filters and servlets. These initializer classes also act as an alternative to
<code>web.xml</code> by providing programmatic configuration capabilities.</p>
<h3 id="custom-api-resource-handlers">Custom API resource handlers</h3>
<p>Since version 1.7, you can register custom API resources by implementing the <code>CustomResourceHandler</code> interface.
Use the <code>ServiceLoader</code> mechanism to tell Para to load your handlers - add them to a file called
<code>com.erudika.para.rest.CustomResourceHandler</code> in <code>META-INF/services</code> where each line contains the full class name
of your custom resource handler class. On startup Para will load these and register them as API resource handlers.</p>
<p>The <code>CustomResourceHandler</code> interface is simple:</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">CustomResourceHandler</span> </span>{
    <span class="hljs-comment">// the path of the resource, e.g. "my-resource"</span>
    <span class="hljs-function">String <span class="hljs-title">getRelativePath</span><span class="hljs-params">()</span></span>;
    <span class="hljs-comment">// handle GET requests</span>
    <span class="hljs-function">Response <span class="hljs-title">handleGet</span><span class="hljs-params">(ContainerRequestContext ctx)</span></span>;
    <span class="hljs-comment">// handle PUT requests</span>
    <span class="hljs-function">Response <span class="hljs-title">handlePut</span><span class="hljs-params">(ContainerRequestContext ctx)</span></span>;
    <span class="hljs-comment">// handle POST requests</span>
    <span class="hljs-function">Response <span class="hljs-title">handlePost</span><span class="hljs-params">(ContainerRequestContext ctx)</span></span>;
    <span class="hljs-comment">// handle DELETE requests</span>
    <span class="hljs-function">Response <span class="hljs-title">handleDelete</span><span class="hljs-params">(ContainerRequestContext ctx)</span></span>;
}
</code></pre>
<p>You can use <code>@Inject</code> in your custom handlers to inject any object managed by Para.</p>

						</section>
					</article>
					
				
					
					<a id="009-core" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Para classes</h2>
						
						<section class="body img-rounded">
							<p>In the package <code>para.core</code> there are a number of core domain classes that are used throughout Para.
These are common classes like <code>User</code> and <code>Tag</code> which you can use in you application directly or extend them.</p>
<p>Below is a list of classes and their descriptions. All of these implement <code>ParaObject</code> which is the core interface.
It contains all core fields, getters, setters and also implements basic functionality like voting, linking and tagging.</p>
<table class="table table-striped">
    <thead>
        <tr>
            <th>class</th>
            <th>description</th>
        </tr>
    </thead>
    <tbody>
        <tr><td><code>User</code></td><td> Defines a basic user with a name, email, password. Used for user registration and security.</td></tr>
        <tr><td><code>Address</code></td><td> Defines an address with optional geographical coordinates. Used for location based searching. </td></tr>
        <tr><td><code>App</code></td><td> Defines an application within Para. Usually there’s only one existing (root) app.</td></tr>
        <tr><td><code>Tag</code></td><td> Simple tag class which contains a tag and its frequency count. Basically any Para object can be tagged. Used for searching.</td></tr>
        <tr><td><code>Vote</code></td><td> Defines a user vote - negative or positive. Useful for modeling posts which can be voted on. </td></tr>
        <tr><td><code>Translation</code></td><td> Holds a translated string. Can be used for collecting translations from users. </td></tr>
        <tr><td><code>Sysprop</code></td><td> <strong>System class</strong> used as a general-purpose data container. It’s basically a map. </td></tr>
        <tr><td><code>Linker</code></td><td> <strong>System class</strong> used for implementing a many-to-many relationship between objects. </td></tr>
    </tbody>
</table>
						</section>
					</article>
					
				
					
					<a id="010-userdefined" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>User-defined classes</h2>
						
						<section class="body img-rounded">
							<p>Let’s say you have a class <code>Article</code> in your application that you wish to persist. You first implement the <code>ParaObject</code>
interface, then add a few data fields to it. Implementing the interface is trivial as the basic functionality of
the required methods is already implemented in the <code>CoreUtils</code>. </p>
<p>You need to specify which fields you want to be saved by adding the
<code>@Stored</code> annotation.</p>
<pre><code class="lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Article</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">ParaObject</span> </span>{
    <span class="hljs-annotation">@Stored</span> <span class="hljs-keyword">private</span> String title;
    <span class="hljs-annotation">@Stored</span> <span class="hljs-keyword">private</span> String text;
}
</code></pre>
<p>You don’t have to define common fields like <code>id</code> or <code>name</code> because they are already defined in the parent class.
Now you can create a new article like so:</p>
<pre><code class="lang-java">Article a = <span class="hljs-keyword">new</span> Article();
a.setTitle(<span class="hljs-string">"Some title"</span>);
a.setText(<span class="hljs-string">"text..."</span>);
<span class="hljs-comment">// the article is saved and a new id is generated</span>
String id = a.create();
</code></pre>
<p>Updating and deleting is easy too:</p>
<pre><code class="lang-java">a.setTitle(<span class="hljs-string">"A new title"</span>);
a.update();
<span class="hljs-comment">// or</span>
a.delete();
</code></pre>
<p>When you call <code>create()</code> Para will intercept that call and automatically index and cache the object. Calling the methods
<code>update()</code> and <code>delete()</code> also get intercepted and will update or delete that object in/from the search index and
cache respectively.</p>
<p>If you want to read an object, first you have to get access to the <code>DAO</code> object. You can either:</p>
<ul>
<li>call <code>Para.getDAO()</code></li>
<li>get it from another <code>ParaObject</code> with <code>pobj.getDao()</code></li>
<li><code>@Inject</code> it with <code>Para.injectInto()</code></li>
</ul>
<p>Then you can read an object using its id:</p>
<pre><code class="lang-java"><span class="hljs-comment">// returns a single article or null</span>
Article readA = dao.read(id);
</code></pre>
<p>You can also define custom types of objects through the REST API by changing the <code>type</code> property on your objects.
Keep in mind that the following are reserved words and they <em>should not</em> be used for naming your types (plural form included):
<strong>“search(es)”, “util(s)”</strong>.</p>
<blockquote>
<p>Note that you can create objects with custom types and fields <a href="#036-api-create">through the REST API</a> without having
to define them as Java classes like above. These custom objects will be based on the generic <code>Sysprop</code> class but
can have any number of custom properties (fields).</p>
</blockquote>

						</section>
					</article>
					
				
					
					<a id="011-annotations" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Annotations</h2>
						
						<section class="body img-rounded">
							<p>Para uses annotations to mark what attributes of a class need to be saved. There are several annotations that Para uses
but the two main ones are <code>@Stored</code> and <code>@Locked</code>.</p>
<p><code>@Stored</code> tell Para that an attribute needs to be persisted but
that field should not be declared as <code>transient</code> otherwise it will be skipped.</p>
<p><code>@Locked</code> is used as a filter for those
attributes that are read-only like <code>type</code> and <code>id</code>. These are created once and never change so when calling <code>update()</code>
they will be skipped.</p>
<p><code>@Cached</code> is used internally by Para for caching and you don’t need to used it in your projects.</p>

						</section>
					</article>
					
				
					
					<a id="011-validation" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Validation</h2>
						
						<section class="body img-rounded">
							<p>Para supports JSR-303 validation annotations and also allows you to define validation constraints in two different ways.
One way is to attach annotations to fields in Java classes. The other way is by using the constraints API to add
validation constraints to any object, be it core or user-defined. This method is more flexible as it allows you to
validate any property of any object.</p>
<p>The built-in constraints are: <code>required</code>, <code>min</code>, <code>max</code>, <code>size</code>, <code>email</code>,
<code>digits</code>, <code>pattern</code>, <code>false</code>, <code>true</code>, <code>future</code>, <code>past</code>, <code>url</code>.</p>
<p><strong>Note:</strong> Objects are validated on <code>create()</code> and <code>update()</code> operations only.</p>
<h3 id="annotation-based-validation-constraints">Annotation-based validation constraints</h3>
<p>You can use any of the JSR 303 annotations specified by the <code>javax.validation.constraints</code> package, part of Java EE.
Example:</p>
<pre><code class="lang-java"><span class="hljs-annotation">@Stored</span> <span class="hljs-annotation">@NotBlank</span> <span class="hljs-annotation">@Email</span>
<span class="hljs-keyword">private</span> String email;
</code></pre>
<p>This will tell Para to validate that field and check that it actually contains an email. If the validation fails, the
object containing that field will not be created or updated.</p>
<h3 id="user-defined-validation-constraints">User-defined validation constraints</h3>
<p>Annotations work fine for most objects but are less useful when we want to define objects through the API.
For this purpose we can use the constraints API:</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">boolean</span> <span class="hljs-title">addValidationConstraint</span><span class="hljs-params">(String type, String field, Constraint c)</span></span>;

<span class="hljs-function"><span class="hljs-keyword">boolean</span> <span class="hljs-title">removeValidationConstraint</span><span class="hljs-params">(String type, String field, String constraintName)</span></span>;
</code></pre>
<p>To create a constraint you can use the static methods provided by the <code>Constraint</code> class. For example calling
<code>Constraint.email()</code> will return a new constraint object for checking email addresses.</p>
<p>We can use these methods to define constraints on custom types and fields that are not yet defined or are created by
the API.</p>
<p>To manually validate an object you can use:</p>
<pre><code class="lang-java">String[] errors = ValidationUtils.validateObject(App app, ParaObject po);
</code></pre>
<p>Or through <code>ParaClient</code>:</p>
<pre><code class="lang-java"><span class="hljs-comment">// return a JSON object with all validation constraints</span>
paraClient.validationConstraints();
</code></pre>
<p>The returned string array contains 0 elements if the <code>po</code> is valid or a list of errors that were encountered on validation.</p>
<h3 id="integration-with-the-client-side">Integration with the client-side</h3>
<p>You can easily implement client-side validation by getting the JSON object containing all validation constraints for
all Para classes.</p>
<pre><code class="lang-java">String jsonValidations = ValidationUtils.getAllValidationConstraints(App app);
</code></pre>
<p>This returned JSON is in the following format (note that type names are all in lowercase):</p>
<pre><code class="lang-js"><span class="hljs-string">'user'</span>: {
    <span class="hljs-string">'email'</span>: {
        <span class="hljs-string">'email'</span>: {
            <span class="hljs-string">'message'</span>: <span class="hljs-string">'messages.email'</span>
        },
        <span class="hljs-string">'required'</span>: {
            <span class="hljs-string">'message'</span>: <span class="hljs-string">'messages.required'</span>
        }
    },
    <span class="hljs-string">'identifier'</span>: {
        <span class="hljs-string">'required'</span>: {
            <span class="hljs-string">'message'</span>: <span class="hljs-string">'messages.required'</span>
        }
    }
    ...
},
...
</code></pre>
<p>This format used by the excellent JavaScript validation tool <a href="https://github.com/netceteragroup/valdr">Valdr</a> but can
easily be integrated with other client-side validators.</p>
<blockquote>
<p>Para uses <a href="http://hibernate.org/validator/">Hibernate Validator</a> for data validation.</p>
</blockquote>

						</section>
					</article>
					
				
					
					<a id="012-dao" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>DAO interface</h2>
						
						<section class="body img-rounded">
							<p>The <code>DAO</code> interface declares the following methods:</p>
<table class="table table-striped">
    <thead>
        <tr>
            <th>method</th>
            <th>description</th>
        </tr>
    </thead>
    <tbody>
        <tr><td><code>String create(P obj)</code></td><td> Persists an object. A new <code>id</code> <em>should</em> be generated if absent.</td></tr>
        <tr><td><code>P read(String key)</code></td><td> Reads an object from the data store for a given <code>id</code>. Returns <code>null</code> if the object for this <code>id</code> is missing.</td></tr>
        <tr><td><code>void update(P obj)</code></td><td> Updates an object. Implementations of this method <em>should</em> set a timestamp to the field <code>updated</code>. </td></tr>
        <tr><td><code>void delete(P obj)</code></td><td> Deletes an object completely (the opposite of <code>create</code>).</td></tr>
        <tr><td><code>List&lt;P&gt; readAll(List&lt;String&gt; keys, boolean all)</code></td><td> Batch operation for <code>read()</code>. If <code>all</code> is <code>false</code>, only the <code>id</code> and <code>type</code> columns should be returned.</td></tr>
        <tr><td><code>void createAll(List&lt;P&gt; objects)</code></td><td> Batch operation for <code>create()</code>.</td></tr>
        <tr><td><code>void updateAll(List&lt;P&gt; objects)</code></td><td> Batch operation for <code>update()</code>.</td></tr>
        <tr><td><code>void deleteAll(List&lt;P&gt; objects)</code></td><td> Batch operation for <code>delete()</code>.</td></tr>
    </tbody>
</table>

<p>A <code>DAO</code> object only deals with storing objects in a database. It is not concerned with relationships between objects or
constraint validation.</p>

						</section>
					</article>
					
				
					
					<a id="013-dynamodb" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>AWS DynamoDB</h2>
						
						<section class="body img-rounded">
							<p>Para uses <code>AWSDynmaoDAO</code> as the default implementation of the <code>DAO</code> interface. That class is responsible for connecting
to a <a href="http://aws.amazon.com/dynamodb/">DynamoDB</a> server and storing/retrieving objects (items) to/from it.
All operations are carried out using the latest AWS Java SDK.</p>
<p><strong>Note:</strong> DynamoDB doesn’t support batch update requests so <code>AWSDynamoDAO</code> does not batch update requests. It simply executes
all update requests in a sequence.</p>
<p>We are planning to add RDBMS implementations of <code>DAO</code> like <code>MySqlDAO</code> in the future, as well as some for
NoSQL data stores like Cassandra.</p>
<p>See <a href="#006-modules">Modules</a> for more information about how you can override the default implementation.</p>
<blockquote>
<p>For more information about DyanamoDB see the
<a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Introduction.html">documentation on AWS</a>.</p>
</blockquote>

						</section>
					</article>
					
				
					
					<a id="014-indexbased" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>In-memory</h2>
						
						<section class="body img-rounded">
							<p>When running in <code>embedded</code> mode you are actually using the <code>IndexBasedDAO</code> implementation which relies on the search
index as a persistence layer. It uses the search index as a database.</p>
<p>A local Elasticsearch instance is started each time Para starts and is also stopped on <code>Para.destroy()</code>.</p>
<p>See <a href="#014-search">Elasticsearch</a> for more information.</p>
<blockquote>
<p>This implementation is intended for development purposes only. When using it also make sure that you are working with
a single <code>App</code> object and its <code>shared</code> property is <code>false</code></p>
</blockquote>

						</section>
					</article>
					
				
					
					<a id="015-search" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Search interface</h2>
						
						<section class="body img-rounded">
							<p>Para indexes objects based on their type. For example, a <code>User</code> objects has a <code>type</code> field with the value “user”.
Most of the search methods below ask for a <code>type</code> to search for (i.e. the <code>type</code> field acts as a filter).</p>
<p>The <code>Search</code> interface defines the following methods used for search:</p>
<table class="table table-striped">
    <tbody>
        <tr><td><code>P findById(String id)</code></td></tr><tr><td> Returns the object with the given <code>id</code> from the index or <code>null</code>.</td></tr>
        <tr><td><code>List&lt;P&gt; findByIds(List&lt;String&gt; ids)</code></td></tr><tr><td> Returns all objects for the given ids. </td></tr>
        <tr><td><code>List&lt;P&gt; findNearby(String type, String query, int radius, double lat, double lng)</code></td></tr><tr><td> Location-based search query.</td></tr>
        <tr><td><code>List&lt;P&gt; findPrefix(String type, String field, String prefix)</code></td></tr><tr><td> Searches for objects containing a field (property) that starts with the given prefix.</td></tr>
        <tr><td><code>List&lt;P&gt; findQuery(String type, String query)</code></td></tr><tr><td> The main search method.</td></tr>
        <tr><td><code>List&lt;P&gt; findSimilar(String type, String filterKey, String[] fields, String liketext)</code></td></tr><tr><td> “More like this” search. </td></tr>
        <tr><td><code>List&lt;P&gt; findTagged(String type, String[] tags)</code></td></tr><tr><td> Search for objects tagged with a set of tags.</td></tr>
        <tr><td><code>List&lt;P&gt; findTags(String keyword)</code></td></tr><tr><td> Shortcut method for listing all tags.</td></tr>
        <tr><td><code>List&lt;P&gt; findTermInList(String type, String field, List&lt;?&gt; terms)</code></td></tr><tr><td> Searches for objects containing any of the terms in the given list (matched exactly).</td></tr>
        <tr><td><code>List&lt;P&gt; findTerms(String type, Map&lt;String, ?&gt; terms, boolean matchAll)</code></td></tr><tr><td> Searches for objects containing all of the specified terms (matched exactly)</td></tr>
        <tr><td><code>List&lt;P&gt; findWildcard(String type, String field, String wildcard)</code></td></tr><tr><td> A wildcard query like “example*”.</td></tr>
    </tbody>
</table>

<p>Also there are a few methods for indexing and unindexing objects but you should avoid calling them directly.
These methods are:</p>
<ul>
<li><code>void index(ParaObject obj)</code></li>
<li><code>void indexAll(List&lt;P&gt; objects)</code></li>
<li><code>void unindex(ParaObject obj)</code></li>
<li><code>void unindexAll(List&lt;P&gt; objects)</code></li>
</ul>
<blockquote>
<p>You should not index/unindex your objects manually - Para does this for you.</p>
</blockquote>

						</section>
					</article>
					
				
					
					<a id="016-elasticsearch" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Elasticsearch</h2>
						
						<section class="body img-rounded">
							<p>Elasticsearch is used as the default search engine in Para. The <code>Search</code> interface is implemented in the <code>Elasticsearch</code>
class.</p>
<p>There are several configuration properties for Elasticsearch (these go in your <code>application.conf</code> file):</p>
<table class="table table-striped">
    <thead>
        <tr>
            <th>property</th>
            <th>description</th>
        </tr>
    </thead>
    <tbody>
        <tr><td><code>para.es.async_enabled</code></td><td> Asynchronous operation when indexing/unindexing. Defaults to <code>false</code>.</td></tr>
        <tr><td><code>para.es.cors_enabled</code></td><td> Enable CORS for HTTP requests to Elasticsearch. Default is <code>false</code> only if running in production.</td></tr>
        <tr><td><code>para.es.discovery_type</code></td><td> Discovery mechanism when running in production. Default is <code>ec2</code>.</td></tr>
        <tr><td><code>para.es.discovery_group</code></td><td> Security group for cloud discovery of nodes. Default is <code>elasticsearch</code>.</td></tr>
        <tr><td><code>para.es.local_node</code></td><td> Run locally on the JVM. Default is <code>true</code>.</td></tr>
        <tr><td><code>para.es.data_node</code></td><td> Allow the current node to store index data. Default is <code>true</code>.</td></tr>
        <tr><td><code>para.es.shards</code></td><td> The number of shards per index. Used when creating an new index. Default is <code>5</code>.</td></tr>
        <tr><td><code>para.es.replicas</code></td><td> The number of copies of an index. Default is <code>0</code>.</td></tr>
        <tr><td><code>para.es.dir</code></td><td> The directory where Elasticsearch will store data, logs etc. Default is <code>/var/lib/elasticsearch</code>.</td></tr>
        <tr><td><code>para.es.use_transportclient</code></td><td> Use <code>TransportClient</code> to connect to a remote ES node. Default is <code>false</code>.</td></tr>
        <tr><td><code>para.es.transportclient_host</code></td><td> The hostname of the Elasticsearch instance or cluster head node to connect to. Default is <code>localhost</code>.</td></tr>
        <tr><td><code>para.es.transportclient_port</code></td><td> The port of the Elasticsearch instance or cluster head node to connect to. Default is <code>9300</code>.</td></tr>
    </tbody>
</table>

<blockquote>
<p>Para relies heavily of <a href="http://www.elasticsearch.org/guide">Elasticsearch</a> for indexing and full text search.</p>
</blockquote>

						</section>
					</article>
					
				
					
					<a id="017-cache" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Cache interface</h2>
						
						<section class="body img-rounded">
							<p>The <code>Cache</code> interface defines the following methods used for object caching:</p>
<table class="table table-striped">
    <thead>
        <tr>
            <th>method</th>
            <th>description</th>
        </tr>
    </thead>
    <tbody>
        <tr><td><code>void put(String id, T object)</code></td><td> Caches an object with a key equal to its <code>id</code>. Should skip <code>null</code> objects.</td></tr>
        <tr><td><code>void putAll(Map&lt;String, T&gt; objects)</code></td><td> Caches multiple objects. Should skip <code>null</code> objects.</td></tr>
        <tr><td><code>T get(String id)</code></td><td> Retrieves an object from cache. Returns <code>null</code> if the object isn’t cached.</td></tr>
        <tr><td><code>Map&lt;String, T&gt; getAll(List&lt;String&gt; ids)</code></td><td> Retrieves multiple objects from cache.</td></tr>
        <tr><td><code>void remove(String id)</code></td><td> Removes an object from cache.</td></tr>
        <tr><td><code>void removeAll()</code></td><td> Clears the cache completely.</td></tr>
        <tr><td><code>void removeAll(List&lt;String&gt; ids)</code></td><td> Clears only the objects with the specified ids.</td></tr>
    </tbody>
</table>

<blockquote>
<p>You should avoid calling cache related methods directly - Para does this for you.</p>
</blockquote>

						</section>
					</article>
					
				
					
					<a id="018-hazelcast" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Hazelcast</h2>
						
						<section class="body img-rounded">
							<p>Para uses Hazelcast as the default implementation of the <code>Cache</code> interface. It was chosen because it provides excellent
support for distributed data structures like maps and sets. It allows us to use a portion of the memory on each node
for caching without having to manage a separate caching server or cluster.</p>
<p>Para organizes caches by application name - each application has its own separate distributed map with the same name.</p>
<p>There are several configuration properties for Hazelcast:</p>
<table class="table table-striped">
    <thead>
        <tr>
            <th>property</th>
            <th>description</th>
        </tr>
    </thead>
    <tbody>
        <tr><td><code>para.hc.async_enabled</code></td><td> Asynchronous operation when putting objects in cache. Defaults to <code>false</code>.</td></tr>
        <tr><td><code>para.hc.eviction_policy</code></td><td> Cache eviction policy - <code>LRU</code> or <code>LFU</code>. Defaults to <code>LRU</code>.</td></tr>
        <tr><td><code>para.hc.eviction_percentage</code></td><td> Cache eviction percentage. Defaults to <code>25</code> percent.</td></tr>
        <tr><td><code>para.hc.max_size</code></td><td> Cache size as a percentage of used heap. Defaults to <code>25</code> percent.</td></tr>
        <tr><td><code>para.hc.jmx_enabled</code></td><td> JMX reporting. Default is <code>true</code>. </td></tr>
        <tr><td><code>para.hc.ec2_discovery_enabled</code></td><td> Enables AWS EC2 auto discovery. Default is <code>true</code>.</td></tr>
        <tr><td><code>para.hc.discovery_group</code></td><td> Security group for cloud discovery of nodes. Default is <code>hazelcast</code>.</td></tr>
    </tbody>
</table>

<blockquote>
<p>For more information see the <a href="http://www.hazelcast.org/docs/latest/manual/html-single">Hazelcast docs</a>.</p>
</blockquote>

						</section>
					</article>
					
				
					
					<a id="019-one-to-many" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>One-to-many</h2>
						
						<section class="body img-rounded">
							<p>Object relationships are defined by the <code>Linkable</code> interface. All Para objects are linkable, meaning that they can be
related to other Para objects.</p>
<p>Para supports one-to-many relationships between objects with the <code>parentid</code> field. It contains the <code>id</code> of the parent
object. For example a user might be linked to their father like this:</p>
<pre>
+--------+
| Darth  |
| id: 5  |  Parent
+---+----+
    |
+---+---------+
| Luke        |
| id: 10      |  Child
| parentid: 5 |
+-------------+
</pre>

<p>This allows us to have a parent objects with many children which have the same <code>parentid</code> set. Now we can get all
children for a given object by calling <code>parent.getChildren(Class&lt;P&gt; clazz)</code>. This will return the list of objects that
have a <code>parentid</code> equal to that object’s <code>id</code>. For example:</p>
<pre><code class="lang-java"><span class="hljs-comment">// assuming we have the parent object...</span>
User luke = parent.getChildren(User.class).get(<span class="hljs-number">0</span>);
User darth = dao.read(luke.getParentid());
</code></pre>

						</section>
					</article>
					
				
					
					<a id="020-many-to-many" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Many-to-many</h2>
						
						<section class="body img-rounded">
							<p>Many-to-many relationships are implemented in Para with <code>Linker</code> objects. This object contains information
about a link between two objects. This is simply the <code>id</code> and <code>type</code> of both objects. Linker objects are just regular
Para objects - they can be persisted, indexed and cached.</p>
<pre>
+--------+
|  tag1  |
+---+----+
    |
+---+------------+
|post:10:tag:tag1|  Linker
+---+------------+
    |
+---+------+
|  Post1   |
|  id:10   |
+----------+
</pre>

<p>Linking and unlinking two objects is done like this:</p>
<pre><code class="lang-java">object1.link(Object2.class, object2.getId());
object1.unlink(Object2.class, object2.getId());
<span class="hljs-comment">// delete all links to/from object1</span>
object1.unlinkAll();
</code></pre>
<p>To check if two objects are linked use <code>object1.isLinked(Object2.class, object2.getId())</code>. Also you can count the number
of links by calling <code>object1.countLinks(Object2.class)</code>.</p>

						</section>
					</article>
					
				
					
					<a id="021-translations" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Translations</h2>
						
						<section class="body img-rounded">
							<p>Translations are Para objects which contain a single translation of a string. For example you can have a language file
in English and for each string you can create a <code>Translation</code> object with the translation of that string.</p>
<p>Translations have a key and a value. The key is used to identify the string to be translated. Each translation also has
a specific locale associated with it.</p>
<p>A translation can be approved which makes it possible to build a crowdsourced system for translation of language packs.</p>

						</section>
					</article>
					
				
					
					<a id="022-languages" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Languages</h2>
						
						<section class="body img-rounded">
							<p>Languages are maps of keys and values. A language file might contain all strings used by an application. Also you can
have the language loaded from a database.</p>
<p>The language map consists of language strings and each string has a short unique key. For example:</p>
<pre><code>english.txt
-----------
yes = <span class="hljs-string">"Yes"</span>
no  = <span class="hljs-string">"No"</span>

italian.txt
-----------
yes = <span class="hljs-string">"Sì"</span>
no  = <span class="hljs-string">"No"</span>
</code></pre><p>The <code>LanguageUtils</code> class deals with the loading of languages and contains methods for working with locales.
You can set default languages, write languages to a database and load them.</p>

						</section>
					</article>
					
				
					
					<a id="023-filters" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Filters</h2>
						
						<section class="body img-rounded">
							<p>There are several filters you can use to enable different features like Gzip encoding, CORS, etc.</p>
<h3 id="cors">CORS</h3>
<p>The CORS filter enables cross-origin requests for the Para API. It is enabled with the configuration property
<code>para.cors_enabled</code> set to <code>true</code>. The implementation is based on the open source <code>CORSFilter</code> by Ebay.</p>
<h3 id="gzip">Gzip</h3>
<p>The <code>GZipServletFilter</code> is enabled by <code>para.gzip_enabled</code> and provides on-the-fly Gzip encoding for static resources,
as well as, the Para API JSON responses.</p>
<h3 id="caching">Caching</h3>
<p>The <code>CachingHttpHeadersFilter</code> is not used by Para but you can use it to enable <code>Cache-Control</code> headers for all static
resources.</p>

						</section>
					</article>
					
				
					
					<a id="023-utilities" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Misc. utilities</h2>
						
						<section class="body img-rounded">
							<p>The <code>Utils</code> static class contains a variety of utility methods. These are summarized below:</p>
<h3 id="hashing">Hashing</h3>
<table class="table table-striped">
    <tbody>
        <tr><td><code>String MD5(String s)</code></td></tr>
        <tr><td> Calculates the MD5 hash for a string. </td></tr>
        <tr><td><code>String bcrypt(String s)</code></td></tr>
        <tr><td> Calclates the BCrypt hash for a string. Based on Spring Security. </td></tr>
        <tr><td><code>boolean bcryptMatches(String plain, String storedHash)</code></td></tr>
        <tr><td> Validates a BCrypt hash. </td></tr>
    </tbody>
</table>

<h3 id="strings">Strings</h3>
<table class="table table-striped">
    <tbody>
        <tr><td><code>String stripHtml(String html)</code></td></tr>
        <tr><td> Strips all HTML tags from a string leaving only the text. </td></tr>
        <tr><td><code>String markdownToHtml(String markdownString)</code></td></tr>
        <tr><td> Convert a Markdown string to HTML. Based on <a href="https://github.com/rjeschke/txtmark">Txtmark</a>.</td></tr>
        <tr><td><code>String compileMustache(Map&lt;String, Object&gt; scope, String template)</code></td></tr>
        <tr><td> Compile a Mustache template string to HTML. Based on <a href="https://github.com/spullara/mustache.java">Mustache.java</a>.</td></tr>
        <tr><td><code>String abbreviate(String str, int max)</code></td></tr>
        <tr><td> Abbreviates a string to a given length. </td></tr>
        <tr><td><code>String stripAndTrim(String str)</code></td></tr>
        <tr><td> Removes punctuation and symbols and normalizes whitespace. </td></tr>
        <tr><td><code>String noSpaces(String str, String replaceWith)</code></td></tr>
        <tr><td> Spaces are replaced with something or removed completely. </td></tr>
        <tr><td><code>String formatMessage(String msg, Object... params)</code></td></tr>
        <tr><td> Replaces placeholders like <code>{0}</code>, <code>{1}</code>, etc. with the corresponding objects (numbers, strings, booleans). </td></tr>
    </tbody>
</table>

<h3 id="numbers">Numbers</h3>
<table class="table table-striped">
    <tbody>
        <tr><td><code>String formatPrice(double price)</code></td></tr>
        <tr><td> Formats a price to a decimal with two fractional digits. </td></tr>
        <tr><td><code>double roundHalfUp(double d)</code></td></tr>
        <tr><td> Rounds up a double using the “half up” method, scale is 2 fractional digits.</td></tr>
        <tr><td><code>double roundHalfUp(double d, int scale)</code></td></tr>
        <tr><td> Rounds up a double using the “half up” method.</td></tr>
        <tr><td><code>String abbreviateInt(Number number, int decPlaces)</code></td></tr>
        <tr><td> Rounds a number like “10000” to “10K”, “1000000” to “1M”, etc. </td></tr>
    </tbody>
</table>

<h3 id="dates">Dates</h3>
<table class="table table-striped">
    <tbody>
        <tr><td><code>String formatDate(Long timestamp, String format, Locale loc)</code></td></tr>
        <tr><td> Formats a date according to a specific locale. </td></tr>
        <tr><td><code>String[] getMonths(Locale locale)</code></td></tr>
        <tr><td> A list of the twelve months in the language set by the locale. </td></tr>
    </tbody>
</table>

<h3 id="json">JSON</h3>
<table class="table table-striped">
    <tbody>
        <tr><td><code>P fromJSON(String json)</code></td></tr>
        <tr><td> Converts a JSON string to a <code>ParaObject</code>. Requires the <code>type</code> property. Based on Jackson. </td></tr>
        <tr><td><code>String toJSON(P obj)</code></td></tr>
        <tr><td> Converts a <code>ParaObject</code> to a JSON string. Based on Jackson. </td></tr>
    </tbody>
</table>

<h3 id="objects">Objects</h3>
<table class="table table-striped">
    <tbody>
        <tr><td><code>boolean typesMatch(ParaObject so)</code></td></tr>
        <tr><td> Validates that an object’s class matches its <code>type</code> property. </td></tr>
        <tr><td><code>Map&lt;String, Object&gt; getAnnotatedFields(P bean)</code></td></tr>
        <tr><td> Returns a map of all fields marked with the <code>Strored</code> annotation for a given object. </td></tr>
        <tr><td><code>P setAnnotatedFields(Map&lt;String, Object&gt; data)</code></td></tr>
        <tr><td> Reconstruct an object from a map of fields and their values. </td></tr>
        <tr><td><code>P toObject(String type)</code></td></tr>
        <tr><td> Constructs a new instance of the given type (must be a known <code>ParaObject</code>). </td></tr>
        <tr><td><code>Class&lt;? extends ParaObject&gt; toClass(String type)</code></td></tr>
        <tr><td> Returns the <code>Class</code> instance of a given type (must be a known <code>ParaObject</code>). </td></tr>
        <tr><td> <code>boolean isBasicType(Class&lt;?&gt; clazz)</code> </td></tr>
        <tr><td> Checks if a class is primitive, String or a primitive wrapper. </td></tr>
        <tr><td><code>String[] validateObject(ParaObject content)</code></td></tr>
        <tr><td> Runs the Hibernate Validator against an object. Returns a list of errors or an empty array if that object is valid. </td></tr>
        <tr><td><code>String getNewId()</code></td></tr>
        <tr><td> Generates a new <code>id</code>. Based on <a href="https://github.com/twitter/snowflake/">Twitter’s Snowflake</a> algorithm. </td></tr>
        <tr><td><code>String type(Class&lt;? extends ParaObject&gt; clazz)</code></td></tr>
        <tr><td> </td></tr>
        <tr><td> </td></tr>
        <tr><td> </td></tr>
    </tbody>
</table>

<h3 id="urls">URLs</h3>
<table class="table table-striped">
    <tbody>
        <tr><td><code>boolean isValidURL(String url)</code></td></tr>
        <tr><td> Validates a URL. </td></tr>
        <tr><td><code>String getHostFromURL(String url)</code></td></tr>
        <tr><td> Returns the host name of a URL - “example.com” </td></tr>
        <tr><td><code>String getBaseURL(String url)</code></td></tr>
        <tr><td> Returns th base URL - “<a href="http://example.com">http://example.com</a>“ </td></tr>
    </tbody>
</table>

						</section>
					</article>
					
				
					
					<a id="024-humantime" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>HumanTime</h2>
						
						<section class="body img-rounded">
							<p>Para includes the class <code>HumanTime</code> written by <a href="http://johannburkard.de">Johann Burkard</a>. This class makes it
easy to convert a timestamp to an approximation in the form of “X minutes ago”.</p>
<p>For example you can do:</p>
<pre><code class="lang-java">HumanTime ht = Utils.getHumanTime();
<span class="hljs-comment">// prints 15 h 45 m</span>
String s1 = ht.approximately(<span class="hljs-number">56720083L</span>);

<span class="hljs-keyword">int</span> timeOfEvent = <span class="hljs-number">1399554448</span>;
<span class="hljs-keyword">int</span> timeNow = System.currentTimeMillis();
<span class="hljs-comment">// calculate elapsed time</span>
String s2 = ht.approximately(timeNow - timeOfEvent);
System.out.println(<span class="hljs-string">"Event happened "</span> + s2 + <span class="hljs-string">" time ago"</span>);
</code></pre>
<blockquote>
<p>For more information about HumanTime see <a href="http://johannburkard.de/blog/programming/java/date-formatting-parsing-humans-humantime.html">the docs</a>.</p>
</blockquote>

						</section>
					</article>
					
				
					
					<a id="025-pager" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Pager</h2>
						
						<section class="body img-rounded">
							<p>The <code>Pager</code> class is used for pagination. It holds data about a page request. For example you can call a search method
like this:</p>
<pre><code class="lang-java">Pager pager = <span class="hljs-keyword">new</span> Pager();
<span class="hljs-comment">// limit results to 5</span>
pager.setLimit(<span class="hljs-number">5</span>);
<span class="hljs-comment">// sort by the 'tag' field</span>
pager.setSortby(<span class="hljs-string">"tag"</span>);
<span class="hljs-comment">// descending order</span>
pager.setDesc(<span class="hljs-keyword">true</span>);
List&lt;Tag&gt; tags = search.findTags(<span class="hljs-string">"tag1"</span>, pager);
<span class="hljs-comment">// the total number of tags for the query</span>
<span class="hljs-keyword">int</span> tagCount = pager.getCount();
</code></pre>
<p>Pager objects are used primarily in combination with search queries and allow you to limit the results of a query.</p>

						</section>
					</article>
					
				
					
					<a id="026-email" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Email</h2>
						
						<section class="body img-rounded">
							<p>The <code>Emailer</code> interface has a simple API for sending email messages.</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Emailer</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">boolean</span> <span class="hljs-title">sendEmail</span><span class="hljs-params">(List&lt;String&gt; emails, String subject, String body)</span></span>;
}
</code></pre>
<p>Currently this interface is implemented by the <code>AWSEmailer</code> class which relies on the AWS Simple Email Service for
sending emails.</p>

						</section>
					</article>
					
				
					
					<a id="027-queue" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Queue</h2>
						
						<section class="body img-rounded">
							<p>The <code>Queue</code> interface is another simple API for pushing and pulling messages to and from a queue.</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Queue</span> </span>{
    <span class="hljs-function">String <span class="hljs-title">pull</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">push</span><span class="hljs-params">(String task)</span></span>;
    <span class="hljs-function">String <span class="hljs-title">getName</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span></span>;
}
</code></pre>
<p>Currently this interface is implemented by the <code>AWSQueue</code> class which relies on the AWS Simple Queue Service.</p>

						</section>
					</article>
					
				
					
					<a id="028-storage" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Storage</h2>
						
						<section class="body img-rounded">
							<p>The <code>FileStore</code> interface allows you to have different storage services, like S3 or Google Drive, connected to
your application. You can save and load files from disk or cloud storage services easily.</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">FileStore</span> </span>{
    <span class="hljs-function">InputStream <span class="hljs-title">load</span><span class="hljs-params">(String path)</span></span>;
    <span class="hljs-function">String <span class="hljs-title">store</span><span class="hljs-params">(String path, InputStream data)</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">boolean</span> <span class="hljs-title">delete</span><span class="hljs-params">(String path)</span></span>;
}
</code></pre>
<h3 id="awsfilestore">AWSFileStore</h3>
<p>This implementation uses AWS S3 as file storage location. The location of each file is controlled by the bucket name
cofiguration property <code>para.s3.bucket</code>. There is also the <code>para.s3.max_filesize_mb</code> property which restricts the size of
the upload.</p>
<p>Before each upload, files are prepended with a timestamp, for example <code>myfile.txt</code> becomes <code>1405632454930.myfile.txt</code>.
Currently all files are set to be stored with “Reduced Redundancy” turned on.</p>
<p>You can Gzip compress files before uploading uploading but you must append the <code>.gz</code> extension in order for the correct
content encoding header to be set. The extension is removed before upload.</p>
<h3 id="localfilestore">LocalFileStore</h3>
<p>This implementation stores files on the local file system. The folder where files will be stored is set with the
<code>para.localstorage.folder</code> property. The maximum file size is controlled by <code>para.localstorage.max_filesize_mb</code>.</p>

						</section>
					</article>
					
				
					
					<a id="029-passwords" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Simple authentication</h2>
						
						<section class="body img-rounded">
							<p>Para implements several authentication mechanisms which you can integrate in your application and make it easy to handle
user registrations and logins.</p>
<p>The classic way of logging users in is with usernames and passwords. Para implements that mechanism in the
<code>PasswordAuthFilter</code> class. It takes a username or email and a password and tries to find that user in the database.
If the user exists then it validates that the hash of the given password matches the hash in the database.
The hashing algorithm is BCrypt.</p>
<p>The default URL for this filter is <code>/password_auth</code> and all requests to this location will be intercepted and processed
by it. The default parameters to pass to it are <code>email</code> and <code>password</code>.</p>
<p>Also see the configuration properties <code>para.security.signin_success</code> and <code>para.security.signin_failure</code> in section Config.</p>
<blockquote>
<p>Para relies on <a href="http://projects.spring.io/spring-security/">Spring Security</a> for handling authentication requests.</p>
</blockquote>

						</section>
					</article>
					
				
					
					<a id="030-openid" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>OpenID support</h2>
						
						<section class="body img-rounded">
							<p>Support for OpenID authentication is implemented by the <code>OpenIDAuthFilter</code>. The default URL for this filter is
<code>/openid_auth</code>.</p>
<p>The filter takes a request with the <code>openid_identifier</code> parameter and redirects the user to their OpenID provider for
verification. Once the user’s identity is verified, the provider redirects the user back to our filter and the user gets
either logged in or registered.</p>
<p>You can configure the URLs for authentication success and failure in the configuration file (see <a href="#005-config">the config</a>)</p>

						</section>
					</article>
					
				
					
					<a id="031-facebook" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Facebook support</h2>
						
						<section class="body img-rounded">
							<p>Support for logging in with Facebook is implemented by the <code>FacebookAuthFilter</code>. This filter responds to requests at
<code>/facebook_auth</code>.</p>
<p>To initiate a login with Facebook just redirect the user to the Facebook OAuth endpoint
<code>https://www.facebook.com/dialog/oauth</code>. Pass the parameter <code>redirect_uri=/facebook_auth</code> so Para
can handle the response from Facebook.</p>
<p><strong>Note:</strong> You need to register a new application with Facebook in order to obtain an access and secret keys.</p>
<p>Below is an example Javascript code for a Facebook login button:</p>
<pre><code class="lang-js">$(<span class="hljs-string">"#facebookLoginBtn"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-built_in">window</span>.location = <span class="hljs-string">"https://www.facebook.com/dialog/oauth?"</span> +
                <span class="hljs-string">"response_type=code&amp;client_id={FACEBOOK_APP_ID}"</span> +
                <span class="hljs-string">"&amp;scope=email&amp;state="</span> + (<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime()) +
                <span class="hljs-string">"&amp;redirect_uri="</span> + <span class="hljs-built_in">window</span>.location.origin + <span class="hljs-string">"/facebook_auth"</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
});
</code></pre>

						</section>
					</article>
					
				
					
					<a id="031-github" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>GitHub support</h2>
						
						<section class="body img-rounded">
							<p>Support for logging in with GitHub is implemented by the <code>GitHubAuthFilter</code>. This filter responds to requests at
<code>/github_auth</code>.</p>
<p>To initiate a login with GitHub just redirect the user to the GitHub OAuth endpoint
<code>https://github.com/login/oauth/authorize</code>. Pass the parameter <code>redirect_uri=/github_auth</code> so Para
can handle the response from GitHub.</p>
<p><strong>Note:</strong> You need to register a new application with GitHub in order to obtain an access and secret keys.</p>
<p>Below is an example Javascript code for a GitHub login button:</p>
<pre><code class="lang-js">$(<span class="hljs-string">"#githubLoginBtn"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-built_in">window</span>.location = <span class="hljs-string">"https://github.com/login/oauth/authorize?"</span> +
                <span class="hljs-string">"response_type=code&amp;client_id={GITHUB_APP_ID}"</span> +
                <span class="hljs-string">"&amp;scope=user&amp;state="</span> + (<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime()) +
                <span class="hljs-string">"&amp;redirect_uri="</span> + <span class="hljs-built_in">window</span>.location.origin + <span class="hljs-string">"/github_auth"</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
});
</code></pre>

						</section>
					</article>
					
				
					
					<a id="031-google" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Google+ support</h2>
						
						<section class="body img-rounded">
							<p>Support for logging in with Google+ is implemented by the <code>GoogleAuthFilter</code>. This filter responds to requests at
<code>/google_auth</code>.</p>
<p>To initiate a login with Google+ just redirect the user to the Google OAuth endpoint
<code>https://accounts.google.com/o/oauth2/auth</code>. Pass the parameter <code>redirect_uri=/google_auth</code> so Para
can handle the response from Google+.</p>
<p><strong>Note:</strong> You need to register a new application with Google+ in order to obtain an access and secret keys.</p>
<p>Below is an example Javascript code for a Google+ login button:</p>
<pre><code class="lang-js">$(<span class="hljs-string">"#googleLoginBtn"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">var</span> baseUrl = <span class="hljs-built_in">window</span>.location.origin;
        <span class="hljs-built_in">window</span>.location = <span class="hljs-string">"https://accounts.google.com/o/oauth2/auth?"</span> +
                <span class="hljs-string">"client_id={GOOGLE_APP_ID}&amp;response_type=code"</span> +
                <span class="hljs-string">"&amp;scope=openid%20email&amp;redirect_uri="</span> + baseUrl + <span class="hljs-string">"/google_auth"</span> +
                <span class="hljs-string">"&amp;state="</span> + (<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime()) + <span class="hljs-string">"&amp;"</span> + <span class="hljs-string">"openid.realm="</span> + baseUrl;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
});
</code></pre>

						</section>
					</article>
					
				
					
					<a id="031-linkedin" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>LinkedIn support</h2>
						
						<section class="body img-rounded">
							<p>Support for logging in with LinkedIn is implemented by the <code>LinkedInAuthFilter</code>. This filter responds to requests at
<code>/linkedin_auth</code>.</p>
<p>To initiate a login with LinkedIn just redirect the user to the LinkedIn OAuth endpoint
<code>https://www.linkedin.com/uas/oauth2/authorization</code>. Pass the parameter <code>redirect_uri=/linkedin_auth</code> so Para
can handle the response from LinkedIn.</p>
<p><strong>Note:</strong> You need to register a new application with LinkedIn in order to obtain an access and secret keys.</p>
<p>Below is an example Javascript code for a LinkedIn login button:</p>
<pre><code class="lang-js">$(<span class="hljs-string">"#linkedinLoginBtn"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-built_in">window</span>.location = <span class="hljs-string">"https://www.linkedin.com/uas/oauth2/authorization?"</span> +
                <span class="hljs-string">"response_type=code&amp;client_id={LINKEDIN_APP_ID}"</span> +
                <span class="hljs-string">"&amp;scope=r_emailaddress&amp;state="</span> + (<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime()) +
                <span class="hljs-string">"&amp;redirect_uri="</span> + <span class="hljs-built_in">window</span>.location.origin + <span class="hljs-string">"/linkedin_auth"</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
});
</code></pre>

						</section>
					</article>
					
				
					
					<a id="031-twitter" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Twitter support</h2>
						
						<section class="body img-rounded">
							<p>Support for logging in with Twitter is implemented by the <code>TwitterAuthFilter</code>. This filter responds to requests at
<code>/twitter_auth</code>.</p>
<p>To initiate a login with Twitter just redirect the user to the <code>/twitter_auth</code>. This will redirect the user to Twitter
for authentication.</p>
<p><strong>Note:</strong> You need to register a new application with Twitter in order to obtain an access and secret keys.
<strong>The Twitter API does not share users’ emails so users are assigned an invalid email
when signing in for the first time.</strong></p>
<p>Below is an example Javascript code for a Twitter login button:</p>
<pre><code class="lang-js">$(<span class="hljs-string">"#twitterLoginBtn"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-built_in">window</span>.location = <span class="hljs-string">"/twitter_auth"</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
});
</code></pre>

						</section>
					</article>
					
				
					
					<a id="032-roles" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Groups and roles</h2>
						
						<section class="body img-rounded">
							<p>Para defines three security groups and roles:</p>
<ul>
<li><code>users</code> group with role <code>user</code> (normal users)</li>
<li><code>mods</code> group with role <code>mod</code> (moderators)</li>
<li><code>admins</code> group with role <code>admin</code> (administrators)</li>
</ul>
<p>There is also a special role <code>app</code> for applications.</p>

						</section>
					</article>
					
				
					
					<a id="033-csrf" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>CSRF protection</h2>
						
						<section class="body img-rounded">
							<p>Cross-Site Request Forgery protection is enabled by default for all <code>POST</code>, <code>PUT</code> and <code>DELETE</code> requests.
It works by verifying that incoming requests contain a security token (CSRF token) and it matches the one stored on the
server. CSRF protection is disabled for API requests.</p>
<p>To disable the CSRF protection set <code>para.security.csrf_protection</code> to <code>false</code>. You can also tell Para to send a cookie
containing the CSRF token by setting <code>para.security.csrf_cookie</code> as the cookie name. Leaving this parameter blank will
disable the CSRF cookie.</p>
<p>For example, if you wish to integrate CSRF protection with AngularJS you can do so by setting
the cookie name to <code>XSRF-TOKEN</code> which is the default cookie used by AngularJS. Also you need to configure AngularJS to
send the correct CSRF header to Para which is <code>X-CSRF-TOKEN</code> like so:</p>
<pre><code class="lang-js">$httpProvider.defaults.xsrfHeaderName = <span class="hljs-string">"X-CSRF-TOKEN"</span>;
</code></pre>
<p>In order to get a CSRF token from the server you need to send a <code>POST</code> request to a protected resource
like <code>POST /protected/ping</code> and the server will return the token as cookie.</p>

						</section>
					</article>
					
				
					
					<a id="033-restauth" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Authentication</h2>
						
						<section class="body img-rounded">
							<p>Para uses the <strong>AWS Signature Version 4</strong> algorithm for signing API requests. We chose this algorithm instead
of OAuth because it is less complicated and is already implemented inside the AWS Java SDK, which we have a direct
dependency. In terms of security, both algorithms are considered very secure so there’s no compromise in that aspect.</p>
<p>In order to make a request to the API you need to have a pair of access and secret keys. Access keys are part of the
HTTP request and secret keys are used for signing only and must be kept safe.</p>
<p>We recommend that you choose one of our API client libraries to handle the authentication for you. </p>
<h3 id="first-time-setup">First-time setup</h3>
<p>Call <code>GET /v1/_setup</code> to get your first key pair. Once you do this you will get back a response like:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"secretKey"</span>: <span class="hljs-string">"U3VTNifLPqnZ1W2S3pVVuKG4HOVbimMocdDMl8T69BB001AXGZtwZw=="</span>,
    <span class="hljs-string">"accessKey"</span>: <span class="hljs-string">"YXBwOnBhcmE="</span>,
    <span class="hljs-string">"info"</span>:        <span class="hljs-string">"Save the secret key! It is showed only once!"</span>
}
</code></pre>
<p>Make sure you <strong>save</strong> these security credentials because the API can only be accessed with them. Once you have the
keys you can start making signed requests to the API. Also you can use these keys to create applications which will
have their own separate keys (see <a href="#34">Apps</a>).</p>
<h3 id="changing-keys">Changing keys</h3>
<p>Call <code>POST /v1/_newkeys</code> to generate a new secret key (<em>the request must be signed with the old keys</em>).</p>
<h3 id="disabling-api-security">Disabling API security</h3>
<p>To disable the API security completely, set the config parameter <code>para.security.api_security</code> to <code>false</code>.</p>
<p>If you wish to disable all API functions completely, set the config parameter <code>para.api_enabled&quot; to</code>false`.</p>
<blockquote>
<p>For more information see the <a href="http://docs.aws.amazon.com/AmazonS3/latest/API/sig-v4-authenticating-requests.html">AWS documentation</a>
for REST authentication.</p>
</blockquote>

						</section>
					</article>
					
				
					
					<a id="034-apps" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>Apps</h2>
						
						<section class="body img-rounded">
							<p>Apps allow you to have separate namespaces and data models for different purposes. Each app lives in its own separate
database and is independent from apps.</p>
<p>Apps have a unique <code>appid</code> key which is used to identify them. They also have a set of data types. Data types can be
created on-the-fly, for example you can create a type called “article” and it will have its own API URL at
<code>/v1/article</code></p>
<p>Initially Para creates a default root app with an <code>id</code> equal to the value of the <code>para.app_name</code>
configuration parameter. If you need to have only one app then you don’t need to do anything. If you want to have
multiple apps then you can simply create them with <code>appid</code> equal to the root app’s <code>id</code>.</p>
<p>Currently Para creates separate database tables for all apps and uses a single shared search index unless an app has
<code>shared = false</code>. If this is the case then a separate search index is created for that app. It is possible to make
Para use a single database table for all apps by prefixing <code>id</code> fields (e.g. <code>app1_id1</code>-&gt;<code>data</code>) but this is not yet
implemented.</p>

						</section>
					</article>
					
				
					
					<a id="035-api" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class=" img-rounded">
						
							<h2>API methods</h2>
						
						<section class="body img-rounded">
							<blockquote>
<p>All API methods below <strong>require authentication</strong> by default unless it’s written otherwise.</p>
</blockquote>
<h2 id="limiting-which-fields-are-returned-by-the-api">Limiting which fields are returned by the API</h2>
<p>Field limiting is supported on all requests by using the query parameter <code>select=xxx,yyy</code>.
This parameter takes a comma separated list of fields to include. For example:</p>
<p><code>GET /myobjects?select=id,name,custom_field1,custom_field2</code></p>

						</section>
					</article>
					
				
					
					<a id="036-api-create" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="POST img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
										
										
										
											<span class="img-rounded label-info">POST</span>
										
										
										<span class="gray">
											/v1/{type} 
										</span>
									</code>
									<span class="hidden-xs">Create objects</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>Creates new objects of type <code>{type}</code>. You can also create objects with custom types and fields (since v1.4.0).</p>
<h3 id="request">Request</h3>
<ul>
<li><strong>body</strong> - the JSON object to create</li>
<li><code>{type}</code> - the plural form of the object’s type, e.g. “users”</li>
</ul>
<p><strong>Example request body:</strong></p>
<pre><code class="lang-js">{
    <span class="hljs-string">"type"</span>:<span class="hljs-string">"tag"</span>,
    <span class="hljs-string">"plural"</span>:<span class="hljs-string">"tags"</span>,
    <span class="hljs-string">"tag"</span>:<span class="hljs-string">"tag1"</span>
}
</code></pre>
<p>Notice how the <code>type</code> field is in singular form and the <code>plural</code> field is the plural form of the type’s name.
These are required for mapping types to URLs.</p>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>201</code>, <code>400</code></li>
</ul>
<p>Example response for a <code>Tag</code>:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"id"</span>:<span class="hljs-string">"tag:tag1"</span>,
    <span class="hljs-string">"timestamp"</span>:<span class="hljs-number">1399721289987</span>,
    <span class="hljs-string">"type"</span>:<span class="hljs-string">"tag"</span>,
    <span class="hljs-string">"appid"</span>:<span class="hljs-string">"para"</span>,
    <span class="hljs-string">"name"</span>:<span class="hljs-string">"tag tag:tag1"</span>,
    <span class="hljs-string">"votes"</span>:<span class="hljs-number">0</span>,
    <span class="hljs-string">"plural"</span>:<span class="hljs-string">"tags"</span>,
    <span class="hljs-string">"objectURI"</span>:<span class="hljs-string">"/tags/tag1"</span>,
    <span class="hljs-string">"tag"</span>:<span class="hljs-string">"tag1"</span>,
    <span class="hljs-string">"count"</span>:<span class="hljs-number">0</span>
}
</code></pre>

						</section>
					</article>
					
				
					
					<a id="037-api-read" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
											<span class="img-rounded label-success">GET</span>
										
										
										
										
										
										<span class="gray">
											/v1/{type}/{id} 
										</span>
									</code>
									<span class="hidden-xs">Read objects</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>Returns objects of type <code>{type}</code>.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{type}</code> - the plural form of the object’s type, e.g. “users”</li>
<li><code>{id}</code> - the <code>id</code></li>
</ul>
<p><strong>Note:</strong> If <code>{id}</code> is omitted then the response will be a list of all objects of the specified type.</p>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>404</code></li>
</ul>
<p>Example response for a <code>Tag</code>:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"id"</span>:<span class="hljs-string">"tag:tag1"</span>,
    <span class="hljs-string">"timestamp"</span>:<span class="hljs-number">1399721289987</span>,
    <span class="hljs-string">"type"</span>:<span class="hljs-string">"tag"</span>,
    <span class="hljs-string">"appid"</span>:<span class="hljs-string">"para"</span>,
    <span class="hljs-string">"name"</span>:<span class="hljs-string">"tag tag:tag1"</span>,
    <span class="hljs-string">"votes"</span>:<span class="hljs-number">0</span>,
    <span class="hljs-string">"plural"</span>:<span class="hljs-string">"tags"</span>,
    <span class="hljs-string">"objectURI"</span>:<span class="hljs-string">"/tags/tag1"</span>,
    <span class="hljs-string">"tag"</span>:<span class="hljs-string">"tag1"</span>,
    <span class="hljs-string">"count"</span>:<span class="hljs-number">0</span>
}
</code></pre>

						</section>
					</article>
					
				
					
					<a id="038-api-overwrite" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="PUT img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
										
											<span class="img-rounded label-warning">PUT</span>
										
										
										
										
										<span class="gray">
											/v1/{type}/{id} 
										</span>
									</code>
									<span class="hidden-xs">Overwrite objects</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>Overwrites an object of type <code>{type}</code>. If the object with this <code>{id}</code> doesn’t exist then a new one will be created.</p>
<h3 id="request">Request</h3>
<ul>
<li><strong>body</strong> - the JSON data to merge with the stored object</li>
<li><code>{type}</code> - the plural form of the object’s type, e.g. “users”</li>
<li><code>{id}</code> - the <code>id</code></li>
</ul>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code>, <code>404</code>, <code>500</code></li>
</ul>
<p>Example response for a <code>Tag</code> with updated <code>count</code>:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"id"</span>:<span class="hljs-string">"tag:tag1"</span>,
    <span class="hljs-string">"timestamp"</span>:<span class="hljs-number">1399721289987</span>,
    <span class="hljs-string">"type"</span>:<span class="hljs-string">"tag"</span>,
    <span class="hljs-string">"appid"</span>:<span class="hljs-string">"para"</span>,
    <span class="hljs-string">"name"</span>:<span class="hljs-string">"tag tag:tag1"</span>,
    <span class="hljs-string">"votes"</span>:<span class="hljs-number">0</span>,
    <span class="hljs-string">"plural"</span>:<span class="hljs-string">"tags"</span>,
    <span class="hljs-string">"objectURI"</span>:<span class="hljs-string">"/tags/tag1"</span>,
    <span class="hljs-string">"tag"</span>:<span class="hljs-string">"tag1"</span>,
    <span class="hljs-string">"count"</span>:<span class="hljs-number">55</span>
}
</code></pre>

						</section>
					</article>
					
				
					
					<a id="038-api-update" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="PATCH img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
										
										
											<span class="img-rounded label-default">PATCH</span>
										
										
										
										<span class="gray">
											/v1/{type}/{id} 
										</span>
									</code>
									<span class="hidden-xs">Update objects</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>Updates objects of type <code>{type}</code>. Partial objects are supported.</p>
<h3 id="request">Request</h3>
<ul>
<li><strong>body</strong> - the JSON data to merge with the stored object</li>
<li><code>{type}</code> - the plural form of the object’s type, e.g. “users”</li>
<li><code>{id}</code> - the <code>id</code></li>
</ul>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code>, <code>404</code>, <code>500</code></li>
</ul>
<p>Example response for a <code>Tag</code> with updated <code>count</code>:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"id"</span>:<span class="hljs-string">"tag:tag1"</span>,
    <span class="hljs-string">"timestamp"</span>:<span class="hljs-number">1399721289987</span>,
    <span class="hljs-string">"type"</span>:<span class="hljs-string">"tag"</span>,
    <span class="hljs-string">"appid"</span>:<span class="hljs-string">"para"</span>,
    <span class="hljs-string">"name"</span>:<span class="hljs-string">"tag tag:tag1"</span>,
    <span class="hljs-string">"votes"</span>:<span class="hljs-number">0</span>,
    <span class="hljs-string">"plural"</span>:<span class="hljs-string">"tags"</span>,
    <span class="hljs-string">"objectURI"</span>:<span class="hljs-string">"/tags/tag1"</span>,
    <span class="hljs-string">"tag"</span>:<span class="hljs-string">"tag1"</span>,
    <span class="hljs-string">"count"</span>:<span class="hljs-number">55</span>
}
</code></pre>

						</section>
					</article>
					
				
					
					<a id="039-api-delete" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="DELETE img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
										
										
										
										
											<span class="img-rounded label-danger">DELETE</span>
										
										<span class="gray">
											/v1/{type}/{id} 
										</span>
									</code>
									<span class="hidden-xs">Delete objects</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>Deletes objects of type <code>{type}</code>.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{type}</code> - the plural form of the object’s type, e.g. “users”</li>
<li><code>{id}</code> - the <code>id</code></li>
</ul>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code></li>
</ul>
<p>No content.</p>

						</section>
					</article>
					
				
					
					<a id="040-api-batch-create" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="POST img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
										
										
										
											<span class="img-rounded label-info">POST</span>
										
										
										<span class="gray">
											/v1/_batch 
										</span>
									</code>
									<span class="hidden-xs">Batch create</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>Creates multiple objects with a single request. <code>PUT</code> requests to this resource are equivalent to <code>POST</code>.</p>
<h3 id="request">Request</h3>
<ul>
<li><strong>body</strong> - a JSON array of objects to create (required).</li>
</ul>
<p><strong>Maximum request size is 1 megabyte.</strong></p>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code></li>
</ul>
<p>Example response for creating 3 objects (returns a list of the created objects):</p>
<pre><code class="lang-js">[ { <span class="hljs-string">"id"</span>:<span class="hljs-string">"id1"</span>, ... }, { <span class="hljs-string">"id"</span>:<span class="hljs-string">"id2"</span>, ... }, { <span class="hljs-string">"id"</span>:<span class="hljs-string">"id3"</span>, ... } ]
</code></pre>

						</section>
					</article>
					
				
					
					<a id="041-api-batch-read" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
											<span class="img-rounded label-success">GET</span>
										
										
										
										
										
										<span class="gray">
											/v1/_batch 
										</span>
									</code>
									<span class="hidden-xs">Batch read</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>Returns a list of objects given their <code>id</code> fields.</p>
<h3 id="parameters">Parameters</h3>
<ul>
<li><code>ids</code> - a list of <code>id</code>s of existing objects (required).</li>
</ul>
<p><strong>Example:</strong> <code>GET /v1/_batch?ids=id1&amp;ids=id2&amp;ids=id3</code></p>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code> (if no <code>ids</code> are specified)</li>
</ul>
<p>Example response for reading 3 objects:</p>
<pre><code class="lang-js">[ { <span class="hljs-string">"id"</span>:<span class="hljs-string">"id1"</span>, ... }, { <span class="hljs-string">"id"</span>:<span class="hljs-string">"id2"</span>, ... }, { <span class="hljs-string">"id"</span>:<span class="hljs-string">"id3"</span>, ... } ]
</code></pre>

						</section>
					</article>
					
				
					
					<a id="042-api-batch-update" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="PATCH img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
										
										
											<span class="img-rounded label-default">PATCH</span>
										
										
										
										<span class="gray">
											/v1/_batch 
										</span>
									</code>
									<span class="hidden-xs">Batch update</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>Updates multiple objects with a single request. Partial objects are supported.
<strong>Note:</strong> These objects will not be validated as this would require us to read them first and validate them one by one.</p>
<h3 id="request">Request</h3>
<ul>
<li><strong>body</strong> - a JSON array of objects to update (required). The fields <code>id</code> and <code>type</code> are required for each object.</li>
</ul>
<p><strong>Maximum request size is 1 megabyte.</strong></p>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code></li>
</ul>
<p>Example response for updating 3 objects (returns a list of the updated objects):</p>
<pre><code class="lang-js">[ {
    <span class="hljs-string">"id"</span>:<span class="hljs-string">"id1"</span>,
    <span class="hljs-string">"type"</span>:<span class="hljs-string">"type1"</span>,
    <span class="hljs-string">"name"</span>:<span class="hljs-string">"newName1"</span>, ...
  }, {
    <span class="hljs-string">"id"</span>:<span class="hljs-string">"id2"</span>,
    <span class="hljs-string">"type"</span>:<span class="hljs-string">"type2"</span>,
    <span class="hljs-string">"name"</span>:<span class="hljs-string">"newName2"</span>, ...
  }, {
     <span class="hljs-string">"id"</span>:<span class="hljs-string">"id3"</span>,
     <span class="hljs-string">"type"</span>:<span class="hljs-string">"type3"</span>,
     <span class="hljs-string">"name"</span>:<span class="hljs-string">"newName3"</span>, ...
} ]
</code></pre>

						</section>
					</article>
					
				
					
					<a id="043-api-batch-delete" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="DELETE img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
										
										
										
										
											<span class="img-rounded label-danger">DELETE</span>
										
										<span class="gray">
											/v1/_batch 
										</span>
									</code>
									<span class="hidden-xs">Batch delete</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>Deletes multiple objects with a single request.</p>
<h3 id="parameters">Parameters</h3>
<ul>
<li><code>ids</code> - a list of <code>id</code>s of existing objects (required).</li>
</ul>
<p>Example: <code>DELETE /v1/_batch?ids=1&amp;ids=2</code> will delete the two objects with an <code>id</code> of <code>1</code> and <code>2</code>, respectively.</p>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code> (if request maximum number of <code>ids</code> is over the limit of ~30)</li>
</ul>
<p>No content.</p>

						</section>
					</article>
					
				
					
					<a id="044-api-basicsearch" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
											<span class="img-rounded label-success">GET</span>
										
										
										
										
										
										<span class="gray">
											/v1/{type}/search/{querytype} 
										</span>
									</code>
									<span class="hidden-xs">Basic search</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>Searches for objects of type <code>{type}</code>.
<strong>Note:</strong> Requests to this path and <code>/v1/{type}</code> are handled identically.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{type}</code> - the plural form of the object’s type, e.g. “users”</li>
<li><code>{querytype}</code> - the type of query to execute (optional, see <a href="#015-search">Search</a>)</li>
<li><code>{id}</code> - the <code>id</code></li>
</ul>
<h4 id="parameters">Parameters</h4>
<ul>
<li><code>q</code> - a search query string (optional). Defaults to <code>*</code> (all).</li>
<li><code>desc</code> - sort order - <code>true</code> for descending (optional). Default is <code>true</code>.</li>
<li><code>sort</code> - the field to sort by (optional).</li>
<li><code>page</code> - starting page for results (optional). (note: page size is 30 items by default)</li>
</ul>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code></li>
</ul>
<p>Example response for querying all tags:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"page"</span>:<span class="hljs-number">0</span>,
    <span class="hljs-string">"totalHits"</span>:<span class="hljs-number">3</span>,
    <span class="hljs-string">"items"</span>:[{
        <span class="hljs-string">"id"</span>:<span class="hljs-string">"tag:tag3"</span>,
        <span class="hljs-string">"timestamp"</span>:<span class="hljs-number">1400077389250</span>,
        <span class="hljs-string">"type"</span>:<span class="hljs-string">"tag"</span>,
        <span class="hljs-string">"appid"</span>:<span class="hljs-string">"para"</span>,
        <span class="hljs-string">"name"</span>:<span class="hljs-string">"tag tag:tag3"</span>,
        <span class="hljs-string">"votes"</span>:<span class="hljs-number">0</span>,
        <span class="hljs-string">"plural"</span>:<span class="hljs-string">"tags"</span>,
        <span class="hljs-string">"objectURI"</span>:<span class="hljs-string">"/tags/tag3"</span>,
        <span class="hljs-string">"tag"</span>:<span class="hljs-string">"tag3"</span>,
        <span class="hljs-string">"count"</span>:<span class="hljs-number">0</span>
    }, {
        <span class="hljs-string">"id"</span>:<span class="hljs-string">"tag:tag1"</span>,
        <span class="hljs-string">"timestamp"</span>:<span class="hljs-number">1400077383588</span>,
        <span class="hljs-string">"type"</span>:<span class="hljs-string">"tag"</span>,
        <span class="hljs-string">"appid"</span>:<span class="hljs-string">"para"</span>,
        <span class="hljs-string">"name"</span>:<span class="hljs-string">"tag tag:tag1"</span>,
        <span class="hljs-string">"votes"</span>:<span class="hljs-number">0</span>,
        <span class="hljs-string">"plural"</span>:<span class="hljs-string">"tags"</span>,
        <span class="hljs-string">"objectURI"</span>:<span class="hljs-string">"/tags/tag1"</span>,
        <span class="hljs-string">"tag"</span>:<span class="hljs-string">"tag1"</span>,
        <span class="hljs-string">"count"</span>:<span class="hljs-number">0</span>
    }, {
        <span class="hljs-string">"id"</span>:<span class="hljs-string">"tag:tag2"</span>,
        <span class="hljs-string">"timestamp"</span>:<span class="hljs-number">1400077386726</span>,
        <span class="hljs-string">"type"</span>:<span class="hljs-string">"tag"</span>,
        <span class="hljs-string">"appid"</span>:<span class="hljs-string">"para"</span>,
        <span class="hljs-string">"name"</span>:<span class="hljs-string">"tag tag:tag2"</span>,
        <span class="hljs-string">"votes"</span>:<span class="hljs-number">0</span>,
        <span class="hljs-string">"plural"</span>:<span class="hljs-string">"tags"</span>,
        <span class="hljs-string">"objectURI"</span>:<span class="hljs-string">"/tags/tag2"</span>,
        <span class="hljs-string">"tag"</span>:<span class="hljs-string">"tag2"</span>,
        <span class="hljs-string">"count"</span>:<span class="hljs-number">0</span>
    }]
}
</code></pre>

						</section>
					</article>
					
				
					
					<a id="045-api-search" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
											<span class="img-rounded label-success">GET</span>
										
										
										
										
										
										<span class="gray">
											/v1/search/{querytype} 
										</span>
									</code>
									<span class="hidden-xs">Advanced search</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>Executes a search query.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{querytype}</code> - the type of query to execute (optional), use one of types below:</li>
</ul>
<p>The <code>querytype</code> parameter switches between the different query types. If this parameter is missing
then the generic <code>findQuery()</code> method will be executed by default.</p>
<h4 id="-id-query"><code>id</code> query</h4>
<p>This executes the method <code>findById()</code> with these <strong>parameters</strong>:</p>
<ul>
<li><code>id</code> - the id to search for</li>
</ul>
<hr>

<h4 id="-ids-query"><code>ids</code> query</h4>
<p>This executes the method <code>findByIds()</code> with these <strong>parameters</strong>:</p>
<ul>
<li><code>ids</code> - a list of ids to search for</li>
</ul>
<hr>

<h4 id="-nearby-query"><code>nearby</code> query</h4>
<p>This executes the method <code>findNearby()</code> with these <strong>parameters</strong>:</p>
<ul>
<li><code>latlng</code> - latitude and longitude of the center of the search perimeter</li>
<li><code>radius</code> - radius of the search perimeter in kilometers.</li>
</ul>
<hr>

<h4 id="-prefix-query"><code>prefix</code> query</h4>
<p>This executes the method <code>findPrefix()</code> with these <strong>parameters</strong>:</p>
<ul>
<li><code>field</code> - the field to search on</li>
<li><code>prefix</code> - the prefix</li>
</ul>
<hr>

<h4 id="-similar-query"><code>similar</code> query</h4>
<p>This executes the method <code>findSimilar()</code> with these <strong>parameters</strong>:</p>
<ul>
<li><code>fields</code> - a list of fields (example: <code>?fields=field1&amp;fields=field2</code>)</li>
<li><code>filterid</code> - an id filter; excludes a particular object from the results</li>
<li><code>like</code> - the source text to use for comparison</li>
</ul>
<hr>

<h4 id="-tagged-query"><code>tagged</code> query</h4>
<p>This executes the method <code>findTagged()</code> with these <strong>parameters</strong>:</p>
<ul>
<li><code>tags</code> - a list of tags (example: <code>?tags=tag1&amp;tags=tag2</code>)</li>
</ul>
<hr>

<h4 id="-in-query"><code>in</code> query</h4>
<p>This executes the method <code>findTermInList()</code> with these <strong>parameters</strong>:</p>
<ul>
<li><code>field</code> - the field to search on</li>
<li><code>terms</code> - a list of terms (values)</li>
</ul>
<hr>

<h4 id="-terms-query"><code>terms</code> query</h4>
<p>This executes the method <code>findTerms()</code> with these <strong>parameters</strong>:</p>
<ul>
<li><code>matchall</code> - if <code>true</code> executes an <code>AND</code> query, otherwise an <code>OR</code> query</li>
<li><code>terms</code> - a list of <code>field:term</code> pairs (example: <code>?terms=field1:term1&amp;terms=field2:term2</code>)</li>
<li><code>count</code> - if present will return 0 objects but the “totalHits” field will contain the total number of results found
that match the given terms.</li>
</ul>
<p>Since v1.9, the terms query supports ranges. For example if you have a pair like <code>&#39;age&#39;:25</code> and you want to
find objects with higher <code>age</code> value, you can modify the key to have a relational operator <code>&#39;age &gt;&#39;:25</code>. You can
use the <code>&gt;, &lt;, &gt;=, &lt;=</code> operators by appending them to the keys of the terms map.</p>
<hr>

<h4 id="-wildcard-query"><code>wildcard</code> query</h4>
<p>This executes the method <code>findWildcard()</code> with these <strong>parameters</strong>:</p>
<ul>
<li><code>field</code> - the field to search on</li>
</ul>
<hr>

<h4 id="-count-query"><code>count</code> query</h4>
<p>This executes the method <code>getCount()</code> with <strong>no parameters</strong>.</p>
<h3 id="request-parameters">Request parameters</h3>
<ul>
<li><code>q</code> - a search query string (optional). Defaults to <code>*</code> (all).</li>
<li><code>type</code> - the type of objects to search for (optional).
<code>prefix</code>, <code>tagged</code>, <code>in</code>, <code>terms</code>, <code>wildcard</code>, <code>count</code>. (see <a href="#015-search">Search</a>)</li>
<li><code>desc</code> - sort order - <code>true</code> for descending (optional). Default is <code>true</code>.</li>
<li><code>sort</code> - the field to sort by (optional).</li>
<li><code>page</code> - starting page for results (optional). (note: page size is 30 items by default)</li>
</ul>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code></li>
</ul>
<p>Example response for counting all objects (just three for this example):</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"page"</span>:<span class="hljs-number">0</span>,
    <span class="hljs-string">"totalHits"</span>:<span class="hljs-number">3</span>,
    <span class="hljs-string">"items"</span>:[
    ]
}
</code></pre>

						</section>
					</article>
					
				
					
					<a id="046-api-links-get" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
											<span class="img-rounded label-success">GET</span>
										
										
										
										
										
										<span class="gray">
											/v1/{type}/{id}/links/{type2}/{id2} 
										</span>
									</code>
									<span class="hidden-xs">Find linked objects</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>Call this method to search for objects that linked to the object with the given <code>{id}</code>.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{type}</code> - the type of the first object, e.g. “users”</li>
<li><code>{id}</code> - the <code>id</code> of the first object</li>
<li><code>{type2}</code> - the <code>type</code> of the second object (required)</li>
<li><code>{id2}</code> - the <code>id</code> field of the second object (not required)</li>
</ul>
<h4 id="parameters">Parameters</h4>
<ul>
<li><code>childrenonly</code> - if set and <code>id</code> is not set, will return a list of child objects
(these are the objects with <code>parentid</code> equal to <code>{id}</code> above). Also if <code>field</code> and <code>term</code> parameters are set, the results
are filtered by the specified field and the value of that field (term).</li>
<li><code>count</code> - if set will return no items an the total number of linked objects. If <code>childrenonly</code> is set, this will
return only the count of child objects.</li>
</ul>
<h3 id="response">Response</h3>
<ul>
<li>If the <code>id</code> parameter is specified, the response will be a boolean - <code>true</code> if objects are linked.</li>
<li>If the <code>id</code> parameter is missing, the response will be a list of linked objects. (pagination parameters are applicable)</li>
<li><p><code>childrenonly</code> - if set, the response will be a list of child objects (pagination parameters are applicable)</p>
</li>
<li><p><strong>status codes</strong> - <code>200</code>, <code>400</code> (if <code>type</code> parameter is missing)</p>
</li>
</ul>
<p>Example response if <code>id</code> is missing:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"page"</span>:X,
    <span class="hljs-string">"totalHits"</span>:Y,
    <span class="hljs-string">"items"</span>:[
        ...
    ]
}
</code></pre>
<p>Response if <code>id</code> is specified: <code>true</code> or <code>false</code></p>

						</section>
					</article>
					
				
					
					<a id="047-api-links-link" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="POST img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
										
										
										
											<span class="img-rounded label-info">POST</span>
										
										
										<span class="gray">
											/v1/{type}/{id}/links/{id2} 
										</span>
									</code>
									<span class="hidden-xs">Link objects</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>This will link the object with <code>{id}</code> to another object with the specified id in the <code>id</code> parameter.
The created link represents a many-to-many relationship (see also <a href="#019-one-to-many">one-to-many relationships</a>).</p>
<p>Creating one-to-many links is trivial - just set the <code>parentid</code> of an object (child) to be equal to
the <code>id</code> field of another object (parent).</p>
<p><code>PUT</code> requests to this resource are equivalent to <code>POST</code>.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{type}</code> - the type of the first object, e.g. “users”</li>
<li><code>{id}</code> - the <code>id</code> of the first object</li>
<li><code>{id2}</code> - the <code>id</code> field of the second object (required)</li>
</ul>
<h3 id="response">Response</h3>
<p>Returns the <code>id</code> of the <code>Linker</code> object - the <code>linkId</code> - which contains the types and ids of the two objects.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code> (if any of the parameters are missing)</li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js"><span class="hljs-string">"type1:id1:type2:id2"</span>
</code></pre>

						</section>
					</article>
					
				
					
					<a id="048-api-links-unlink" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="DELETE img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
										
										
										
										
											<span class="img-rounded label-danger">DELETE</span>
										
										<span class="gray">
											/v1/{type}/{id}/links/{type2}/{id2} 
										</span>
									</code>
									<span class="hidden-xs">Unlink objects</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>Unlinks or deletes the objects linked to the object with the specified <code>{id}</code>.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{type}</code> - the type of the first object, e.g. “users”</li>
<li><code>{id}</code> - the <code>id</code> of the first object</li>
<li><code>{type2}</code> - the <code>type</code> of the second object (not required, if this and <code>{id2}</code> are missing, it will unlink everything)</li>
<li><code>{id2}</code> - the <code>id</code> field of the second object (not required)</li>
</ul>
<h4 id="parameters">Parameters</h4>
<ul>
<li><code>all</code> - setting this will <strong>delete all</strong> linked objects (be careful!)</li>
<li><code>childrenonly</code> - if set, all child objects will be deleted rather than unlinked (be careful!)</li>
</ul>
<p><strong>Note:</strong></p>
<ul>
<li>If both <code>{type2}</code> and <code>{id2}</code> are not set, <strong>all linked objects will be unlinked from this one</strong>.</li>
<li>If <code>id</code> is set - the two objects are unlinked.</li>
<li>If <code>all</code> and <code>id</code> are not set, but <code>childrenonly</code> is set then the child objects with type <code>type</code> are <strong>deleted</strong>!
(these are the objects with <code>parentid</code> equal to <code>{id}</code> above)</li>
</ul>
<h3 id="response">Response</h3>
<ul>
<li><strong>status codes</strong> - <code>200</code></li>
</ul>
<p>No content.</p>

						</section>
					</article>
					
				
					
					<a id="049-api-constraints-add" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="PUT img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
										
											<span class="img-rounded label-warning">PUT</span>
										
										
										
										
										<span class="gray">
											/v1/_constraints/{type}/{field}/{cname} 
										</span>
									</code>
									<span class="hidden-xs">Add constraint</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>Adds a new validation constraint to the list of constraints for the given field and type.</p>
<h3 id="request">Request</h3>
<ul>
<li><strong>body</strong> - the JSON payload of the constraint (see the table below)</li>
<li><code>{type}</code> - the object type to which the constraint applies (required)</li>
<li><code>{field}</code> - the name of the field to which the constraint applies (required)</li>
<li><p><code>{cname}</code> - the constraint name (required), one of the following:</p>
<table class="table table-striped">
  <thead>
      <tr>
          <th>Name</th>
          <th>Payload (example)</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>required</code></td><td>none</td>
      </tr>
      <tr>
          <td><code>email</code></td><td>none</td>
      </tr>
      <tr>
          <td><code>false</code></td><td>none</td>
      </tr>
      <tr>
          <td><code>true</code></td><td>none</td>
      </tr>
      <tr>
          <td><code>past</code></td><td>none</td>
      </tr>
      <tr>
          <td><code>present</code></td><td>none</td>
      </tr>
      <tr>
          <td><code>url</code></td><td>none</td>
      </tr>
      <tr>
          <td><code>min</code></td><td><code>{ &quot;value&quot;: 123 }</code></td>
      </tr>
      <tr>
          <td><code>max</code></td><td><code>{ &quot;value&quot;: 123 }</code></td>
      </tr>
      <tr>
          <td><code>size</code></td><td><code>{ &quot;min&quot;: 123, &quot;max&quot;: 456 }</code></td>
      </tr>
      <tr>
          <td><code>digits</code></td><td><code>{ &quot;integer&quot;: 4, &quot;fraction&quot;: 2 }</code></td>
      </tr>
      <tr>
          <td><code>pattern</code></td><td><code>{ &quot;value&quot;: &quot;^[a-zA-Z]+$&quot; }</code></td>
      </tr>
  </tbody>
</table>

</li>
</ul>
<h3 id="response">Response</h3>
<p>Returns a JSON object containing the validation constraints for the given type.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code></li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"User"</span> : {
        <span class="hljs-string">"identifier"</span> : {
            <span class="hljs-string">"required"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.required"</span>
            }
        },
        <span class="hljs-string">"groups"</span> : {
            <span class="hljs-string">"required"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.required"</span>
            }
        },
        <span class="hljs-string">"email"</span> : {
            <span class="hljs-string">"required"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.required"</span>
            },
            <span class="hljs-string">"email"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.email"</span>
            }
        }
    },
    ...
}
</code></pre>

						</section>
					</article>
					
				
					
					<a id="049-api-constraints-get" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
											<span class="img-rounded label-success">GET</span>
										
										
										
										
										
										<span class="gray">
											/v1/_constraints/{type} 
										</span>
									</code>
									<span class="hidden-xs">List constraints</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>Returns an object containing all validation constraints for all defined types in the current app.
This information can be used to power client-side validation libraries like
<a href="https://github.com/netceteragroup/valdr">valdr</a>.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{type}</code> - when supplied, returns only the constraints for this type (optional). If this parameter is omitted, all
constraints for all types will be returned.</li>
</ul>
<h3 id="response">Response</h3>
<p>Returns a JSON object with all validation constraints for a given type. The <code>message</code> field is a
key that can be used to retrieve a localized message.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code></li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"User"</span> : {
        <span class="hljs-string">"identifier"</span> : {
            <span class="hljs-string">"required"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.required"</span>
            }
        },
        <span class="hljs-string">"groups"</span> : {
            <span class="hljs-string">"required"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.required"</span>
            }
        },
        <span class="hljs-string">"email"</span> : {
            <span class="hljs-string">"required"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.required"</span>
            },
            <span class="hljs-string">"email"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.email"</span>
            }
        }
    },
    ...
}
</code></pre>

						</section>
					</article>
					
				
					
					<a id="049-api-constraints-rem" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="DELETE img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
										
										
										
										
											<span class="img-rounded label-danger">DELETE</span>
										
										<span class="gray">
											/v1/_constraints/{type}/{field}/{cname} 
										</span>
									</code>
									<span class="hidden-xs">Remove constraint</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>Removes a validation constraint from the list of constraints for the given field and type.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{type}</code> - the object type to which the constraint applies (required)</li>
<li><code>{field}</code> - the name of the field to which the constraint applies (required)</li>
<li><code>{cname}</code> - the constraint name (required, see the table above)</li>
</ul>
<h3 id="response">Response</h3>
<p>Returns a JSON object containing the validation constraints for the given type.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code></li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"User"</span> : {
        <span class="hljs-string">"identifier"</span> : {
            <span class="hljs-string">"required"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.required"</span>
            }
        },
        <span class="hljs-string">"groups"</span> : {
            <span class="hljs-string">"required"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.required"</span>
            }
        },
        <span class="hljs-string">"email"</span> : {
            <span class="hljs-string">"required"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.required"</span>
            },
            <span class="hljs-string">"email"</span> : {
                <span class="hljs-string">"message"</span> : <span class="hljs-string">"messages.email"</span>
            }
        }
    },
    ...
}
</code></pre>

						</section>
					</article>
					
				
					
					<a id="049-api-id" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
											<span class="img-rounded label-success">GET</span>
										
										
										
										
										
										<span class="gray">
											/v1/_id/{id} 
										</span>
									</code>
									<span class="hidden-xs">Read by id</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>Returns the object for the given <code>{id}</code>.</p>
<h3 id="request">Request</h3>
<ul>
<li><code>{id}</code> - the <code>id</code></li>
</ul>
<h3 id="response">Response</h3>
<p>Returns a JSON object.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>404</code></li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"id"</span> : <span class="hljs-string">"417283630780387328"</span>,
  <span class="hljs-string">"timestamp"</span> : <span class="hljs-number">1409572755025</span>,
  <span class="hljs-string">"type"</span> : <span class="hljs-string">"user"</span>,
    <span class="hljs-string">"name"</span> : <span class="hljs-string">"Gordon Freeman"</span>
    ...
}
</code></pre>

						</section>
					</article>
					
				
					
					<a id="049-api-me" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
											<span class="img-rounded label-success">GET</span>
										
										
										
										
										
										<span class="gray">
											/v1/_me 
										</span>
									</code>
									<span class="hidden-xs">Me object</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>Returns the currently authenticated <code>User</code> or <code>App</code> object. If the request is unauthenticated 401 error is returned.</p>
<h3 id="request">Request</h3>
<p><strong>No parameters</strong>.</p>
<h3 id="response">Response</h3>
<p>Returns the JSON object for the authenticated <code>User</code> or <code>App</code>.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>401</code></li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"id"</span> : <span class="hljs-string">"417283630780387328"</span>,
  <span class="hljs-string">"timestamp"</span> : <span class="hljs-number">1409572755025</span>,
  <span class="hljs-string">"type"</span> : <span class="hljs-string">"user"</span>,
    <span class="hljs-string">"name"</span> : <span class="hljs-string">"Gordon Freeman"</span>
    ...
}
</code></pre>

						</section>
					</article>
					
				
					
					<a id="049-api-types-list" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
											<span class="img-rounded label-success">GET</span>
										
										
										
										
										
										<span class="gray">
											/v1/_types 
										</span>
									</code>
									<span class="hidden-xs">List types</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>Returns a list of all known types for this application, including core types and user-defined types.
User-defined types are custom types which can be defined through the REST API and allow the users to call
the standard CRUD methods on them as if they were defined as regular Para objects.
See <a href="#010-userdefined">User-defined classes</a> for more details.</p>
<h3 id="request">Request</h3>
<p><strong>No parameters</strong>.</p>
<h3 id="response">Response</h3>
<p>Returns a list of all types that are defined for this application.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code></li>
</ul>
<p>Example response for querying all types:</p>
<pre><code class="lang-js">[
    <span class="hljs-string">"addresses"</span>:<span class="hljs-string">"address"</span>,
    <span class="hljs-string">"apps"</span>:<span class="hljs-string">"app"</span>,
    <span class="hljs-string">"sysprops"</span>:<span class="hljs-string">"sysprop"</span>,
    <span class="hljs-string">"tags"</span>:<span class="hljs-string">"tag"</span>,
    <span class="hljs-string">"translations"</span>:<span class="hljs-string">"translation"</span>,
    <span class="hljs-string">"users"</span>:<span class="hljs-string">"user"</span>,
    <span class="hljs-string">"votes"</span>:<span class="hljs-string">"vote"</span>
]
</code></pre>

						</section>
					</article>
					
				
					
					<a id="050-api-setup" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
											<span class="img-rounded label-success">GET</span>
										
										
										
										
										
										<span class="gray">
											/v1/_setup 
										</span>
									</code>
									<span class="hidden-xs">Initial setup</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>Creates the root application and generates the first pair of API keys. Calling this method will enable you to access
the REST API.</p>
<h3 id="request">Request</h3>
<p><strong>No parameters</strong>.</p>
<h3 id="response">Response</h3>
<p>Returns the access and secret keys for this application which will be used for request signing.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code></li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"secretKey"</span>: <span class="hljs-string">"U3VTNifLPqnZ1W2S3pVVuKG4HOVbimMocdDMl8T69BB001AXGZtwZw=="</span>,
    <span class="hljs-string">"accessKey"</span>: <span class="hljs-string">"YXBwOnBhcmE="</span>,
    <span class="hljs-string">"info"</span>: <span class="hljs-string">"Save the secret key! It is showed only once!"</span>
}
</code></pre>
<p>Subsequent calls to this method return:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"code"</span>: <span class="hljs-number">200</span>
    <span class="hljs-string">"message"</span>: <span class="hljs-string">"All set!"</span>
}
</code></pre>

						</section>
					</article>
					
				
					
					<a id="051-api-newkeys" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="POST img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
										
										
										
											<span class="img-rounded label-info">POST</span>
										
										
										<span class="gray">
											/v1/_newkeys 
										</span>
									</code>
									<span class="hidden-xs">Reset API keys</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>This will reset your API secret key by generating a new one.
Make sure you save it and use it for signing future requests.</p>
<h3 id="request">Request</h3>
<p><strong>No parameters</strong>.</p>
<h3 id="response">Response</h3>
<p>Returns the access and secret keys for this application which will be used for request signing.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code></li>
</ul>
<p>Example response:</p>
<pre><code class="lang-js">{
    <span class="hljs-string">"secretKey"</span>: <span class="hljs-string">"U3VTNifLPqnZ1W2S3pVVuKG4HOVbimMocdDMl8T69BB001AXGZtwZw=="</span>,
    <span class="hljs-string">"accessKey"</span>: <span class="hljs-string">"YXBwOnBhcmE="</span>,
    <span class="hljs-string">"info"</span>: <span class="hljs-string">"Save the secret key! It is showed only once!"</span>
}
</code></pre>

						</section>
					</article>
					
				
					
					<a id="052-api-utils" href="#" class="doc-anchor"><i class="fa fa-link fa-lg"></i></a>
					<article class="GET img-rounded">
						
							<a href="#">
								<h2 class="img-rounded">
									<code>
										
											<span class="img-rounded label-success">GET</span>
										
										
										
										
										
										<span class="gray">
											/v1/utils/{method} 
										</span>
									</code>
									<span class="hidden-xs">Utilities</span>
								</h2>
							</a>
						
						<section class="body img-rounded">
							<p>Utility functions which can be accessed via the REST API include (listed by the method’s short name):</p>
<ul>
<li><code>newid</code> - calls <code>Utils.getNewId()</code></li>
<li><code>timestamp</code> - calls <code>Utils.timestamp()</code></li>
<li><code>formatdate</code> - calls <code>Utils.formatDate(format, locale)</code>, additional parameters: <code>format</code> (e.g. “dd MM yyyy”), <code>locale</code>.</li>
<li><code>formatmessage</code> - calls <code>Utils.formatMessage(msg, params)</code>, additional parameters: <code>message</code> (the message to format)</li>
<li><code>nospaces</code> - calls <code>Utils.noSpaces(str, repl)</code>, additional parameters: <code>string</code> (the string to process)</li>
<li><code>nosymbols</code> - calls <code>Utils.stripAndTrim(str)</code>, additional parameters: <code>string</code> (the string to process)</li>
<li><code>md2html</code> - calls <code>Utils.markdownToHtml(md)</code>, additional parameters: <code>md</code> (a Markdown string)</li>
<li><code>timeago</code> - calls <code>HumanTime.approximately(delta)</code>, additional parameters: <code>delta</code> (time difference between now and then)</li>
</ul>
<p><strong>Example:</strong> <code>GET /v1/utils?method=nospaces&amp;string=some string with spaces</code></p>
<h3 id="request">Request</h3>
<ul>
<li><code>{method}</code> - the name of the method to call (one of the above)</li>
</ul>
<h3 id="response">Response</h3>
<p>Returns a JSON object.</p>
<ul>
<li><strong>status codes</strong> - <code>200</code>, <code>400</code> (if no method is specified)</li>
</ul>
<p>Example response - returns the result without envelope:</p>
<pre><code class="lang-js"><span class="hljs-string">"result"</span>
</code></pre>

						</section>
					</article>
					
				
			</section>
		</div>
	</div>
</section>


		<!-- Footer Content -->
		<div class="container">
	<p>&nbsp;</p>
	<footer>
		<div class="row">
			<div class="col-lg-12 text-center">
				<p>Generated on <i>2015-10-14</i> with <a href="https://github.com/albogdano/bootup">bootUP</a> and hosted on <a href="https://github.com/erudika/paraio.org"><i class="fa fa-github fa-lg"></i></a></p>
				<p>&copy; 2015 <a href="http://erudika.com">Erudika</a></p>
			</div>
		</div>
	</footer>
</div>


		<script src="//code.jquery.com/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/prettify/r298/run_prettify.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/prettify/r298/lang-basic.min.js"></script>
		<script src="/js/main.js"></script>

		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
			ga('create', 'UA-51972923-1', 'paraio.org');
			ga('send', 'pageview');
		</script>
	</body>
</html>